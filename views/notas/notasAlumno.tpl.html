<div ng-if="!USER.pazysalvo &amp;&amp; hasRoleOrPerm(['alumno'])" class="col-lg-12"> <div class="widget"> <div class="widget-header bg-red"><i class="widget-icon fa fa-warning"></i> <div class="widget-caption">Notas bloqueadas</div> </div> <div class="widget-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <p>Lo sentimos, para ver sus notas debe acercarse a hacer arreglos en tesorería.</p> </div> </div> <div class="row"> <div class="col-lg-12 col-xs-12"> <p>Su deuda es: {{USER.deuda | currency:"$":0}}</p> </div> </div> </div> </div> </div> <div ng-if=" (USER.alumnos_can_see_notas &amp;&amp; hasRoleOrPerm(['alumno', 'acudiente']) ) || !hasRoleOrPerm(['alumno', 'acudiente'])" class="col-lg-12"> <div class="widget"> <div class="widget-header bg-blue"><i class="widget-icon fa fa-bar-chart"></i> <div class="widget-caption">Alumno</div> <div class="widget-buttons"><a href="" ng-init="minimized = false" ng-click="minimized = !minimized"><i ng-class="{false: 'fa-minus', true: 'fa-plus'}[minimized]" class="fa"></i></a></div> </div> <div ng-class="{'ng-hide':minimized}" class="widget-body"> <div ng-if="!hasRoleOrPerm('alumno')" class="row"> <div class="col-lg-12 col-xs-12"> <div class="form-group"> <label>Grupo</label> <ui-select ng-model="datos.grupo" on-select="selectGrupo($item)" style="width: 300px; display: inline-block"> <ui-select-match placeholder="Grupo" allow-clear="true">{{$select.selected.nombre}}</ui-select-match> <ui-select-choices repeat="grupo in grupos | filter: $select.search"> <div ng-bind-html="grupo.nombre | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </div> <div ng-if="!hasRoleOrPerm('alumno')" class="row"> <div class="col-lg-12 col-xs-12"> <div class="form-group"> <label>Alumno</label> <ui-select ng-model="datos.selected_alumno" on-select="selectAlumno($item)" style="width: 300px"> <ui-select-match placeholder="Elige un alumno" allow-clear="true"> <img ng-src="{{perfilPath + $select.selected.foto_nombre}}" style="width:25px; height:25px">{{$select.selected.nombres}} {{$select.selected.apellidos}}</ui-select-match> <ui-select-choices repeat="alumno in filtered_alumnos | filter: $select.search"><img ng-src="{{perfilPath + alumno.foto_nombre}}" style="width:25px; height:25px"><small ng-bind-html="alumno.nombres + ' ' + alumno.apellidos | highlight: $select.search"></small></ui-select-choices> </ui-select><a href="" ng-click="verNotasAlumno()" class="btn btn-default">Ver notas</a> </div> </div> </div> <div class="row"> <div class="col-lg-2 col-sm-4 col-xs-12"> <div class="form-group"> <label>Solo perdidas</label> <label> <input type="checkbox" ng-model="config.solo_notas_perdidas" class="checkbox-slider slider-icon colored-blue"><span class="text si-no"></span> </label> </div> </div> </div> </div> </div> <uib-accordion close-others="true"> <uib-accordion-group heading="Periodo {{periodo.numero}} ({{periodo.asignaturas | notasPerdidasAsignaturas}})" ng-repeat="periodo in periodos"> <div ng-repeat="asignatura in periodo.asignaturas | soloAsignaturasConPerdidas:config.solo_notas_perdidas" class="materia-item animated"> <div style="font-size: 10pt" popover="&lt;img src='{{perfilPath + asignatura.foto_nombre}}' style='width: 150px; height: 150px;'&gt;" popover-title="{{asignatura.nombres_profesor + ' ' + asignatura.apellidos_profesor}}" popover-animation="true" popover-trigger="mouseenter" class="row materia-title"> <div class="col-lg-9 col-xs-9"><span class="materia-name">{{asignatura.materia}}</span><span ng-if="!hasRoleOrPerm('profesor')" class="materia-profesor">- Pr. {{asignatura.nombres_profesor | capitalize}}</span></div> <div ng-class="{'nota-perdida': asignatura.nota_asignatura&lt;USER.nota_minima_aceptada}" class="col-lg-1 col-xs-2">{{ asignatura.nota_asignatura | juicioValorativo:escalas:true}} </div> <div class="col-lg-1 col-xs-1"> <div ng-class="{'nota-perdida-bold': asignatura.nota_asignatura&lt;USER.nota_minima_aceptada}">{{asignatura.nota_asignatura | number:0}}</div> </div> </div> <div class="row unidades-list"> <div class="col-lg-12 col-xs-12"> <div ng-repeat="unidad in asignatura.unidades | soloUnidadesConPerdidas:config.solo_notas_perdidas" class="row unidades-item animated"> <div class="col-lg-12 col-xs-12"> <div class="row"> <div class="col-lg-10 col-xs-10 unidad-definicion">{{unidad.definicion_unidad}}</div> <div class="col-lg-1 col-xs-2 unidad-porc">{{unidad.porcentaje_unidad}}% - {{unidad.nota_unidad | number:0}}</div> </div> <div ng-repeat="subunidad in unidad.subunidades | soloSubunidadesPerdidas:config.solo_notas_perdidas" style="font-size: 9pt" class="row subunidades-list"> <div class="col-lg-12 col-xs-12"> <div class="row"> <div class="col-lg-10 col-xs-10 subunidad-definicion">{{subunidad.definicion_subunidad}}</div> <div class="col-lg-1 col-xs-1 subunidad-porc">{{subunidad.porcentaje_subunidad}}%</div> <div ng-if="!hasRoleOrPerm(['admin', 'profesor'])" class="col-lg-1 col-xs-1 subunidad-nota puntero"><span ng-class="{'nota-perdida-bold': subunidad.nota.nota&lt;USER.nota_minima_aceptada}" uib-tooltip="Valor nota: {{subunidad.nota.valor}}">{{subunidad.nota.nota}}</span><span ng-show="!subunidad.nota.nota &amp;&amp; subunidad.nota.nota!=0" uib-tooltip="Aún sin nota" class="nota-perdida"><i class="fa fa-warning"></i></span></div> <div ng-class="{'inputnota-perdida': subunidad.nota.nota &lt; USER.nota_minima_aceptada}" ng-if="hasRoleOrPerm(['admin', 'profesor'])" class="col-lg-1 col-xs-1"> <input type="number" min="0" max="100" ng-model="subunidad.nota.nota" ng-change="cambiaNota(subunidad.nota, subunidad.nota.nota)" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0} }"> </div> </div> </div> </div> </div> </div> </div> </div> </div> </uib-accordion-group> </uib-accordion> </div> <div ng-if="!USER.alumnos_can_see_notas &amp;&amp; hasRoleOrPerm(['alumno', 'acudiente'])" class="col-lg-12"> <div class="widget"> <div class="widget-header bg-red"><i class="widget-icon fa fa-warning"></i> <div class="widget-caption">Notas bloqueadas</div> </div> <div class="widget-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <p>Lo sentimos, pero el sistema ha sido blequeado por un administrador y no puedes ver tus notas.</p> </div> </div> </div> </div> </div>