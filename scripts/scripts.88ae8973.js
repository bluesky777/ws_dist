function ECB(a,b){this.count=a,this.dataCodewords=b,this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}function ECBlocks(a,b,c){this.ecCodewordsPerBlock=a,c?this.ecBlocks=new Array(b,c):this.ecBlocks=new Array(b),this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock}),this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks}),this.__defineGetter__("NumBlocks",function(){for(var a=0,b=0;b<this.ecBlocks.length;b++)a+=this.ecBlocks[b].length;return a}),this.getECBlocks=function(){return this.ecBlocks}}function Version(a,b,c,d,e,f){this.versionNumber=a,this.alignmentPatternCenters=b,this.ecBlocks=new Array(c,d,e,f);for(var g=0,h=c.ECCodewordsPerBlock,i=c.getECBlocks(),j=0;j<i.length;j++){var k=i[j];g+=k.Count*(k.DataCodewords+h)}this.totalCodewords=g,this.__defineGetter__("VersionNumber",function(){return this.versionNumber}),this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters}),this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords}),this.__defineGetter__("DimensionForVersion",function(){return 17+4*this.versionNumber}),this.buildFunctionPattern=function(){var a=this.DimensionForVersion,b=new BitMatrix(a);b.setRegion(0,0,9,9),b.setRegion(a-8,0,8,9),b.setRegion(0,a-8,9,8);for(var c=this.alignmentPatternCenters.length,d=0;c>d;d++)for(var e=this.alignmentPatternCenters[d]-2,f=0;c>f;f++)0==d&&(0==f||f==c-1)||d==c-1&&0==f||b.setRegion(this.alignmentPatternCenters[f]-2,e,5,5);return b.setRegion(6,9,1,a-17),b.setRegion(9,6,a-17,1),this.versionNumber>6&&(b.setRegion(a-11,0,3,6),b.setRegion(0,a-11,6,3)),b},this.getECBlocksForLevel=function(a){return this.ecBlocks[a.ordinal()]}}function buildVersions(){return new Array(new Version(1,new Array,new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,new Array(6,18),new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,new Array(6,22),new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,new Array(6,26),new ECBlocks(20,new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,new Array(6,30),new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,new Array(6,34),new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,new Array(6,22,38),new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,new Array(6,24,42),new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,new Array(6,26,46),new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,new Array(6,28,50),new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,new Array(6,30,54),new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,new Array(6,32,58),new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,new Array(6,34,62),new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,new Array(6,26,46,66),new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,new Array(6,26,48,70),new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,new Array(6,26,50,74),new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,new Array(6,30,54,78),new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,new Array(6,30,56,82),new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,new Array(6,30,58,86),new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,new ECB(9,13),new ECB(16,14))),new Version(20,new Array(6,34,62,90),new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,new Array(6,28,50,72,94),new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,new Array(6,26,50,74,98),new ECBlocks(28,new ECB(2,111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,new Array(6,30,54,74,102),new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,new Array(6,28,54,80,106),new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,new Array(6,32,58,84,110),new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,new Array(6,30,58,86,114),new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),new Version(27,new Array(6,34,62,90,118),new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,new Array(6,26,50,74,98,122),new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,new Array(6,30,54,78,102,126),new ECBlocks(30,new ECB(7,116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,new Array(6,26,52,78,104,130),new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,new Array(6,30,56,82,108,134),new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,new Array(6,34,60,86,112,138),new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,new Array(6,30,58,86,114,142),new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,new ECB(11,15),new ECB(46,16))),new Version(34,new Array(6,34,62,90,118,146),new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,new Array(6,30,54,78,102,126,150),new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,new Array(6,24,50,76,102,128,154),new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,new Array(6,28,54,80,106,132,158),new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,new Array(6,32,58,84,110,136,162),new ECBlocks(30,new ECB(4,122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,new Array(6,26,54,82,110,138,166),new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,new Array(6,30,58,86,114,142,170),new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16))))}function PerspectiveTransform(a,b,c,d,e,f,g,h,i){this.a11=a,this.a12=d,this.a13=g,this.a21=b,this.a22=e,this.a23=h,this.a31=c,this.a32=f,this.a33=i,this.transformPoints1=function(a){for(var b=a.length,c=this.a11,d=this.a12,e=this.a13,f=this.a21,g=this.a22,h=this.a23,i=this.a31,j=this.a32,k=this.a33,l=0;b>l;l+=2){var m=a[l],n=a[l+1],o=e*m+h*n+k;a[l]=(c*m+f*n+i)/o,a[l+1]=(d*m+g*n+j)/o}},this.transformPoints2=function(a,b){for(var c=a.length,d=0;c>d;d++){var e=a[d],f=b[d],g=this.a13*e+this.a23*f+this.a33;a[d]=(this.a11*e+this.a21*f+this.a31)/g,b[d]=(this.a12*e+this.a22*f+this.a32)/g}},this.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},this.times=function(a){return new PerspectiveTransform(this.a11*a.a11+this.a21*a.a12+this.a31*a.a13,this.a11*a.a21+this.a21*a.a22+this.a31*a.a23,this.a11*a.a31+this.a21*a.a32+this.a31*a.a33,this.a12*a.a11+this.a22*a.a12+this.a32*a.a13,this.a12*a.a21+this.a22*a.a22+this.a32*a.a23,this.a12*a.a31+this.a22*a.a32+this.a32*a.a33,this.a13*a.a11+this.a23*a.a12+this.a33*a.a13,this.a13*a.a21+this.a23*a.a22+this.a33*a.a23,this.a13*a.a31+this.a23*a.a32+this.a33*a.a33)}}function DetectorResult(a,b){this.bits=a,this.points=b}function Detector(a){this.image=a,this.resultPointCallback=null,this.sizeOfBlackWhiteBlackRun=function(a,b,c,d){var e=Math.abs(d-b)>Math.abs(c-a);if(e){var f=a;a=b,b=f,f=c,c=d,d=f}for(var g=Math.abs(c-a),h=Math.abs(d-b),i=-g>>1,j=d>b?1:-1,k=c>a?1:-1,l=0,m=a,n=b;m!=c;m+=k){var o=e?n:m,p=e?m:n;if(1==l?this.image[o+p*qrcode.width]&&l++:this.image[o+p*qrcode.width]||l++,3==l){var q=m-a,r=n-b;return Math.sqrt(q*q+r*r)}if(i+=h,i>0){if(n==d)break;n+=j,i-=g}}var s=c-a,t=d-b;return Math.sqrt(s*s+t*t)},this.sizeOfBlackWhiteBlackRunBothWays=function(a,b,c,d){var e=this.sizeOfBlackWhiteBlackRun(a,b,c,d),f=1,g=a-(c-a);0>g?(f=a/(a-g),g=0):g>=qrcode.width&&(f=(qrcode.width-1-a)/(g-a),g=qrcode.width-1);var h=Math.floor(b-(d-b)*f);return f=1,0>h?(f=b/(b-h),h=0):h>=qrcode.height&&(f=(qrcode.height-1-b)/(h-b),h=qrcode.height-1),g=Math.floor(a+(g-a)*f),e+=this.sizeOfBlackWhiteBlackRun(a,b,g,h),e-1},this.calculateModuleSizeOneWay=function(a,b){var c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.X),Math.floor(a.Y),Math.floor(b.X),Math.floor(b.Y)),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(b.X),Math.floor(b.Y),Math.floor(a.X),Math.floor(a.Y));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14},this.calculateModuleSize=function(a,b,c){return(this.calculateModuleSizeOneWay(a,b)+this.calculateModuleSizeOneWay(a,c))/2},this.distance=function(a,b){return xDiff=a.X-b.X,yDiff=a.Y-b.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)},this.computeDimension=function(a,b,c,d){var e=Math.round(this.distance(a,b)/d),f=Math.round(this.distance(a,c)/d),g=(e+f>>1)+7;switch(3&g){case 0:g++;break;case 2:g--;break;case 3:throw"Error"}return g},this.findAlignmentInRegion=function(a,b,c,d){var e=Math.floor(d*a),f=Math.max(0,b-e),g=Math.min(qrcode.width-1,b+e);if(3*a>g-f)throw"Error";var h=Math.max(0,c-e),i=Math.min(qrcode.height-1,c+e),j=new AlignmentPatternFinder(this.image,f,h,g-f,i-h,a,this.resultPointCallback);return j.find()},this.createTransform=function(a,b,c,d,e){var f,g,h,i,j=e-3.5;null!=d?(f=d.X,g=d.Y,h=i=j-3):(f=b.X-a.X+c.X,g=b.Y-a.Y+c.Y,h=i=j);var k=PerspectiveTransform.quadrilateralToQuadrilateral(3.5,3.5,j,3.5,h,i,3.5,j,a.X,a.Y,b.X,b.Y,f,g,c.X,c.Y);return k},this.sampleGrid=function(a,b,c){var d=GridSampler;return d.sampleGrid3(a,c,b)},this.processFinderPatternInfo=function(a){var b=a.TopLeft,c=a.TopRight,d=a.BottomLeft,e=this.calculateModuleSize(b,c,d);if(1>e)throw"Error";var f=this.computeDimension(b,c,d,e),g=Version.getProvisionalVersionForDimension(f),h=g.DimensionForVersion-7,i=null;if(g.AlignmentPatternCenters.length>0)for(var j=c.X-b.X+d.X,k=c.Y-b.Y+d.Y,l=1-3/h,m=Math.floor(b.X+l*(j-b.X)),n=Math.floor(b.Y+l*(k-b.Y)),o=4;16>=o;o<<=1){i=this.findAlignmentInRegion(e,m,n,o);break}var p,q=this.createTransform(b,c,d,i,f),r=this.sampleGrid(this.image,q,f);return p=null==i?new Array(d,b,c):new Array(d,b,c,i),new DetectorResult(r,p)},this.detect=function(){var a=(new FinderPatternFinder).findFinderPattern(this.image);return this.processFinderPatternInfo(a)}}function FormatInformation(a){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(a>>3&3),this.dataMask=7&a,this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel}),this.__defineGetter__("DataMask",function(){return this.dataMask}),this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|dataMask},this.Equals=function(a){var b=a;return this.errorCorrectionLevel==b.errorCorrectionLevel&&this.dataMask==b.dataMask}}function ErrorCorrectionLevel(a,b,c){this.ordinal_Renamed_Field=a,this.bits=b,this.name=c,this.__defineGetter__("Bits",function(){return this.bits}),this.__defineGetter__("Name",function(){return this.name}),this.ordinal=function(){return this.ordinal_Renamed_Field}}function BitMatrix(a,b){if(b||(b=a),1>a||1>b)throw"Both dimensions must be greater than 0";this.width=a,this.height=b;var c=a>>5;0!=(31&a)&&c++,this.rowSize=c,this.bits=new Array(c*b);for(var d=0;d<this.bits.length;d++)this.bits[d]=0;this.__defineGetter__("Width",function(){return this.width}),this.__defineGetter__("Height",function(){return this.height}),this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}),this.get_Renamed=function(a,b){var c=b*this.rowSize+(a>>5);return 0!=(1&URShift(this.bits[c],31&a))},this.set_Renamed=function(a,b){var c=b*this.rowSize+(a>>5);this.bits[c]|=1<<(31&a)},this.flip=function(a,b){var c=b*this.rowSize+(a>>5);this.bits[c]^=1<<(31&a)},this.clear=function(){for(var a=this.bits.length,b=0;a>b;b++)this.bits[b]=0},this.setRegion=function(a,b,c,d){if(0>b||0>a)throw"Left and top must be nonnegative";if(1>d||1>c)throw"Height and width must be at least 1";var e=a+c,f=b+d;if(f>this.height||e>this.width)throw"The region must fit inside the matrix";for(var g=b;f>g;g++)for(var h=g*this.rowSize,i=a;e>i;i++)this.bits[h+(i>>5)]|=1<<(31&i)}}function DataBlock(a,b){this.numDataCodewords=a,this.codewords=b,this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords}),this.__defineGetter__("Codewords",function(){return this.codewords})}function BitMatrixParser(a){var b=a.Dimension;if(21>b||1!=(3&b))throw"Error BitMatrixParser";this.bitMatrix=a,this.parsedVersion=null,this.parsedFormatInfo=null,this.copyBit=function(a,b,c){return this.bitMatrix.get_Renamed(a,b)?c<<1|1:c<<1},this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var a=0,b=0;6>b;b++)a=this.copyBit(b,8,a);a=this.copyBit(7,8,a),a=this.copyBit(8,8,a),a=this.copyBit(8,7,a);for(var c=5;c>=0;c--)a=this.copyBit(8,c,a);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(a),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var d=this.bitMatrix.Dimension;a=0;for(var e=d-8,b=d-1;b>=e;b--)a=this.copyBit(b,8,a);for(var c=d-7;d>c;c++)a=this.copyBit(8,c,a);if(this.parsedFormatInfo=FormatInformation.decodeFormatInformation(a),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var a=this.bitMatrix.Dimension,b=a-17>>2;if(6>=b)return Version.getVersionForNumber(b);for(var c=0,d=a-11,e=5;e>=0;e--)for(var f=a-9;f>=d;f--)c=this.copyBit(f,e,c);if(this.parsedVersion=Version.decodeVersionInformation(c),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;c=0;for(var f=5;f>=0;f--)for(var e=a-9;e>=d;e--)c=this.copyBit(f,e,c);if(this.parsedVersion=Version.decodeVersionInformation(c),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;throw"Error readVersion"},this.readCodewords=function(){var a=this.readFormatInformation(),b=this.readVersion(),c=DataMask.forReference(a.DataMask),d=this.bitMatrix.Dimension;c.unmaskBitMatrix(this.bitMatrix,d);for(var e=b.buildFunctionPattern(),f=!0,g=new Array(b.TotalCodewords),h=0,i=0,j=0,k=d-1;k>0;k-=2){6==k&&k--;for(var l=0;d>l;l++)for(var m=f?d-1-l:l,n=0;2>n;n++)e.get_Renamed(k-n,m)||(j++,i<<=1,this.bitMatrix.get_Renamed(k-n,m)&&(i|=1),8==j&&(g[h++]=i,j=0,i=0));f^=!0}if(h!=b.TotalCodewords)throw"Error readCodewords";return g}}function DataMask000(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==(a+b&1)}}function DataMask001(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==(1&a)}}function DataMask010(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return b%3==0}}function DataMask011(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return(a+b)%3==0}}function DataMask100(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==(URShift(a,1)+b/3&1)}}function DataMask101(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){var c=a*b;return(1&c)+c%3==0}}function DataMask110(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){var c=a*b;return 0==((1&c)+c%3&1)}}function DataMask111(){this.unmaskBitMatrix=function(a,b){for(var c=0;b>c;c++)for(var d=0;b>d;d++)this.isMasked(c,d)&&a.flip(d,c)},this.isMasked=function(a,b){return 0==((a+b&1)+a*b%3&1)}}function ReedSolomonDecoder(a){this.field=a,this.decode=function(a,b){for(var c=new GF256Poly(this.field,a),d=new Array(b),e=0;e<d.length;e++)d[e]=0;for(var f=!1,g=!0,e=0;b>e;e++){var h=c.evaluateAt(this.field.exp(f?e+1:e));d[d.length-1-e]=h,0!=h&&(g=!1)}if(!g)for(var i=new GF256Poly(this.field,d),j=this.runEuclideanAlgorithm(this.field.buildMonomial(b,1),i,b),k=j[0],l=j[1],m=this.findErrorLocations(k),n=this.findErrorMagnitudes(l,m,f),e=0;e<m.length;e++){var o=a.length-1-this.field.log(m[e]);if(0>o)throw"ReedSolomonException Bad error location";a[o]=GF256.addOrSubtract(a[o],n[e])}},this.runEuclideanAlgorithm=function(a,b,c){if(a.Degree<b.Degree){var d=a;a=b,b=d}for(var e=a,f=b,g=this.field.One,h=this.field.Zero,i=this.field.Zero,j=this.field.One;f.Degree>=Math.floor(c/2);){var k=e,l=g,m=i;if(e=f,g=h,i=j,e.Zero)throw"r_{i-1} was zero";f=k;for(var n=this.field.Zero,o=e.getCoefficient(e.Degree),p=this.field.inverse(o);f.Degree>=e.Degree&&!f.Zero;){var q=f.Degree-e.Degree,r=this.field.multiply(f.getCoefficient(f.Degree),p);n=n.addOrSubtract(this.field.buildMonomial(q,r)),f=f.addOrSubtract(e.multiplyByMonomial(q,r))}h=n.multiply1(g).addOrSubtract(l),j=n.multiply1(i).addOrSubtract(m)}var s=j.getCoefficient(0);if(0==s)throw"ReedSolomonException sigmaTilde(0) was zero";var t=this.field.inverse(s),u=j.multiply2(t),v=f.multiply2(t);return new Array(u,v)},this.findErrorLocations=function(a){var b=a.Degree;if(1==b)return new Array(a.getCoefficient(1));for(var c=new Array(b),d=0,e=1;256>e&&b>d;e++)0==a.evaluateAt(e)&&(c[d]=this.field.inverse(e),d++);if(d!=b)throw"Error locator degree does not match number of roots";return c},this.findErrorMagnitudes=function(a,b,c){for(var d=b.length,e=new Array(d),f=0;d>f;f++){for(var g=this.field.inverse(b[f]),h=1,i=0;d>i;i++)f!=i&&(h=this.field.multiply(h,GF256.addOrSubtract(1,this.field.multiply(b[i],g))));e[f]=this.field.multiply(a.evaluateAt(g),this.field.inverse(h)),c&&(e[f]=this.field.multiply(e[f],g))}return e}}function GF256Poly(a,b){if(null==b||0==b.length)throw"System.ArgumentException";this.field=a;var c=b.length;if(c>1&&0==b[0]){for(var d=1;c>d&&0==b[d];)d++;if(d==c)this.coefficients=a.Zero.coefficients;else{this.coefficients=new Array(c-d);for(var e=0;e<this.coefficients.length;e++)this.coefficients[e]=0;for(var f=0;f<this.coefficients.length;f++)this.coefficients[f]=b[d+f]}}else this.coefficients=b;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]}),this.__defineGetter__("Degree",function(){return this.coefficients.length-1}),this.__defineGetter__("Coefficients",function(){return this.coefficients}),this.getCoefficient=function(a){return this.coefficients[this.coefficients.length-1-a]},this.evaluateAt=function(a){if(0==a)return this.getCoefficient(0);var b=this.coefficients.length;if(1==a){for(var c=0,d=0;b>d;d++)c=GF256.addOrSubtract(c,this.coefficients[d]);return c}for(var e=this.coefficients[0],d=1;b>d;d++)e=GF256.addOrSubtract(this.field.multiply(a,e),this.coefficients[d]);return e},this.addOrSubtract=function(b){if(this.field!=b.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return b;if(b.Zero)return this;var c=this.coefficients,d=b.coefficients;if(c.length>d.length){var e=c;c=d,d=e}for(var f=new Array(d.length),g=d.length-c.length,h=0;g>h;h++)f[h]=d[h];for(var i=g;i<d.length;i++)f[i]=GF256.addOrSubtract(c[i-g],d[i]);return new GF256Poly(a,f)},this.multiply1=function(a){if(this.field!=a.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||a.Zero)return this.field.Zero;for(var b=this.coefficients,c=b.length,d=a.coefficients,e=d.length,f=new Array(c+e-1),g=0;c>g;g++)for(var h=b[g],i=0;e>i;i++)f[g+i]=GF256.addOrSubtract(f[g+i],this.field.multiply(h,d[i]));return new GF256Poly(this.field,f)},this.multiply2=function(a){if(0==a)return this.field.Zero;if(1==a)return this;for(var b=this.coefficients.length,c=new Array(b),d=0;b>d;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new GF256Poly(this.field,c)},this.multiplyByMonomial=function(a,b){if(0>a)throw"System.ArgumentException";if(0==b)return this.field.Zero;for(var c=this.coefficients.length,d=new Array(c+a),e=0;e<d.length;e++)d[e]=0;for(var e=0;c>e;e++)d[e]=this.field.multiply(this.coefficients[e],b);return new GF256Poly(this.field,d)},this.divide=function(a){if(this.field!=a.field)throw"GF256Polys do not have same GF256 field";if(a.Zero)throw"Divide by 0";for(var b=this.field.Zero,c=this,d=a.getCoefficient(a.Degree),e=this.field.inverse(d);c.Degree>=a.Degree&&!c.Zero;){var f=c.Degree-a.Degree,g=this.field.multiply(c.getCoefficient(c.Degree),e),h=a.multiplyByMonomial(f,g),i=this.field.buildMonomial(f,g);b=b.addOrSubtract(i),c=c.addOrSubtract(h)}return new Array(b,c)}}function GF256(a){this.expTable=new Array(256),this.logTable=new Array(256);for(var b=1,c=0;256>c;c++)this.expTable[c]=b,b<<=1,b>=256&&(b^=a);for(var c=0;255>c;c++)this.logTable[this.expTable[c]]=c;var d=new Array(1);d[0]=0,this.zero=new GF256Poly(this,new Array(d));var e=new Array(1);e[0]=1,this.one=new GF256Poly(this,new Array(e)),this.__defineGetter__("Zero",function(){return this.zero}),this.__defineGetter__("One",function(){return this.one}),this.buildMonomial=function(a,b){if(0>a)throw"System.ArgumentException";if(0==b)return zero;for(var c=new Array(a+1),d=0;d<c.length;d++)c[d]=0;return c[0]=b,new GF256Poly(this,c)},this.exp=function(a){return this.expTable[a]},this.log=function(a){if(0==a)throw"System.ArgumentException";return this.logTable[a]},this.inverse=function(a){if(0==a)throw"System.ArithmeticException";return this.expTable[255-this.logTable[a]]},this.multiply=function(a,b){return 0==a||0==b?0:1==a?b:1==b?a:this.expTable[(this.logTable[a]+this.logTable[b])%255]}}function URShift(a,b){return a>=0?a>>b:(a>>b)+(2<<~b)}function FinderPattern(a,b,c){this.x=a,this.y=b,this.count=1,this.estimatedModuleSize=c,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return this.x}),this.__defineGetter__("Y",function(){return this.y}),this.incrementCount=function(){this.count++},this.aboutEquals=function(a,b,c){if(Math.abs(b-this.y)<=a&&Math.abs(c-this.x)<=a){var d=Math.abs(a-this.estimatedModuleSize);return 1>=d||d/this.estimatedModuleSize<=1}return!1}}function FinderPatternInfo(a){this.bottomLeft=a[0],this.topLeft=a[1],this.topRight=a[2],this.__defineGetter__("BottomLeft",function(){return this.bottomLeft}),this.__defineGetter__("TopLeft",function(){return this.topLeft}),this.__defineGetter__("TopRight",function(){return this.topRight})}function FinderPatternFinder(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=new Array(0,0,0,0,0),this.resultPointCallback=null,this.__defineGetter__("CrossCheckStateCount",function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}),this.foundPatternCross=function(a){for(var b=0,c=0;5>c;c++){var d=a[c];if(0==d)return!1;b+=d}if(7>b)return!1;var e=Math.floor((b<<INTEGER_MATH_SHIFT)/7),f=Math.floor(e/2);return Math.abs(e-(a[0]<<INTEGER_MATH_SHIFT))<f&&Math.abs(e-(a[1]<<INTEGER_MATH_SHIFT))<f&&Math.abs(3*e-(a[2]<<INTEGER_MATH_SHIFT))<3*f&&Math.abs(e-(a[3]<<INTEGER_MATH_SHIFT))<f&&Math.abs(e-(a[4]<<INTEGER_MATH_SHIFT))<f},this.centerFromEnd=function(a,b){return b-a[4]-a[3]-a[2]/2},this.crossCheckVertical=function(a,b,c,d){for(var e=this.image,f=qrcode.height,g=this.CrossCheckStateCount,h=a;h>=0&&e[b+h*qrcode.width];)g[2]++,h--;if(0>h)return NaN;for(;h>=0&&!e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return NaN;for(;h>=0&&e[b+h*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return NaN;for(h=a+1;f>h&&e[b+h*qrcode.width];)g[2]++,h++;if(h==f)return NaN;for(;f>h&&!e[b+h*qrcode.width]&&g[3]<c;)g[3]++,h++;if(h==f||g[3]>=c)return NaN;for(;f>h&&e[b+h*qrcode.width]&&g[4]<c;)g[4]++,h++;if(g[4]>=c)return NaN;var i=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(i-d)>=2*d?NaN:this.foundPatternCross(g)?this.centerFromEnd(g,h):NaN},this.crossCheckHorizontal=function(a,b,c,d){for(var e=this.image,f=qrcode.width,g=this.CrossCheckStateCount,h=a;h>=0&&e[h+b*qrcode.width];)g[2]++,h--;if(0>h)return NaN;for(;h>=0&&!e[h+b*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return NaN;for(;h>=0&&e[h+b*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return NaN;for(h=a+1;f>h&&e[h+b*qrcode.width];)g[2]++,h++;if(h==f)return NaN;for(;f>h&&!e[h+b*qrcode.width]&&g[3]<c;)g[3]++,h++;if(h==f||g[3]>=c)return NaN;for(;f>h&&e[h+b*qrcode.width]&&g[4]<c;)g[4]++,h++;if(g[4]>=c)return NaN;var i=g[0]+g[1]+g[2]+g[3]+g[4];return 5*Math.abs(i-d)>=d?NaN:this.foundPatternCross(g)?this.centerFromEnd(g,h):NaN},this.handlePossibleCenter=function(a,b,c){var d=a[0]+a[1]+a[2]+a[3]+a[4],e=this.centerFromEnd(a,c),f=this.crossCheckVertical(b,Math.floor(e),a[2],d);if(!isNaN(f)&&(e=this.crossCheckHorizontal(Math.floor(e),Math.floor(f),a[2],d),!isNaN(e))){for(var g=d/7,h=!1,i=this.possibleCenters.length,j=0;i>j;j++){var k=this.possibleCenters[j];if(k.aboutEquals(g,f,e)){k.incrementCount(),h=!0;break}}if(!h){var l=new FinderPattern(e,f,g);this.possibleCenters.push(l),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(l)}return!0}return!1},this.selectBestPatterns=function(){var a=this.possibleCenters.length;if(3>a)throw"Couldn't find enough finder patterns";if(a>3){for(var b=0,c=0,d=0;a>d;d++){var e=this.possibleCenters[d].EstimatedModuleSize;b+=e,c+=e*e}var f=b/a;this.possibleCenters.sort(function(a,b){var c=Math.abs(b.EstimatedModuleSize-f),d=Math.abs(a.EstimatedModuleSize-f);return d>c?-1:c==d?0:1});for(var g=Math.sqrt(c/a-f*f),h=Math.max(.2*f,g),d=0;d<this.possibleCenters.length&&this.possibleCenters.length>3;d++){var i=this.possibleCenters[d];Math.abs(i.EstimatedModuleSize-f)>h&&(this.possibleCenters.remove(d),d--)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(a,b){return a.count>b.count?-1:a.count<b.count?1:0}),new Array(this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2])},this.findRowSkip=function(){var a=this.possibleCenters.length;if(1>=a)return 0;for(var b=null,c=0;a>c;c++){var d=this.possibleCenters[c];if(d.Count>=CENTER_QUORUM){if(null!=b)return this.hasSkipped=!0,Math.floor((Math.abs(b.X-d.X)-Math.abs(b.Y-d.Y))/2);b=d}}return 0},this.haveMultiplyConfirmedCenters=function(){for(var a=0,b=0,c=this.possibleCenters.length,d=0;c>d;d++){var e=this.possibleCenters[d];e.Count>=CENTER_QUORUM&&(a++,b+=e.EstimatedModuleSize)}if(3>a)return!1;for(var f=b/c,g=0,d=0;c>d;d++)e=this.possibleCenters[d],g+=Math.abs(e.EstimatedModuleSize-f);return.05*b>=g},this.findFinderPattern=function(a){var b=!1;this.image=a;var c=qrcode.height,d=qrcode.width,e=Math.floor(3*c/(4*MAX_MODULES));(MIN_SKIP>e||b)&&(e=MIN_SKIP);for(var f=!1,g=new Array(5),h=e-1;c>h&&!f;h+=e){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;for(var i=0,j=0;d>j;j++)if(a[j+h*qrcode.width])1==(1&i)&&i++,g[i]++;else if(0==(1&i))if(4==i)if(this.foundPatternCross(g)){var k=this.handlePossibleCenter(g,h,j);if(k)if(e=2,this.hasSkipped)f=this.haveMultiplyConfirmedCenters();else{var l=this.findRowSkip();l>g[2]&&(h+=l-g[2]-e,j=d-1)}else{do j++;while(d>j&&!a[j+h*qrcode.width]);j--}i=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,i=3;else g[++i]++;else g[i]++;if(this.foundPatternCross(g)){var k=this.handlePossibleCenter(g,h,d);k&&(e=g[0],
this.hasSkipped&&(f=haveMultiplyConfirmedCenters()))}}var m=this.selectBestPatterns();return qrcode.orderBestPatterns(m),new FinderPatternInfo(m)}}function AlignmentPattern(a,b,c){this.x=a,this.y=b,this.count=1,this.estimatedModuleSize=c,this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize}),this.__defineGetter__("Count",function(){return this.count}),this.__defineGetter__("X",function(){return Math.floor(this.x)}),this.__defineGetter__("Y",function(){return Math.floor(this.y)}),this.incrementCount=function(){this.count++},this.aboutEquals=function(a,b,c){if(Math.abs(b-this.y)<=a&&Math.abs(c-this.x)<=a){var d=Math.abs(a-this.estimatedModuleSize);return 1>=d||d/this.estimatedModuleSize<=1}return!1}}function AlignmentPatternFinder(a,b,c,d,e,f,g){this.image=a,this.possibleCenters=new Array,this.startX=b,this.startY=c,this.width=d,this.height=e,this.moduleSize=f,this.crossCheckStateCount=new Array(0,0,0),this.resultPointCallback=g,this.centerFromEnd=function(a,b){return b-a[2]-a[1]/2},this.foundPatternCross=function(a){for(var b=this.moduleSize,c=b/2,d=0;3>d;d++)if(Math.abs(b-a[d])>=c)return!1;return!0},this.crossCheckVertical=function(a,b,c,d){var e=this.image,f=qrcode.height,g=this.crossCheckStateCount;g[0]=0,g[1]=0,g[2]=0;for(var h=a;h>=0&&e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h--;if(0>h||g[1]>c)return NaN;for(;h>=0&&!e[b+h*qrcode.width]&&g[0]<=c;)g[0]++,h--;if(g[0]>c)return NaN;for(h=a+1;f>h&&e[b+h*qrcode.width]&&g[1]<=c;)g[1]++,h++;if(h==f||g[1]>c)return NaN;for(;f>h&&!e[b+h*qrcode.width]&&g[2]<=c;)g[2]++,h++;if(g[2]>c)return NaN;var i=g[0]+g[1]+g[2];return 5*Math.abs(i-d)>=2*d?NaN:this.foundPatternCross(g)?this.centerFromEnd(g,h):NaN},this.handlePossibleCenter=function(a,b,c){var d=a[0]+a[1]+a[2],e=this.centerFromEnd(a,c),f=this.crossCheckVertical(b,Math.floor(e),2*a[1],d);if(!isNaN(f)){for(var g=(a[0]+a[1]+a[2])/3,h=this.possibleCenters.length,i=0;h>i;i++){var j=this.possibleCenters[i];if(j.aboutEquals(g,f,e))return new AlignmentPattern(e,f,g)}var k=new AlignmentPattern(e,f,g);this.possibleCenters.push(k),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(k)}return null},this.find=function(){for(var b=this.startX,e=this.height,f=b+d,g=c+(e>>1),h=new Array(0,0,0),i=0;e>i;i++){var j=g+(0==(1&i)?i+1>>1:-(i+1>>1));h[0]=0,h[1]=0,h[2]=0;for(var k=b;f>k&&!a[k+qrcode.width*j];)k++;for(var l=0;f>k;){if(a[k+j*qrcode.width])if(1==l)h[l]++;else if(2==l){if(this.foundPatternCross(h)){var m=this.handlePossibleCenter(h,j,k);if(null!=m)return m}h[0]=h[2],h[1]=1,h[2]=0,l=1}else h[++l]++;else 1==l&&l++,h[l]++;k++}if(this.foundPatternCross(h)){var m=this.handlePossibleCenter(h,j,f);if(null!=m)return m}}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"}}function QRCodeDataBlockReader(a,b,c){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=a,this.numErrorCorrectionCode=c,9>=b?this.dataLengthMode=0:b>=10&&26>=b?this.dataLengthMode=1:b>=27&&40>=b&&(this.dataLengthMode=2),this.getNextBits=function(a){var b=0;if(a<this.bitPointer+1){for(var c=0,d=0;a>d;d++)c+=1<<d;return c<<=this.bitPointer-a+1,b=(this.blocks[this.blockPointer]&c)>>this.bitPointer-a+1,this.bitPointer-=a,b}if(a<this.bitPointer+1+8){for(var e=0,d=0;d<this.bitPointer+1;d++)e+=1<<d;return b=(this.blocks[this.blockPointer]&e)<<a-(this.bitPointer+1),this.blockPointer++,b+=this.blocks[this.blockPointer]>>8-(a-(this.bitPointer+1)),this.bitPointer=this.bitPointer-a%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),b}if(a<this.bitPointer+1+16){for(var e=0,f=0,d=0;d<this.bitPointer+1;d++)e+=1<<d;var g=(this.blocks[this.blockPointer]&e)<<a-(this.bitPointer+1);this.blockPointer++;var h=this.blocks[this.blockPointer]<<a-(this.bitPointer+1+8);this.blockPointer++;for(var d=0;d<a-(this.bitPointer+1+8);d++)f+=1<<d;f<<=8-(a-(this.bitPointer+1+8));var i=(this.blocks[this.blockPointer]&f)>>8-(a-(this.bitPointer+1+8));return b=g+h+i,this.bitPointer=this.bitPointer-(a-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),b}return 0},this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},this.getDataLength=function(a){for(var b=0;a>>b!=1;)b++;return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][b])},this.getRomanAndFigureString=function(a){var b=a,c=0,d="",e=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":");do if(b>1){c=this.getNextBits(11);var f=Math.floor(c/45),g=c%45;d+=e[f],d+=e[g],b-=2}else 1==b&&(c=this.getNextBits(6),d+=e[c],b-=1);while(b>0);return d},this.getFigureString=function(a){var b=a,c=0,d="";do b>=3?(c=this.getNextBits(10),100>c&&(d+="0"),10>c&&(d+="0"),b-=3):2==b?(c=this.getNextBits(7),10>c&&(d+="0"),b-=2):1==b&&(c=this.getNextBits(4),b-=1),d+=c;while(b>0);return d},this.get8bitByteArray=function(a){var b=a,c=0,d=new Array;do c=this.getNextBits(8),d.push(c),b--;while(b>0);return d},this.getKanjiString=function(a){var b=a,c=0,d="";do{c=getNextBits(13);var e=c%192,f=c/192,g=(f<<8)+e,h=0;h=40956>=g+33088?g+33088:g+49472,d+=String.fromCharCode(h),b--}while(b>0);return d},this.__defineGetter__("DataByte",function(){for(var a=new Array,b=1,c=2,d=4,e=8;;){var f=this.NextMode();if(0==f){if(a.length>0)break;throw"Empty data block"}if(f!=b&&f!=c&&f!=d&&f!=e)throw"Invalid mode: "+f+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(dataLength=this.getDataLength(f),dataLength<1)throw"Invalid data length: "+dataLength;switch(f){case b:for(var g=this.getFigureString(dataLength),h=new Array(g.length),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);a.push(h);break;case c:for(var g=this.getRomanAndFigureString(dataLength),h=new Array(g.length),i=0;i<g.length;i++)h[i]=g.charCodeAt(i);a.push(h);break;case d:var j=this.get8bitByteArray(dataLength);a.push(j);break;case e:var g=this.getKanjiString(dataLength);a.push(g)}}return a})}!function(a,b){"object"==typeof exports&&"object"==typeof module?module.exports=b():"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?exports.io=b():a.io=b()}(this,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){"use strict";function d(a,b){"object"===("undefined"==typeof a?"undefined":e(a))&&(b=a,a=void 0),b=b||{};var c,d=f(a),g=d.source,k=d.id,l=d.path,m=j[k]&&l in j[k].nsps,n=b.forceNew||b["force new connection"]||!1===b.multiplex||m;return n?(i("ignoring socket cache for %s",g),c=h(g,b)):(j[k]||(i("new io instance for %s",g),j[k]=h(g,b)),c=j[k]),d.query&&!b.query&&(b.query=d.query),c.socket(d.path,b)}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(1),g=c(7),h=c(13),i=c(3)("socket.io-client");a.exports=b=d;var j=b.managers={};b.protocol=g.protocol,b.connect=d,b.Manager=c(13),b.Socket=c(39)},function(a,b,c){(function(b){"use strict";function d(a,c){var d=a;c=c||b.location,null==a&&(a=c.protocol+"//"+c.host),"string"==typeof a&&("/"===a.charAt(0)&&(a="/"===a.charAt(1)?c.protocol+a:c.host+a),/^(https?|wss?):\/\//.test(a)||(f("protocol-less url %s",a),a="undefined"!=typeof c?c.protocol+"//"+a:"https://"+a),f("parse %s",a),d=e(a)),d.port||(/^(http|ws)$/.test(d.protocol)?d.port="80":/^(http|ws)s$/.test(d.protocol)&&(d.port="443")),d.path=d.path||"/";var g=-1!==d.host.indexOf(":"),h=g?"["+d.host+"]":d.host;return d.id=d.protocol+"://"+h+":"+d.port,d.href=d.protocol+"://"+h+(c&&c.port===d.port?"":":"+d.port),d}var e=c(2),f=c(3)("socket.io-client:url");a.exports=d}).call(b,function(){return this}())},function(a,b){var c=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,d=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];a.exports=function(a){var b=a,e=a.indexOf("["),f=a.indexOf("]");-1!=e&&-1!=f&&(a=a.substring(0,e)+a.substring(e,f).replace(/:/g,";")+a.substring(f,a.length));for(var g=c.exec(a||""),h={},i=14;i--;)h[d[i]]=g[i]||"";return-1!=e&&-1!=f&&(h.source=b,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h}},function(a,b,c){(function(d){function e(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function f(a){var c=this.useColors;if(a[0]=(c?"%c":"")+this.namespace+(c?" %c":" ")+a[0]+(c?"%c ":" ")+"+"+b.humanize(this.diff),c){var d="color: "+this.color;a.splice(1,0,d,"color: inherit");var e=0,f=0;a[0].replace(/%[a-zA-Z%]/g,function(a){"%%"!==a&&(e++,"%c"===a&&(f=e))}),a.splice(f,0,d)}}function g(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function h(a){try{null==a?b.storage.removeItem("debug"):b.storage.debug=a}catch(c){}}function i(){var a;try{a=b.storage.debug}catch(c){}return!a&&"undefined"!=typeof d&&"env"in d&&(a=d.env.DEBUG),a}function j(){try{return window.localStorage}catch(a){}}b=a.exports=c(5),b.log=g,b.formatArgs=f,b.save=h,b.load=i,b.useColors=e,b.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:j(),b.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],b.formatters.j=function(a){try{return JSON.stringify(a)}catch(b){return"[UnexpectedJSONParseError]: "+b.message}},b.enable(i())}).call(b,c(4))},function(a,b){function c(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}function e(a){if(k===setTimeout)return setTimeout(a,0);if((k===c||!k)&&setTimeout)return k=setTimeout,setTimeout(a,0);try{return k(a,0)}catch(b){try{return k.call(null,a,0)}catch(b){return k.call(this,a,0)}}}function f(a){if(l===clearTimeout)return clearTimeout(a);if((l===d||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(a);try{return l(a)}catch(b){try{return l.call(null,a)}catch(b){return l.call(this,a)}}}function g(){p&&n&&(p=!1,n.length?o=n.concat(o):q=-1,o.length&&h())}function h(){if(!p){var a=e(g);p=!0;for(var b=o.length;b;){for(n=o,o=[];++q<b;)n&&n[q].run();q=-1,b=o.length}n=null,p=!1,f(a)}}function i(a,b){this.fun=a,this.array=b}function j(){}var k,l,m=a.exports={};!function(){try{k="function"==typeof setTimeout?setTimeout:c}catch(a){k=c}try{l="function"==typeof clearTimeout?clearTimeout:d}catch(a){l=d}}();var n,o=[],p=!1,q=-1;m.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];o.push(new i(a,b)),1!==o.length||p||e(h)},i.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=j,m.addListener=j,m.once=j,m.off=j,m.removeListener=j,m.removeAllListeners=j,m.emit=j,m.prependListener=j,m.prependOnceListener=j,m.listeners=function(a){return[]},m.binding=function(a){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(a){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},function(a,b,c){function d(a){var c,d=0;for(c in a)d=(d<<5)-d+a.charCodeAt(c),d|=0;return b.colors[Math.abs(d)%b.colors.length]}function e(a){function c(){if(c.enabled){var a=c,d=+new Date,e=d-(j||d);a.diff=e,a.prev=j,a.curr=d,j=d;for(var f=new Array(arguments.length),g=0;g<f.length;g++)f[g]=arguments[g];f[0]=b.coerce(f[0]),"string"!=typeof f[0]&&f.unshift("%O");var h=0;f[0]=f[0].replace(/%([a-zA-Z%])/g,function(c,d){if("%%"===c)return c;h++;var e=b.formatters[d];if("function"==typeof e){var g=f[h];c=e.call(a,g),f.splice(h,1),h--}return c}),b.formatArgs.call(a,f);var i=c.log||b.log||console.log.bind(console);i.apply(a,f)}}return c.namespace=a,c.enabled=b.enabled(a),c.useColors=b.useColors(),c.color=d(a),"function"==typeof b.init&&b.init(c),c}function f(a){b.save(a),b.names=[],b.skips=[];for(var c=("string"==typeof a?a:"").split(/[\s,]+/),d=c.length,e=0;d>e;e++)c[e]&&(a=c[e].replace(/\*/g,".*?"),"-"===a[0]?b.skips.push(new RegExp("^"+a.substr(1)+"$")):b.names.push(new RegExp("^"+a+"$")))}function g(){b.enable("")}function h(a){var c,d;for(c=0,d=b.skips.length;d>c;c++)if(b.skips[c].test(a))return!1;for(c=0,d=b.names.length;d>c;c++)if(b.names[c].test(a))return!0;return!1}function i(a){return a instanceof Error?a.stack||a.message:a}b=a.exports=e.debug=e["default"]=e,b.coerce=i,b.disable=g,b.enable=f,b.enabled=h,b.humanize=c(6),b.names=[],b.skips=[],b.formatters={};var j},function(a,b){function c(a){if(a=String(a),!(a.length>100)){var b=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(a);if(b){var c=parseFloat(b[1]),d=(b[2]||"ms").toLowerCase();switch(d){case"years":case"year":case"yrs":case"yr":case"y":return c*k;case"days":case"day":case"d":return c*j;case"hours":case"hour":case"hrs":case"hr":case"h":return c*i;case"minutes":case"minute":case"mins":case"min":case"m":return c*h;case"seconds":case"second":case"secs":case"sec":case"s":return c*g;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function d(a){return a>=j?Math.round(a/j)+"d":a>=i?Math.round(a/i)+"h":a>=h?Math.round(a/h)+"m":a>=g?Math.round(a/g)+"s":a+"ms"}function e(a){return f(a,j,"day")||f(a,i,"hour")||f(a,h,"minute")||f(a,g,"second")||a+" ms"}function f(a,b,c){return b>a?void 0:1.5*b>a?Math.floor(a/b)+" "+c:Math.ceil(a/b)+" "+c+"s"}var g=1e3,h=60*g,i=60*h,j=24*i,k=365.25*j;a.exports=function(a,b){b=b||{};var f=typeof a;if("string"===f&&a.length>0)return c(a);if("number"===f&&isNaN(a)===!1)return b["long"]?e(a):d(a);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(a))}},function(a,b,c){function d(){}function e(a){var c=""+a.type;return b.BINARY_EVENT!==a.type&&b.BINARY_ACK!==a.type||(c+=a.attachments+"-"),a.nsp&&"/"!==a.nsp&&(c+=a.nsp+","),null!=a.id&&(c+=a.id),null!=a.data&&(c+=JSON.stringify(a.data)),l("encoded %j as %s",a,c),c}function f(a,b){function c(a){var c=o.deconstructPacket(a),d=e(c.packet),f=c.buffers;f.unshift(d),b(f)}o.removeBlobs(a,c)}function g(){this.reconstructor=null}function h(a){var c=0,d={type:Number(a.charAt(0))};if(null==b.types[d.type])return k();if(b.BINARY_EVENT===d.type||b.BINARY_ACK===d.type){for(var e="";"-"!==a.charAt(++c)&&(e+=a.charAt(c),c!=a.length););if(e!=Number(e)||"-"!==a.charAt(c))throw new Error("Illegal attachments");d.attachments=Number(e)}if("/"===a.charAt(c+1))for(d.nsp="";++c;){var f=a.charAt(c);if(","===f)break;if(d.nsp+=f,c===a.length)break}else d.nsp="/";var g=a.charAt(c+1);if(""!==g&&Number(g)==g){for(d.id="";++c;){var f=a.charAt(c);if(null==f||Number(f)!=f){--c;break}if(d.id+=a.charAt(c),c===a.length)break}d.id=Number(d.id)}return a.charAt(++c)&&(d=i(d,a.substr(c))),l("decoded %s as %j",a,d),d}function i(a,b){try{a.data=JSON.parse(b)}catch(c){return k()}return a}function j(a){this.reconPack=a,this.buffers=[]}function k(){return{type:b.ERROR,data:"parser error"}}var l=c(3)("socket.io-parser"),m=c(8),n=c(9),o=c(11),p=c(12);b.protocol=4,b.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],b.CONNECT=0,b.DISCONNECT=1,b.EVENT=2,b.ACK=3,b.ERROR=4,b.BINARY_EVENT=5,b.BINARY_ACK=6,b.Encoder=d,b.Decoder=g,d.prototype.encode=function(a,c){if(a.type!==b.EVENT&&a.type!==b.ACK||!n(a.data)||(a.type=a.type===b.EVENT?b.BINARY_EVENT:b.BINARY_ACK),l("encoding packet %j",a),b.BINARY_EVENT===a.type||b.BINARY_ACK===a.type)f(a,c);else{var d=e(a);c([d])}},m(g.prototype),g.prototype.add=function(a){var c;if("string"==typeof a)c=h(a),b.BINARY_EVENT===c.type||b.BINARY_ACK===c.type?(this.reconstructor=new j(c),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",c)):this.emit("decoded",c);else{if(!p(a)&&!a.base64)throw new Error("Unknown type: "+a);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");c=this.reconstructor.takeBinaryData(a),c&&(this.reconstructor=null,this.emit("decoded",c))}},g.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},j.prototype.takeBinaryData=function(a){if(this.buffers.push(a),this.buffers.length===this.reconPack.attachments){var b=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),b}return null},j.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(a,b,c){function d(a){return a?e(a):void 0}function e(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}a.exports=d,d.prototype.on=d.prototype.addEventListener=function(a,b){return this._callbacks=this._callbacks||{},(this._callbacks["$"+a]=this._callbacks["$"+a]||[]).push(b),this},d.prototype.once=function(a,b){function c(){this.off(a,c),b.apply(this,arguments)}return c.fn=b,this.on(a,c),this},d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var c=this._callbacks["$"+a];if(!c)return this;if(1==arguments.length)return delete this._callbacks["$"+a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this},d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks["$"+a];if(c){c=c.slice(0);for(var d=0,e=c.length;e>d;++d)c[d].apply(this,b)}return this},d.prototype.listeners=function(a){return this._callbacks=this._callbacks||{},this._callbacks["$"+a]||[]},d.prototype.hasListeners=function(a){return!!this.listeners(a).length}},function(a,b,c){(function(b){function d(a){if(!a||"object"!=typeof a)return!1;if(e(a)){for(var c=0,f=a.length;f>c;c++)if(d(a[c]))return!0;return!1}if("function"==typeof b.Buffer&&b.Buffer.isBuffer&&b.Buffer.isBuffer(a)||"function"==typeof b.ArrayBuffer&&a instanceof ArrayBuffer||g&&a instanceof Blob||h&&a instanceof File)return!0;if(a.toJSON&&"function"==typeof a.toJSON&&1===arguments.length)return d(a.toJSON(),!0);for(var i in a)if(Object.prototype.hasOwnProperty.call(a,i)&&d(a[i]))return!0;return!1}var e=c(10),f=Object.prototype.toString,g="function"==typeof b.Blob||"[object BlobConstructor]"===f.call(b.Blob),h="function"==typeof b.File||"[object FileConstructor]"===f.call(b.File);a.exports=d}).call(b,function(){return this}())},function(a,b){var c={}.toString;a.exports=Array.isArray||function(a){return"[object Array]"==c.call(a)}},function(a,b,c){(function(a){function d(a,b){if(!a)return a;if(g(a)){var c={_placeholder:!0,num:b.length};return b.push(a),c}if(f(a)){for(var e=new Array(a.length),h=0;h<a.length;h++)e[h]=d(a[h],b);return e}if("object"==typeof a&&!(a instanceof Date)){var e={};for(var i in a)e[i]=d(a[i],b);return e}return a}function e(a,b){if(!a)return a;if(a&&a._placeholder)return b[a.num];if(f(a))for(var c=0;c<a.length;c++)a[c]=e(a[c],b);else if("object"==typeof a)for(var d in a)a[d]=e(a[d],b);return a}var f=c(10),g=c(12),h=Object.prototype.toString,i="function"==typeof a.Blob||"[object BlobConstructor]"===h.call(a.Blob),j="function"==typeof a.File||"[object FileConstructor]"===h.call(a.File);b.deconstructPacket=function(a){var b=[],c=a.data,e=a;return e.data=d(c,b),e.attachments=b.length,{packet:e,buffers:b}},b.reconstructPacket=function(a,b){return a.data=e(a.data,b),a.attachments=void 0,a},b.removeBlobs=function(a,b){function c(a,h,k){if(!a)return a;if(i&&a instanceof Blob||j&&a instanceof File){d++;var l=new FileReader;l.onload=function(){k?k[h]=this.result:e=this.result,--d||b(e)},l.readAsArrayBuffer(a)}else if(f(a))for(var m=0;m<a.length;m++)c(a[m],m,a);else if("object"==typeof a&&!g(a))for(var n in a)c(a[n],n,a)}var d=0,e=a;c(e),d||b(e)}}).call(b,function(){return this}())},function(a,b){(function(b){function c(a){return b.Buffer&&b.Buffer.isBuffer(a)||b.ArrayBuffer&&a instanceof ArrayBuffer}a.exports=c}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a,b){if(!(this instanceof d))return new d(a,b);a&&"object"===("undefined"==typeof a?"undefined":e(a))&&(b=a,a=void 0),b=b||{},b.path=b.path||"/socket.io",this.nsps={},this.subs=[],this.opts=b,this.reconnection(b.reconnection!==!1),this.reconnectionAttempts(b.reconnectionAttempts||1/0),this.reconnectionDelay(b.reconnectionDelay||1e3),this.reconnectionDelayMax(b.reconnectionDelayMax||5e3),this.randomizationFactor(b.randomizationFactor||.5),this.backoff=new n({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==b.timeout?2e4:b.timeout),this.readyState="closed",this.uri=a,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var c=b.parser||i;this.encoder=new c.Encoder,this.decoder=new c.Decoder,this.autoConnect=b.autoConnect!==!1,this.autoConnect&&this.open()}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(14),g=c(39),h=c(8),i=c(7),j=c(41),k=c(42),l=c(3)("socket.io-client:manager"),m=c(37),n=c(43),o=Object.prototype.hasOwnProperty;a.exports=d,d.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var a in this.nsps)o.call(this.nsps,a)&&this.nsps[a].emit.apply(this.nsps[a],arguments)},d.prototype.updateSocketIds=function(){for(var a in this.nsps)o.call(this.nsps,a)&&(this.nsps[a].id=this.generateId(a))},d.prototype.generateId=function(a){return("/"===a?"":a+"#")+this.engine.id},h(d.prototype),d.prototype.reconnection=function(a){return arguments.length?(this._reconnection=!!a,this):this._reconnection},d.prototype.reconnectionAttempts=function(a){return arguments.length?(this._reconnectionAttempts=a,this):this._reconnectionAttempts},d.prototype.reconnectionDelay=function(a){return arguments.length?(this._reconnectionDelay=a,this.backoff&&this.backoff.setMin(a),this):this._reconnectionDelay},d.prototype.randomizationFactor=function(a){return arguments.length?(this._randomizationFactor=a,this.backoff&&this.backoff.setJitter(a),this):this._randomizationFactor},d.prototype.reconnectionDelayMax=function(a){return arguments.length?(this._reconnectionDelayMax=a,this.backoff&&this.backoff.setMax(a),this):this._reconnectionDelayMax},d.prototype.timeout=function(a){return arguments.length?(this._timeout=a,this):this._timeout},d.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},d.prototype.open=d.prototype.connect=function(a,b){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=f(this.uri,this.opts);var c=this.engine,d=this;this.readyState="opening",this.skipReconnect=!1;var e=j(c,"open",function(){d.onopen(),a&&a()}),g=j(c,"error",function(b){if(l("connect_error"),d.cleanup(),d.readyState="closed",d.emitAll("connect_error",b),a){var c=new Error("Connection error");c.data=b,a(c)}else d.maybeReconnectOnOpen()});if(!1!==this._timeout){var h=this._timeout;l("connect attempt will timeout after %d",h);var i=setTimeout(function(){l("connect attempt timed out after %d",h),e.destroy(),c.close(),c.emit("error","timeout"),d.emitAll("connect_timeout",h)},h);this.subs.push({destroy:function(){clearTimeout(i)}})}return this.subs.push(e),this.subs.push(g),this},d.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var a=this.engine;this.subs.push(j(a,"data",k(this,"ondata"))),this.subs.push(j(a,"ping",k(this,"onping"))),this.subs.push(j(a,"pong",k(this,"onpong"))),this.subs.push(j(a,"error",k(this,"onerror"))),this.subs.push(j(a,"close",k(this,"onclose"))),this.subs.push(j(this.decoder,"decoded",k(this,"ondecoded")))},d.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},d.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},d.prototype.ondata=function(a){this.decoder.add(a)},d.prototype.ondecoded=function(a){this.emit("packet",a)},d.prototype.onerror=function(a){l("error",a),this.emitAll("error",a)},d.prototype.socket=function(a,b){function c(){~m(e.connecting,d)||e.connecting.push(d)}var d=this.nsps[a];if(!d){d=new g(this,a,b),this.nsps[a]=d;var e=this;d.on("connecting",c),d.on("connect",function(){d.id=e.generateId(a)}),this.autoConnect&&c()}return d},d.prototype.destroy=function(a){var b=m(this.connecting,a);~b&&this.connecting.splice(b,1),this.connecting.length||this.close()},d.prototype.packet=function(a){l("writing packet %j",a);var b=this;a.query&&0===a.type&&(a.nsp+="?"+a.query),b.encoding?b.packetBuffer.push(a):(b.encoding=!0,this.encoder.encode(a,function(c){for(var d=0;d<c.length;d++)b.engine.write(c[d],a.options);b.encoding=!1,b.processPacketQueue()}))},d.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var a=this.packetBuffer.shift();this.packet(a)}},d.prototype.cleanup=function(){l("cleanup");for(var a=this.subs.length,b=0;a>b;b++){var c=this.subs.shift();c.destroy()}this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},d.prototype.close=d.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},d.prototype.onclose=function(a){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",a),this._reconnection&&!this.skipReconnect&&this.reconnect()},d.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var a=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var b=this.backoff.duration();l("will wait %dms before reconnect attempt",b),this.reconnecting=!0;var c=setTimeout(function(){a.skipReconnect||(l("attempting reconnect"),a.emitAll("reconnect_attempt",a.backoff.attempts),a.emitAll("reconnecting",a.backoff.attempts),a.skipReconnect||a.open(function(b){b?(l("reconnect attempt error"),a.reconnecting=!1,a.reconnect(),a.emitAll("reconnect_error",b.data)):(l("reconnect success"),a.onreconnect())}))},b);this.subs.push({destroy:function(){clearTimeout(c)}})}},d.prototype.onreconnect=function(){var a=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",a)}},function(a,b,c){a.exports=c(15)},function(a,b,c){a.exports=c(16),a.exports.parser=c(23)},function(a,b,c){(function(b){function d(a,c){if(!(this instanceof d))return new d(a,c);c=c||{},a&&"object"==typeof a&&(c=a,a=null),a?(a=k(a),c.hostname=a.host,c.secure="https"===a.protocol||"wss"===a.protocol,c.port=a.port,a.query&&(c.query=a.query)):c.host&&(c.hostname=k(c.host).host),this.secure=null!=c.secure?c.secure:b.location&&"https:"===location.protocol,c.hostname&&!c.port&&(c.port=this.secure?"443":"80"),this.agent=c.agent||!1,this.hostname=c.hostname||(b.location?location.hostname:"localhost"),this.port=c.port||(b.location&&location.port?location.port:this.secure?443:80),this.query=c.query||{},"string"==typeof this.query&&(this.query=m.decode(this.query)),this.upgrade=!1!==c.upgrade,this.path=(c.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!c.forceJSONP,this.jsonp=!1!==c.jsonp,this.forceBase64=!!c.forceBase64,this.enablesXDR=!!c.enablesXDR,this.timestampParam=c.timestampParam||"t",this.timestampRequests=c.timestampRequests,this.transports=c.transports||["polling","websocket"],this.transportOptions=c.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=c.policyPort||843,this.rememberUpgrade=c.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=c.onlyBinaryUpgrades,this.perMessageDeflate=!1!==c.perMessageDeflate&&(c.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=c.pfx||null,this.key=c.key||null,this.passphrase=c.passphrase||null,this.cert=c.cert||null,this.ca=c.ca||null,this.ciphers=c.ciphers||null,this.rejectUnauthorized=void 0===c.rejectUnauthorized||c.rejectUnauthorized,this.forceNode=!!c.forceNode;var e="object"==typeof b&&b;e.global===e&&(c.extraHeaders&&Object.keys(c.extraHeaders).length>0&&(this.extraHeaders=c.extraHeaders),c.localAddress&&(this.localAddress=c.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}function e(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}var f=c(17),g=c(8),h=c(3)("engine.io-client:socket"),i=c(37),j=c(23),k=c(2),l=c(38),m=c(31);a.exports=d,d.priorWebsocketSuccess=!1,g(d.prototype),d.protocol=j.protocol,d.Socket=d,d.Transport=c(22),d.transports=c(17),d.parser=c(23),d.prototype.createTransport=function(a){h('creating transport "%s"',a);var b=e(this.query);b.EIO=j.protocol,b.transport=a;var c=this.transportOptions[a]||{};this.id&&(b.sid=this.id);var d=new f[a]({query:b,socket:this,agent:c.agent||this.agent,hostname:c.hostname||this.hostname,port:c.port||this.port,secure:c.secure||this.secure,path:c.path||this.path,forceJSONP:c.forceJSONP||this.forceJSONP,jsonp:c.jsonp||this.jsonp,forceBase64:c.forceBase64||this.forceBase64,enablesXDR:c.enablesXDR||this.enablesXDR,timestampRequests:c.timestampRequests||this.timestampRequests,timestampParam:c.timestampParam||this.timestampParam,policyPort:c.policyPort||this.policyPort,pfx:c.pfx||this.pfx,key:c.key||this.key,passphrase:c.passphrase||this.passphrase,cert:c.cert||this.cert,ca:c.ca||this.ca,ciphers:c.ciphers||this.ciphers,rejectUnauthorized:c.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:c.perMessageDeflate||this.perMessageDeflate,extraHeaders:c.extraHeaders||this.extraHeaders,forceNode:c.forceNode||this.forceNode,localAddress:c.localAddress||this.localAddress,requestTimeout:c.requestTimeout||this.requestTimeout,protocols:c.protocols||void 0});return d},d.prototype.open=function(){var a;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))a="websocket";else{if(0===this.transports.length){var b=this;return void setTimeout(function(){b.emit("error","No transports available")},0)}a=this.transports[0]}this.readyState="opening";try{a=this.createTransport(a)}catch(c){return this.transports.shift(),void this.open()}a.open(),this.setTransport(a)},d.prototype.setTransport=function(a){h("setting transport %s",a.name);var b=this;this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=a,a.on("drain",function(){b.onDrain()}).on("packet",function(a){b.onPacket(a)}).on("error",function(a){b.onError(a)}).on("close",function(){b.onClose("transport close")})},d.prototype.probe=function(a){function b(){if(m.onlyBinaryUpgrades){var b=!this.supportsBinary&&m.transport.supportsBinary;
l=l||b}l||(h('probe transport "%s" opened',a),k.send([{type:"ping",data:"probe"}]),k.once("packet",function(b){if(!l)if("pong"===b.type&&"probe"===b.data){if(h('probe transport "%s" pong',a),m.upgrading=!0,m.emit("upgrading",k),!k)return;d.priorWebsocketSuccess="websocket"===k.name,h('pausing current transport "%s"',m.transport.name),m.transport.pause(function(){l||"closed"!==m.readyState&&(h("changing transport and sending upgrade packet"),j(),m.setTransport(k),k.send([{type:"upgrade"}]),m.emit("upgrade",k),k=null,m.upgrading=!1,m.flush())})}else{h('probe transport "%s" failed',a);var c=new Error("probe error");c.transport=k.name,m.emit("upgradeError",c)}}))}function c(){l||(l=!0,j(),k.close(),k=null)}function e(b){var d=new Error("probe error: "+b);d.transport=k.name,c(),h('probe transport "%s" failed because of error: %s',a,b),m.emit("upgradeError",d)}function f(){e("transport closed")}function g(){e("socket closed")}function i(a){k&&a.name!==k.name&&(h('"%s" works - aborting "%s"',a.name,k.name),c())}function j(){k.removeListener("open",b),k.removeListener("error",e),k.removeListener("close",f),m.removeListener("close",g),m.removeListener("upgrading",i)}h('probing transport "%s"',a);var k=this.createTransport(a,{probe:1}),l=!1,m=this;d.priorWebsocketSuccess=!1,k.once("open",b),k.once("error",e),k.once("close",f),this.once("close",g),this.once("upgrading",i),k.open()},d.prototype.onOpen=function(){if(h("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){h("starting upgrade probes");for(var a=0,b=this.upgrades.length;b>a;a++)this.probe(this.upgrades[a])}},d.prototype.onPacket=function(a){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',a.type,a.data),this.emit("packet",a),this.emit("heartbeat"),a.type){case"open":this.onHandshake(l(a.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var b=new Error("server error");b.code=a.data,this.onError(b);break;case"message":this.emit("data",a.data),this.emit("message",a.data)}else h('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(a){this.emit("handshake",a),this.id=a.sid,this.transport.query.sid=a.sid,this.upgrades=this.filterUpgrades(a.upgrades),this.pingInterval=a.pingInterval,this.pingTimeout=a.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(a){clearTimeout(this.pingTimeoutTimer);var b=this;b.pingTimeoutTimer=setTimeout(function(){"closed"!==b.readyState&&b.onClose("ping timeout")},a||b.pingInterval+b.pingTimeout)},d.prototype.setPing=function(){var a=this;clearTimeout(a.pingIntervalTimer),a.pingIntervalTimer=setTimeout(function(){h("writing ping packet - expecting pong within %sms",a.pingTimeout),a.ping(),a.onHeartbeat(a.pingTimeout)},a.pingInterval)},d.prototype.ping=function(){var a=this;this.sendPacket("ping",function(){a.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(h("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(a,b,c){return this.sendPacket("message",a,b,c),this},d.prototype.sendPacket=function(a,b,c,d){if("function"==typeof b&&(d=b,b=void 0),"function"==typeof c&&(d=c,c=null),"closing"!==this.readyState&&"closed"!==this.readyState){c=c||{},c.compress=!1!==c.compress;var e={type:a,data:b,options:c};this.emit("packetCreate",e),this.writeBuffer.push(e),d&&this.once("flush",d),this.flush()}},d.prototype.close=function(){function a(){d.onClose("forced close"),h("socket closing - telling transport to close"),d.transport.close()}function b(){d.removeListener("upgrade",b),d.removeListener("upgradeError",b),a()}function c(){d.once("upgrade",b),d.once("upgradeError",b)}if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var d=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?c():a()}):this.upgrading?c():a()}return this},d.prototype.onError=function(a){h("socket error %j",a),d.priorWebsocketSuccess=!1,this.emit("error",a),this.onClose("transport error",a)},d.prototype.onClose=function(a,b){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){h('socket close with reason: "%s"',a);var c=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",a,b),c.writeBuffer=[],c.prevBufferLen=0}},d.prototype.filterUpgrades=function(a){for(var b=[],c=0,d=a.length;d>c;c++)~i(this.transports,a[c])&&b.push(a[c]);return b}}).call(b,function(){return this}())},function(a,b,c){(function(a){function d(b){var c,d=!1,h=!1,i=!1!==b.jsonp;if(a.location){var j="https:"===location.protocol,k=location.port;k||(k=j?443:80),d=b.hostname!==location.hostname||k!==b.port,h=b.secure!==j}if(b.xdomain=d,b.xscheme=h,c=new e(b),"open"in c&&!b.forceJSONP)return new f(b);if(!i)throw new Error("JSONP disabled");return new g(b)}var e=c(18),f=c(20),g=c(34),h=c(35);b.polling=d,b.websocket=h}).call(b,function(){return this}())},function(a,b,c){(function(b){var d=c(19);a.exports=function(a){var c=a.xdomain,e=a.xscheme,f=a.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!c||d))return new XMLHttpRequest}catch(g){}try{if("undefined"!=typeof XDomainRequest&&!e&&f)return new XDomainRequest}catch(g){}if(!c)try{return new(b[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(g){}}}).call(b,function(){return this}())},function(a,b){try{a.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(c){a.exports=!1}},function(a,b,c){(function(b){function d(){}function e(a){if(i.call(this,a),this.requestTimeout=a.requestTimeout,this.extraHeaders=a.extraHeaders,b.location){var c="https:"===location.protocol,d=location.port;d||(d=c?443:80),this.xd=a.hostname!==b.location.hostname||d!==a.port,this.xs=a.secure!==c}}function f(a){this.method=a.method||"GET",this.uri=a.uri,this.xd=!!a.xd,this.xs=!!a.xs,this.async=!1!==a.async,this.data=void 0!==a.data?a.data:null,this.agent=a.agent,this.isBinary=a.isBinary,this.supportsBinary=a.supportsBinary,this.enablesXDR=a.enablesXDR,this.requestTimeout=a.requestTimeout,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.extraHeaders=a.extraHeaders,this.create()}function g(){for(var a in f.requests)f.requests.hasOwnProperty(a)&&f.requests[a].abort()}var h=c(18),i=c(21),j=c(8),k=c(32),l=c(3)("engine.io-client:polling-xhr");a.exports=e,a.exports.Request=f,k(e,i),e.prototype.supportsBinary=!0,e.prototype.request=function(a){return a=a||{},a.uri=this.uri(),a.xd=this.xd,a.xs=this.xs,a.agent=this.agent||!1,a.supportsBinary=this.supportsBinary,a.enablesXDR=this.enablesXDR,a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized,a.requestTimeout=this.requestTimeout,a.extraHeaders=this.extraHeaders,new f(a)},e.prototype.doWrite=function(a,b){var c="string"!=typeof a&&void 0!==a,d=this.request({method:"POST",data:a,isBinary:c}),e=this;d.on("success",b),d.on("error",function(a){e.onError("xhr post error",a)}),this.sendXhr=d},e.prototype.doPoll=function(){l("xhr poll");var a=this.request(),b=this;a.on("data",function(a){b.onData(a)}),a.on("error",function(a){b.onError("xhr poll error",a)}),this.pollXhr=a},j(f.prototype),f.prototype.create=function(){var a={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};a.pfx=this.pfx,a.key=this.key,a.passphrase=this.passphrase,a.cert=this.cert,a.ca=this.ca,a.ciphers=this.ciphers,a.rejectUnauthorized=this.rejectUnauthorized;var c=this.xhr=new h(a),d=this;try{l("xhr open %s: %s",this.method,this.uri),c.open(this.method,this.uri,this.async);try{if(this.extraHeaders){c.setDisableHeaderCheck&&c.setDisableHeaderCheck(!0);for(var e in this.extraHeaders)this.extraHeaders.hasOwnProperty(e)&&c.setRequestHeader(e,this.extraHeaders[e])}}catch(g){}if("POST"===this.method)try{this.isBinary?c.setRequestHeader("Content-type","application/octet-stream"):c.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(g){}try{c.setRequestHeader("Accept","*/*")}catch(g){}"withCredentials"in c&&(c.withCredentials=!0),this.requestTimeout&&(c.timeout=this.requestTimeout),this.hasXDR()?(c.onload=function(){d.onLoad()},c.onerror=function(){d.onError(c.responseText)}):c.onreadystatechange=function(){if(2===c.readyState){var a;try{a=c.getResponseHeader("Content-Type")}catch(b){}"application/octet-stream"===a&&(c.responseType="arraybuffer")}4===c.readyState&&(200===c.status||1223===c.status?d.onLoad():setTimeout(function(){d.onError(c.status)},0))},l("xhr data %s",this.data),c.send(this.data)}catch(g){return void setTimeout(function(){d.onError(g)},0)}b.document&&(this.index=f.requestsCount++,f.requests[this.index]=this)},f.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},f.prototype.onData=function(a){this.emit("data",a),this.onSuccess()},f.prototype.onError=function(a){this.emit("error",a),this.cleanup(!0)},f.prototype.cleanup=function(a){if("undefined"!=typeof this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=d:this.xhr.onreadystatechange=d,a)try{this.xhr.abort()}catch(c){}b.document&&delete f.requests[this.index],this.xhr=null}},f.prototype.onLoad=function(){var a;try{var b;try{b=this.xhr.getResponseHeader("Content-Type")}catch(c){}a="application/octet-stream"===b?this.xhr.response||this.xhr.responseText:this.xhr.responseText}catch(c){this.onError(c)}null!=a&&this.onData(a)},f.prototype.hasXDR=function(){return"undefined"!=typeof b.XDomainRequest&&!this.xs&&this.enablesXDR},f.prototype.abort=function(){this.cleanup()},f.requestsCount=0,f.requests={},b.document&&(b.attachEvent?b.attachEvent("onunload",g):b.addEventListener&&b.addEventListener("beforeunload",g,!1))}).call(b,function(){return this}())},function(a,b,c){function d(a){var b=a&&a.forceBase64;k&&!b||(this.supportsBinary=!1),e.call(this,a)}var e=c(22),f=c(31),g=c(23),h=c(32),i=c(33),j=c(3)("engine.io-client:polling");a.exports=d;var k=function(){var a=c(18),b=new a({xdomain:!1});return null!=b.responseType}();h(d,e),d.prototype.name="polling",d.prototype.doOpen=function(){this.poll()},d.prototype.pause=function(a){function b(){j("paused"),c.readyState="paused",a()}var c=this;if(this.readyState="pausing",this.polling||!this.writable){var d=0;this.polling&&(j("we are currently polling - waiting to pause"),d++,this.once("pollComplete",function(){j("pre-pause polling complete"),--d||b()})),this.writable||(j("we are currently writing - waiting to pause"),d++,this.once("drain",function(){j("pre-pause writing complete"),--d||b()}))}else b()},d.prototype.poll=function(){j("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},d.prototype.onData=function(a){var b=this;j("polling got data %s",a);var c=function(a,c,d){return"opening"===b.readyState&&b.onOpen(),"close"===a.type?(b.onClose(),!1):void b.onPacket(a)};g.decodePayload(a,this.socket.binaryType,c),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():j('ignoring poll - transport state "%s"',this.readyState))},d.prototype.doClose=function(){function a(){j("writing close packet"),b.write([{type:"close"}])}var b=this;"open"===this.readyState?(j("transport open - closing"),a()):(j("transport not open - deferring close"),this.once("open",a))},d.prototype.write=function(a){var b=this;this.writable=!1;var c=function(){b.writable=!0,b.emit("drain")};g.encodePayload(a,this.supportsBinary,function(a){b.doWrite(a,c)})},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"https":"http",c="";!1!==this.timestampRequests&&(a[this.timestampParam]=i()),this.supportsBinary||a.sid||(a.b64=1),a=f.encode(a),this.port&&("https"===b&&443!==Number(this.port)||"http"===b&&80!==Number(this.port))&&(c=":"+this.port),a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a}},function(a,b,c){function d(a){this.path=a.path,this.hostname=a.hostname,this.port=a.port,this.secure=a.secure,this.query=a.query,this.timestampParam=a.timestampParam,this.timestampRequests=a.timestampRequests,this.readyState="",this.agent=a.agent||!1,this.socket=a.socket,this.enablesXDR=a.enablesXDR,this.pfx=a.pfx,this.key=a.key,this.passphrase=a.passphrase,this.cert=a.cert,this.ca=a.ca,this.ciphers=a.ciphers,this.rejectUnauthorized=a.rejectUnauthorized,this.forceNode=a.forceNode,this.extraHeaders=a.extraHeaders,this.localAddress=a.localAddress}var e=c(23),f=c(8);a.exports=d,f(d.prototype),d.prototype.onError=function(a,b){var c=new Error(a);return c.type="TransportError",c.description=b,this.emit("error",c),this},d.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},d.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},d.prototype.send=function(a){if("open"!==this.readyState)throw new Error("Transport not open");this.write(a)},d.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},d.prototype.onData=function(a){var b=e.decodePacket(a,this.socket.binaryType);this.onPacket(b)},d.prototype.onPacket=function(a){this.emit("packet",a)},d.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(a,b,c){(function(a){function d(a,c){var d="b"+b.packets[a.type]+a.data.data;return c(d)}function e(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=a.data,f=new Uint8Array(e),g=new Uint8Array(1+e.byteLength);g[0]=s[a.type];for(var h=0;h<f.length;h++)g[h+1]=f[h];return d(g.buffer)}function f(a,c,d){if(!c)return b.encodeBase64Packet(a,d);var e=new FileReader;return e.onload=function(){a.data=e.result,b.encodePacket(a,c,!0,d)},e.readAsArrayBuffer(a.data)}function g(a,c,d){if(!c)return b.encodeBase64Packet(a,d);if(r)return f(a,c,d);var e=new Uint8Array(1);e[0]=s[a.type];var g=new v([e.buffer,a.data]);return d(g)}function h(a){try{a=o.decode(a,{strict:!1})}catch(b){return!1}return a}function i(a,b,c){for(var d=new Array(a.length),e=n(a.length,c),f=function(a,c,e){b(c,function(b,c){d[a]=c,e(b,d)})},g=0;g<a.length;g++)f(g,a[g],e)}var j,k=c(24),l=c(9),m=c(25),n=c(26),o=c(27);a&&a.ArrayBuffer&&(j=c(29));var p="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),q="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),r=p||q;b.protocol=3;var s=b.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},t=k(s),u={type:"error",data:"parser error"},v=c(30);b.encodePacket=function(b,c,f,h){"function"==typeof c&&(h=c,c=!1),"function"==typeof f&&(h=f,f=null);var i=void 0===b.data?void 0:b.data.buffer||b.data;if(a.ArrayBuffer&&i instanceof ArrayBuffer)return e(b,c,h);if(v&&i instanceof a.Blob)return g(b,c,h);if(i&&i.base64)return d(b,h);var j=s[b.type];return void 0!==b.data&&(j+=f?o.encode(String(b.data),{strict:!1}):String(b.data)),h(""+j)},b.encodeBase64Packet=function(c,d){var e="b"+b.packets[c.type];if(v&&c.data instanceof a.Blob){var f=new FileReader;return f.onload=function(){var a=f.result.split(",")[1];d(e+a)},f.readAsDataURL(c.data)}var g;try{g=String.fromCharCode.apply(null,new Uint8Array(c.data))}catch(h){for(var i=new Uint8Array(c.data),j=new Array(i.length),k=0;k<i.length;k++)j[k]=i[k];g=String.fromCharCode.apply(null,j)}return e+=a.btoa(g),d(e)},b.decodePacket=function(a,c,d){if(void 0===a)return u;if("string"==typeof a){if("b"===a.charAt(0))return b.decodeBase64Packet(a.substr(1),c);if(d&&(a=h(a),a===!1))return u;var e=a.charAt(0);return Number(e)==e&&t[e]?a.length>1?{type:t[e],data:a.substring(1)}:{type:t[e]}:u}var f=new Uint8Array(a),e=f[0],g=m(a,1);return v&&"blob"===c&&(g=new v([g])),{type:t[e],data:g}},b.decodeBase64Packet=function(a,b){var c=t[a.charAt(0)];if(!j)return{type:c,data:{base64:!0,data:a.substr(1)}};var d=j.decode(a.substr(1));return"blob"===b&&v&&(d=new v([d])),{type:c,data:d}},b.encodePayload=function(a,c,d){function e(a){return a.length+":"+a}function f(a,d){b.encodePacket(a,!!g&&c,!1,function(a){d(null,e(a))})}"function"==typeof c&&(d=c,c=null);var g=l(a);return c&&g?v&&!r?b.encodePayloadAsBlob(a,d):b.encodePayloadAsArrayBuffer(a,d):a.length?void i(a,f,function(a,b){return d(b.join(""))}):d("0:")},b.decodePayload=function(a,c,d){if("string"!=typeof a)return b.decodePayloadAsBinary(a,c,d);"function"==typeof c&&(d=c,c=null);var e;if(""===a)return d(u,0,1);for(var f,g,h="",i=0,j=a.length;j>i;i++){var k=a.charAt(i);if(":"===k){if(""===h||h!=(f=Number(h)))return d(u,0,1);if(g=a.substr(i+1,f),h!=g.length)return d(u,0,1);if(g.length){if(e=b.decodePacket(g,c,!1),u.type===e.type&&u.data===e.data)return d(u,0,1);var l=d(e,i+f,j);if(!1===l)return}i+=f,h=""}else h+=k}return""!==h?d(u,0,1):void 0},b.encodePayloadAsArrayBuffer=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){return c(null,a)})}return a.length?void i(a,d,function(a,b){var d=b.reduce(function(a,b){var c;return c="string"==typeof b?b.length:b.byteLength,a+c.toString().length+c+2},0),e=new Uint8Array(d),f=0;return b.forEach(function(a){var b="string"==typeof a,c=a;if(b){for(var d=new Uint8Array(a.length),g=0;g<a.length;g++)d[g]=a.charCodeAt(g);c=d.buffer}b?e[f++]=0:e[f++]=1;for(var h=c.byteLength.toString(),g=0;g<h.length;g++)e[f++]=parseInt(h[g]);e[f++]=255;for(var d=new Uint8Array(c),g=0;g<d.length;g++)e[f++]=d[g]}),c(e.buffer)}):c(new ArrayBuffer(0))},b.encodePayloadAsBlob=function(a,c){function d(a,c){b.encodePacket(a,!0,!0,function(a){var b=new Uint8Array(1);if(b[0]=1,"string"==typeof a){for(var d=new Uint8Array(a.length),e=0;e<a.length;e++)d[e]=a.charCodeAt(e);a=d.buffer,b[0]=0}for(var f=a instanceof ArrayBuffer?a.byteLength:a.size,g=f.toString(),h=new Uint8Array(g.length+1),e=0;e<g.length;e++)h[e]=parseInt(g[e]);if(h[g.length]=255,v){var i=new v([b.buffer,h.buffer,a]);c(null,i)}})}i(a,d,function(a,b){return c(new v(b))})},b.decodePayloadAsBinary=function(a,c,d){"function"==typeof c&&(d=c,c=null);for(var e=a,f=[];e.byteLength>0;){for(var g=new Uint8Array(e),h=0===g[0],i="",j=1;255!==g[j];j++){if(i.length>310)return d(u,0,1);i+=g[j]}e=m(e,2+i.length),i=parseInt(i);var k=m(e,0,i);if(h)try{k=String.fromCharCode.apply(null,new Uint8Array(k))}catch(l){var n=new Uint8Array(k);k="";for(var j=0;j<n.length;j++)k+=String.fromCharCode(n[j])}f.push(k),e=m(e,i)}var o=f.length;f.forEach(function(a,e){d(b.decodePacket(a,c,!0),e,o)})}}).call(b,function(){return this}())},function(a,b){a.exports=Object.keys||function(a){var b=[],c=Object.prototype.hasOwnProperty;for(var d in a)c.call(a,d)&&b.push(d);return b}},function(a,b){a.exports=function(a,b,c){var d=a.byteLength;if(b=b||0,c=c||d,a.slice)return a.slice(b,c);if(0>b&&(b+=d),0>c&&(c+=d),c>d&&(c=d),b>=d||b>=c||0===d)return new ArrayBuffer(0);for(var e=new Uint8Array(a),f=new Uint8Array(c-b),g=b,h=0;c>g;g++,h++)f[h]=e[g];return f.buffer}},function(a,b){function c(a,b,c){function e(a,d){if(e.count<=0)throw new Error("after called too many times");--e.count,a?(f=!0,b(a),b=c):0!==e.count||f||b(null,d)}var f=!1;return c=c||d,e.count=a,0===a?b():e}function d(){}a.exports=c},function(a,b,c){var d;(function(a,e){!function(f){function g(a){for(var b,c,d=[],e=0,f=a.length;f>e;)b=a.charCodeAt(e++),b>=55296&&56319>=b&&f>e?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function h(a){for(var b,c=a.length,d=-1,e="";++d<c;)b=a[d],b>65535&&(b-=65536,e+=u(b>>>10&1023|55296),b=56320|1023&b),e+=u(b);return e}function i(a,b){if(a>=55296&&57343>=a){if(b)throw Error("Lone surrogate U+"+a.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function j(a,b){return u(a>>b&63|128)}function k(a,b){if(0==(4294967168&a))return u(a);var c="";return 0==(4294965248&a)?c=u(a>>6&31|192):0==(4294901760&a)?(i(a,b)||(a=65533),c=u(a>>12&15|224),c+=j(a,6)):0==(4292870144&a)&&(c=u(a>>18&7|240),c+=j(a,12),c+=j(a,6)),c+=u(63&a|128)}function l(a,b){b=b||{};for(var c,d=!1!==b.strict,e=g(a),f=e.length,h=-1,i="";++h<f;)c=e[h],i+=k(c,d);return i}function m(){if(t>=s)throw Error("Invalid byte index");var a=255&r[t];if(t++,128==(192&a))return 63&a;throw Error("Invalid continuation byte")}function n(a){var b,c,d,e,f;if(t>s)throw Error("Invalid byte index");if(t==s)return!1;if(b=255&r[t],t++,0==(128&b))return b;if(192==(224&b)){if(c=m(),f=(31&b)<<6|c,f>=128)return f;throw Error("Invalid continuation byte")}if(224==(240&b)){if(c=m(),d=m(),f=(15&b)<<12|c<<6|d,f>=2048)return i(f,a)?f:65533;throw Error("Invalid continuation byte")}if(240==(248&b)&&(c=m(),d=m(),e=m(),f=(7&b)<<18|c<<12|d<<6|e,f>=65536&&1114111>=f))return f;throw Error("Invalid UTF-8 detected")}function o(a,b){b=b||{};var c=!1!==b.strict;r=g(a),s=r.length,t=0;for(var d,e=[];(d=n(c))!==!1;)e.push(d);return h(e)}var p="object"==typeof b&&b,q=("object"==typeof a&&a&&a.exports==p&&a,"object"==typeof e&&e);q.global!==q&&q.window!==q||(f=q);var r,s,t,u=String.fromCharCode,v={version:"2.1.2",encode:l,decode:o};d=function(){return v}.call(b,c,b,a),!(void 0!==d&&(a.exports=d))}(this)}).call(b,c(28)(a),function(){return this}())},function(a,b){a.exports=function(a){return a.webpackPolyfill||(a.deprecate=function(){},a.paths=[],a.children=[],a.webpackPolyfill=1),a}},function(a,b){!function(){"use strict";for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=new Uint8Array(256),d=0;d<a.length;d++)c[a.charCodeAt(d)]=d;b.encode=function(b){var c,d=new Uint8Array(b),e=d.length,f="";for(c=0;e>c;c+=3)f+=a[d[c]>>2],f+=a[(3&d[c])<<4|d[c+1]>>4],f+=a[(15&d[c+1])<<2|d[c+2]>>6],f+=a[63&d[c+2]];return e%3===2?f=f.substring(0,f.length-1)+"=":e%3===1&&(f=f.substring(0,f.length-2)+"=="),f},b.decode=function(a){var b,d,e,f,g,h=.75*a.length,i=a.length,j=0;"="===a[a.length-1]&&(h--,"="===a[a.length-2]&&h--);var k=new ArrayBuffer(h),l=new Uint8Array(k);for(b=0;i>b;b+=4)d=c[a.charCodeAt(b)],e=c[a.charCodeAt(b+1)],f=c[a.charCodeAt(b+2)],g=c[a.charCodeAt(b+3)],l[j++]=d<<2|e>>4,l[j++]=(15&e)<<4|f>>2,l[j++]=(3&f)<<6|63&g;return k}}()},function(a,b){(function(b){function c(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.buffer instanceof ArrayBuffer){var d=c.buffer;if(c.byteLength!==d.byteLength){var e=new Uint8Array(c.byteLength);e.set(new Uint8Array(d,c.byteOffset,c.byteLength)),d=e.buffer}a[b]=d}}}function d(a,b){b=b||{};var d=new f;c(a);for(var e=0;e<a.length;e++)d.append(a[e]);return b.type?d.getBlob(b.type):d.getBlob()}function e(a,b){return c(a),new Blob(a,b||{})}var f=b.BlobBuilder||b.WebKitBlobBuilder||b.MSBlobBuilder||b.MozBlobBuilder,g=function(){try{var a=new Blob(["hi"]);return 2===a.size}catch(b){return!1}}(),h=g&&function(){try{var a=new Blob([new Uint8Array([1,2])]);return 2===a.size}catch(b){return!1}}(),i=f&&f.prototype.append&&f.prototype.getBlob;a.exports=function(){return g?h?b.Blob:e:i?d:void 0}()}).call(b,function(){return this}())},function(a,b){b.encode=function(a){var b="";for(var c in a)a.hasOwnProperty(c)&&(b.length&&(b+="&"),b+=encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b},b.decode=function(a){for(var b={},c=a.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");b[decodeURIComponent(f[0])]=decodeURIComponent(f[1])}return b}},function(a,b){a.exports=function(a,b){var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},function(a,b){"use strict";function c(a){var b="";do b=g[a%h]+b,a=Math.floor(a/h);while(a>0);return b}function d(a){var b=0;for(k=0;k<a.length;k++)b=b*h+i[a.charAt(k)];return b}function e(){var a=c(+new Date);return a!==f?(j=0,f=a):a+"."+c(j++)}for(var f,g="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),h=64,i={},j=0,k=0;h>k;k++)i[g[k]]=k;e.encode=c,e.decode=d,a.exports=e},function(a,b,c){(function(b){function d(){}function e(a){f.call(this,a),this.query=this.query||{},h||(b.___eio||(b.___eio=[]),h=b.___eio),this.index=h.length;var c=this;h.push(function(a){c.onData(a)}),this.query.j=this.index,b.document&&b.addEventListener&&b.addEventListener("beforeunload",function(){c.script&&(c.script.onerror=d)},!1)}var f=c(21),g=c(32);a.exports=e;var h,i=/\n/g,j=/\\n/g;g(e,f),e.prototype.supportsBinary=!1,e.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),f.prototype.doClose.call(this)},e.prototype.doPoll=function(){var a=this,b=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),b.async=!0,b.src=this.uri(),b.onerror=function(b){a.onError("jsonp poll error",b)};var c=document.getElementsByTagName("script")[0];c?c.parentNode.insertBefore(b,c):(document.head||document.body).appendChild(b),this.script=b;var d="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype.doWrite=function(a,b){function c(){d(),b()}function d(){if(e.iframe)try{e.form.removeChild(e.iframe)}catch(a){e.onError("jsonp polling iframe removal error",a)}try{var b='<iframe src="javascript:0" name="'+e.iframeId+'">';f=document.createElement(b)}catch(a){f=document.createElement("iframe"),f.name=e.iframeId,f.src="javascript:0"}f.id=e.iframeId,e.form.appendChild(f),e.iframe=f}var e=this;if(!this.form){var f,g=document.createElement("form"),h=document.createElement("textarea"),k=this.iframeId="eio_iframe_"+this.index;g.className="socketio",g.style.position="absolute",g.style.top="-1000px",g.style.left="-1000px",g.target=k,g.method="POST",g.setAttribute("accept-charset","utf-8"),h.name="d",g.appendChild(h),document.body.appendChild(g),this.form=g,this.area=h}this.form.action=this.uri(),d(),a=a.replace(j,"\\\n"),this.area.value=a.replace(i,"\\n");try{this.form.submit()}catch(l){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===e.iframe.readyState&&c()}:this.iframe.onload=c}}).call(b,function(){return this}())},function(a,b,c){(function(b){function d(a){var b=a&&a.forceBase64;b&&(this.supportsBinary=!1),this.perMessageDeflate=a.perMessageDeflate,this.usingBrowserWebSocket=l&&!a.forceNode,this.protocols=a.protocols,this.usingBrowserWebSocket||(n=e),f.call(this,a)}var e,f=c(22),g=c(23),h=c(31),i=c(32),j=c(33),k=c(3)("engine.io-client:websocket"),l=b.WebSocket||b.MozWebSocket;if("undefined"==typeof window)try{e=c(36)}catch(m){}var n=l;n||"undefined"!=typeof window||(n=e),a.exports=d,i(d,f),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var a=this.uri(),b=this.protocols,c={agent:this.agent,perMessageDeflate:this.perMessageDeflate};c.pfx=this.pfx,c.key=this.key,c.passphrase=this.passphrase,c.cert=this.cert,c.ca=this.ca,c.ciphers=this.ciphers,c.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(c.headers=this.extraHeaders),this.localAddress&&(c.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket?b?new n(a,b):new n(a):new n(a,b,c)}catch(d){return this.emit("error",d)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var a=this;this.ws.onopen=function(){a.onOpen()},this.ws.onclose=function(){a.onClose()},this.ws.onmessage=function(b){a.onData(b.data)},this.ws.onerror=function(b){a.onError("websocket error",b)}},d.prototype.write=function(a){function c(){d.emit("flush"),setTimeout(function(){d.writable=!0,d.emit("drain")},0)}var d=this;this.writable=!1;for(var e=a.length,f=0,h=e;h>f;f++)!function(a){g.encodePacket(a,d.supportsBinary,function(f){if(!d.usingBrowserWebSocket){var g={};if(a.options&&(g.compress=a.options.compress),d.perMessageDeflate){var h="string"==typeof f?b.Buffer.byteLength(f):f.length;h<d.perMessageDeflate.threshold&&(g.compress=!1)}}try{d.usingBrowserWebSocket?d.ws.send(f):d.ws.send(f,g)}catch(i){k("websocket closed before onclose event")}--e||c()})}(a[f])},d.prototype.onClose=function(){f.prototype.onClose.call(this)},d.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},d.prototype.uri=function(){var a=this.query||{},b=this.secure?"wss":"ws",c="";this.port&&("wss"===b&&443!==Number(this.port)||"ws"===b&&80!==Number(this.port))&&(c=":"+this.port),this.timestampRequests&&(a[this.timestampParam]=j()),this.supportsBinary||(a.b64=1),a=h.encode(a),a.length&&(a="?"+a);var d=-1!==this.hostname.indexOf(":");return b+"://"+(d?"["+this.hostname+"]":this.hostname)+c+this.path+a},d.prototype.check=function(){return!(!n||"__initialize"in n&&this.name===d.prototype.name)}}).call(b,function(){return this}())},function(a,b){},function(a,b){var c=[].indexOf;a.exports=function(a,b){if(c)return a.indexOf(b);for(var d=0;d<a.length;++d)if(a[d]===b)return d;return-1}},function(a,b){(function(b){var c=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,e=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,f=/(?:^|:|,)(?:\s*\[)+/g,g=/^\s+/,h=/\s+$/;a.exports=function(a){return"string"==typeof a&&a?(a=a.replace(g,"").replace(h,""),b.JSON&&JSON.parse?JSON.parse(a):c.test(a.replace(d,"@").replace(e,"]").replace(f,""))?new Function("return "+a)():void 0):null}}).call(b,function(){return this}())},function(a,b,c){"use strict";function d(a,b,c){this.io=a,this.nsp=b,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,c&&c.query&&(this.query=c.query),this.io.autoConnect&&this.open()}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=c(7),g=c(8),h=c(40),i=c(41),j=c(42),k=c(3)("socket.io-client:socket"),l=c(31);a.exports=b=d;var m={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},n=g.prototype.emit;g(d.prototype),d.prototype.subEvents=function(){if(!this.subs){var a=this.io;this.subs=[i(a,"open",j(this,"onopen")),i(a,"packet",j(this,"onpacket")),i(a,"close",j(this,"onclose"))]}},d.prototype.open=d.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting"),this)},d.prototype.send=function(){var a=h(arguments);return a.unshift("message"),this.emit.apply(this,a),this},d.prototype.emit=function(a){if(m.hasOwnProperty(a))return n.apply(this,arguments),this;var b=h(arguments),c={type:f.EVENT,data:b};return c.options={},c.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof b[b.length-1]&&(k("emitting packet with ack id %d",this.ids),this.acks[this.ids]=b.pop(),c.id=this.ids++),this.connected?this.packet(c):this.sendBuffer.push(c),delete this.flags,this},d.prototype.packet=function(a){a.nsp=this.nsp,this.io.packet(a)},d.prototype.onopen=function(){if(k("transport is open - connecting"),"/"!==this.nsp)if(this.query){
var a="object"===e(this.query)?l.encode(this.query):this.query;k("sending connect packet with query %s",a),this.packet({type:f.CONNECT,query:a})}else this.packet({type:f.CONNECT})},d.prototype.onclose=function(a){k("close (%s)",a),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",a)},d.prototype.onpacket=function(a){if(a.nsp===this.nsp)switch(a.type){case f.CONNECT:this.onconnect();break;case f.EVENT:this.onevent(a);break;case f.BINARY_EVENT:this.onevent(a);break;case f.ACK:this.onack(a);break;case f.BINARY_ACK:this.onack(a);break;case f.DISCONNECT:this.ondisconnect();break;case f.ERROR:this.emit("error",a.data)}},d.prototype.onevent=function(a){var b=a.data||[];k("emitting event %j",b),null!=a.id&&(k("attaching ack callback to event"),b.push(this.ack(a.id))),this.connected?n.apply(this,b):this.receiveBuffer.push(b)},d.prototype.ack=function(a){var b=this,c=!1;return function(){if(!c){c=!0;var d=h(arguments);k("sending ack %j",d),b.packet({type:f.ACK,id:a,data:d})}}},d.prototype.onack=function(a){var b=this.acks[a.id];"function"==typeof b?(k("calling ack %s with %j",a.id,a.data),b.apply(this,a.data),delete this.acks[a.id]):k("bad ack %s",a.id)},d.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},d.prototype.emitBuffered=function(){var a;for(a=0;a<this.receiveBuffer.length;a++)n.apply(this,this.receiveBuffer[a]);for(this.receiveBuffer=[],a=0;a<this.sendBuffer.length;a++)this.packet(this.sendBuffer[a]);this.sendBuffer=[]},d.prototype.ondisconnect=function(){k("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},d.prototype.destroy=function(){if(this.subs){for(var a=0;a<this.subs.length;a++)this.subs[a].destroy();this.subs=null}this.io.destroy(this)},d.prototype.close=d.prototype.disconnect=function(){return this.connected&&(k("performing disconnect (%s)",this.nsp),this.packet({type:f.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},d.prototype.compress=function(a){return this.flags=this.flags||{},this.flags.compress=a,this}},function(a,b){function c(a,b){var c=[];b=b||0;for(var d=b||0;d<a.length;d++)c[d-b]=a[d];return c}a.exports=c},function(a,b){"use strict";function c(a,b,c){return a.on(b,c),{destroy:function(){a.removeListener(b,c)}}}a.exports=c},function(a,b){var c=[].slice;a.exports=function(a,b){if("string"==typeof b&&(b=a[b]),"function"!=typeof b)throw new Error("bind() requires a function");var d=c.call(arguments,2);return function(){return b.apply(a,d.concat(c.call(arguments)))}}},function(a,b){function c(a){a=a||{},this.ms=a.min||100,this.max=a.max||1e4,this.factor=a.factor||2,this.jitter=a.jitter>0&&a.jitter<=1?a.jitter:0,this.attempts=0}a.exports=c,c.prototype.duration=function(){var a=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var b=Math.random(),c=Math.floor(b*this.jitter*a);a=0==(1&Math.floor(10*b))?a-c:a+c}return 0|Math.min(a,this.max)},c.prototype.reset=function(){this.attempts=0},c.prototype.setMin=function(a){this.ms=a},c.prototype.setMax=function(a){this.max=a},c.prototype.setJitter=function(a){this.jitter=a}}])}),function(){"use strict";angular.module("WissenSystem",["ngAnimate","ngAria","ngCookies","ngResource","ngRoute","ngSanitize","ui.router","ui.bootstrap","pascalprecht.translate","angular-loading-bar","http-auth-interceptor","ui.grid","ui.grid.edit","ui.grid.resizeColumns","ui.grid.exporter","ui.grid.selection","ngFileUpload","FBAngular","ngMaterial","textAngular","angular-svg-round-progress","qrScanner","ja.qr","ngclipboard","camera","toastr","ui.select","restangular","angular-web-notification"]).constant("App",function(){var a,b,c,d;return c=location.hostname,a=c+"/","undefined"!=typeof Storage?null===localStorage.getItem("dominio")?(console.log("No hay dominio almacenado"),localStorage.setItem("dominio",c)):localStorage.servidor_por_puerto?a=localStorage.servidor_por_puerto>0?"http://"+localStorage.getItem("dominio")+":"+localStorage.servidor_por_puerto+"/":"http://"+localStorage.getItem("dominio")+"/":(localStorage.servidor_por_puerto=0,a="http://"+localStorage.getItem("dominio")+"/"):alert("El navegador no soporta LocalStorage"),console.log("hostname: ",location.hostname),d=a+"wissenLaravel/public/",b=a+"ws_dist/",{Server:d,views:"views/",images:d+"images/",perfilPath:d+"images/perfil/",imgSystemPath:d+"images/eventos/",dominio:a}}()).constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("USER_ROLES",{all:"*",admin:"admin",participante:"participante",tecnico:"tecnico",profesor:"profesor",guest:"guest"}).constant("PERMISSIONS",{can_work_like_admin:"like_admin",can_work_like_teacher:"like_teacher",can_work_like_participante:"like_participante",can_work_like_asesor:"like_asesor",can_work_like_guest:"like_guest",can_accept_images:"can_accept_images",can_edit_participantes:"can_edit_participantes",can_edit_usuarios:"can_edit_usuarios"})}.call(this),function(){"use strict";angular.module("WissenSystem").controller("ApplicationController",["$scope","USER_ROLES","AuthService","toastr","$state","$rootScope","Restangular","$filter","$timeout","MySocket",function(a,b,c,d,e,f,g,h,i,j){return a.isAuthorized=c.isAuthorized,a.hasRoleOrPerm=c.hasRoleOrPerm,a.USER_ROLES=b,a.isLoginPage=!1,a.navFull=!1,a.toggleNav=function(){return a.navFull=!a.navFull,a.navOffCanvas=!a.navOffCanvas,console.log("navOffCanvas: "+a.navOffCanvas),i(function(){return a.$broadcast("c3.resize")},260)},a.tema="theme-zero",a.cambiarTema=function(b){return a.tema=b},a.idiomas_del_sistema=function(){var b,c,d,e,f;for(a.idiomas_usados=h("idiomas_del_sistema")(a.idiomas),e=a.idiomas_usados,f=[],b=0,d=e.length;d>b;b++)c=e[b],"ES"===c.abrev?f.push(c.actual=!0):f.push(void 0);return f},a.idiomas=[],g.all("idiomas").getList().then(function(b){return a.idiomas=b,a.idiomas_del_sistema()},function(a){var b;return 404!==a.status?console.log("No se trajeron los idiomas del sistema.",a):(b=confirm("Si es la primera vez, debes actializar la página ¿Actualizar ahora?"))?location.reload():void 0}),a.in_evento_actual={}}])}.call(this),function(){angular.module("WissenSystem").config(["$cookiesProvider","$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","App","PERMISSIONS","RestangularProvider","$intervalProvider","$rootScopeProvider","USER_ROLES","toastrConfig","uiSelectConfig","$provide",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return h.setBaseUrl(f.Server+"api/"),d.defaults.useXDomain=!0,delete d.defaults.headers.common["X-Requested-With"],d.defaults.headers.common.Accept="application/json",d.defaults.headers.common["Content-Type"]="application/json",m.theme="select2",m.resetSearchInput=!0,c.otherwise("/login"),b.state("main",{url:"/",views:{principal:{templateUrl:f.views+"main/main.tpl.html",controller:"MainCtrl"}},data:{pageTitle:"En Construcción"}}).state("landing",{url:"/landing",views:{principal:{templateUrl:f.views+"main/landing.tpl.html",controller:"LandingCtrl"}},data:{pageTitle:"Liceo Adventista Libertad"}}).state("login",{url:"/login",views:{principal:{templateUrl:f.views+"login/login.tpl.html",controller:"LoginCtrl"}},data:{pageTitle:"Ingresar a Wissen"}}).state("logout",{url:"/logout",views:{principal:{templateUrl:f.views+"login/logout.tpl.html",controller:"LogoutCtrl"}},data:{icon_fa:"fa fa-user"}}),j.bigLoader=!0,n.decorator("taOptions",["taRegisterTool","$delegate",function(a,b){return b.forceTextAngularSanitize=!1,b.toolbar=[["h1","h2","h3","p","pre"],["bold","italics","underline","ul","ol","undo","redo"],["justifyLeft","justifyCenter","justifyRight","justifyFull"],["insertImage","insertLink","insertVideo","html","charcount"]],a("superscript",{iconclass:"fa fa-superscript",action:function(){return this.$editor().wrapSelection("superscript",null)},activeState:function(){return this.$editor().queryCommandState("superscript")}}),a("subscript",{iconclass:"fa fa-subscript",action:function(){return this.$editor().wrapSelection("subscript",null)},activeState:function(){return this.$editor().queryCommandState("subscript")}}),a("insertSlash",{iconclass:"fa fa-slash",tooltiptext:"Insertar fracción",action:function(a,b){return this.$editor().wrapSelection("insertHTML","&frasl;",!0)}}),b.toolbar[2].push("superscript"),b.toolbar[2].push("subscript"),b.toolbar[2].push("insertSlash"),b}]),_.mixin({findByValues:function(a,b,c){var d;return d=_.filter(a,function(a){return _.contains(c,a[b])}),0===d.length?!1:d[0]}}),this}]).filter("capitalize",function(){return function(a,b){return a?a.replace(/([^\W_]+[^\s-]*) */g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()}):""}})}.call(this),function(){"use strict";angular.module("WissenSystem").controller("MainCtrl",["$scope",function(a){console.log("A cambiar desde main")}]).controller("LandingCtrl",["$scope",function(a){}])}.call(this),function(a,b,c){"use strict";function d(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return g(b,l(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}function e(a){var c=[],d=l(c,b.noop);return d.chars(a),c.join("")}function f(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function g(a,c){function d(a,d,f,g){if(d=b.lowercase(d),B[d])for(;j.last()&&C[j.last()];)e("",j.last());A[d]&&j.last()==d&&e("",d),g=x[d]||!!g,g||j.push(d);var i={};f.replace(p,function(a,b,c,d,e){var f=c||d||e||"";i[b]=h(f)}),c.start&&c.start(d,i,g)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=j.length-1;f>=0&&j[f]!=d;f--);if(f>=0){for(e=j.length-1;e>=f;e--)c.end&&c.end(j[e]);j.length=f}}var f,g,i,j=[],k=a;for(j.last=function(){return j[j.length-1]};a;){if(g=!0,j.last()&&D[j.last()])a=a.replace(new RegExp("(.*)<\\s*\\/\\s*"+j.last()+"[^>]*>","i"),function(a,b){return b=b.replace(s,"$1").replace(u,"$1"),c.chars&&c.chars(h(b)),""}),e("",j.last());else if(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),g=!1)):t.test(a)?(i=a.match(t),i&&(a=a.replace(i[0],""),g=!1)):r.test(a)?(i=a.match(o),i&&(a=a.substring(i[0].length),i[0].replace(o,e),g=!1)):q.test(a)&&(i=a.match(n),i&&(a=a.substring(i[0].length),i[0].replace(n,d),g=!1)),g){f=a.indexOf("<");var l=0>f?a:a.substring(0,f);a=0>f?"":a.substring(f),c.chars&&c.chars(h(l))}if(a==k)throw m("badparse","The sanitizer was unable to parse the following block of html: {0}",a);k=a}e()}function h(a){if(!a)return"";var b=I.exec(a),c=b[1],d=b[3],e=b[2];return e&&(H.innerHTML=e.replace(/</g,"&lt;"),e="textContent"in H?H.textContent:H.innerText),c+e+d}function i(a){return a.replace(/&/g,"&amp;").replace(v,function(a){var b=a.charCodeAt(0),c=a.charCodeAt(1);return"&#"+(1024*(b-55296)+(c-56320)+65536)+";"}).replace(w,function(a){var b=a.charCodeAt(0);return 159>=b||173==b||b>=1536&&1540>=b||1807==b||6068==b||6069==b||b>=8204&&8207>=b||b>=8232&&8239>=b||b>=8288&&8303>=b||65279==b||b>=65520&&65535>=b?"&#"+b+";":a}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function j(a){var c="",d=a.split(";");return b.forEach(d,function(a){var d=a.split(":");if(2==d.length){var e=J(b.lowercase(d[0])),a=J(b.lowercase(d[1]));(("color"===e||"background-color"===e)&&(a.match(/^rgb\([0-9%,\. ]*\)$/i)||a.match(/^rgba\([0-9%,\. ]*\)$/i)||a.match(/^hsl\([0-9%,\. ]*\)$/i)||a.match(/^hsla\([0-9%,\. ]*\)$/i)||a.match(/^#[0-9a-f]{3,6}$/i)||a.match(/^[a-z]*$/i))||"text-align"===e&&("left"===a||"right"===a||"center"===a||"justify"===a)||"float"===e&&("left"===a||"right"===a||"none"===a)||("width"===e||"height"===e)&&a.match(/[0-9\.]*(px|em|rem|%)/))&&(c+=e+": "+a+";")}}),c}function k(a,b,c,d){return"img"===a&&b["ta-insert-video"]&&("ta-insert-video"===c||"allowfullscreen"===c||"frameborder"===c||"contenteditble"===c&&"false"===d)?!0:!1}function l(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&D[a]&&(d=a),d||E[a]!==!0||(e("<"),e(a),b.forEach(f,function(d,g){var h=b.lowercase(g),l="img"===a&&"src"===h||"background"===h;("style"===h&&""!==(d=j(d))||k(a,f,h,d)||G[h]===!0&&(F[h]!==!0||c(d,l)))&&(e(" "),e(g),e('="'),e(i(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||E[a]!==!0||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(i(a))}}}var m=b.$$minErr("$sanitize"),n=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,o=/^<\s*\/\s*([\w:-]+)[^>]*>/,p=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,q=/^</,r=/^<\s*\//,s=/<!--(.*?)-->/g,t=/<!DOCTYPE([^>]*?)>/i,u=/<!\[CDATA\[(.*?)]]>/g,v=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,w=/([^\#-~| |!])/g,x=f("area,br,col,hr,img,wbr"),y=f("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),z=f("rp,rt"),A=b.extend({},z,y),B=b.extend({},y,f("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),C=b.extend({},z,f("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),D=f("script,style"),E=b.extend({},x,B,C,A),F=f("background,cite,href,longdesc,src,usemap"),G=b.extend({},F,f("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width")),H=document.createElement("pre"),I=/^(\s*)([\s\S]*?)(\s*)$/,J=function(){return String.prototype.trim?function(a){return b.isString(a)?a.trim():a}:function(a){return b.isString(a)?a.replace(/^\s\s*/,"").replace(/\s\s*$/,""):a}}();b.module("ngSanitize",[]).provider("$sanitize",d),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,d=/^mailto:/;return function(f,g){function h(a){a&&n.push(e(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&(n.push('target="'),n.push(g),n.push('" ')),n.push('href="'),n.push(a),n.push('">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]==j[3]&&(k="mailto:"+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(d,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),function(){angular.module("WissenSystem").run(["$rootScope","cfpLoadingBar","$state","$stateParams","$translate","$cookies","Restangular","Perfil","AuthService","AUTH_EVENTS","toastr",function(a,b,c,d,e,f,g,h,i,j,k){var l;return a.examen_actual=[],a.permiso_de_salir=!1,a.$state=c,a.$stateParams=d,a.lastState=null,a.lastStateParam=null,a.$on("event:auth-loginRequired",function(a){return console.log("Acceso no permitido, vamos a loguear",a),c.transitionTo("login")}),l=function(){return null===a.lastState||"login"===a.lastState||"/"===a.lastState||"main"===a.lastState?c.go("panel"):c.transitionTo(a.lastState,a.lastStateParam)},a.$on("event:auth-loginConfirmed",function(){return console.log("Logueado con éxito!"),l()}),a.$on("$stateChangeStart",function(b,c,d,e,f){var g;return(null===a.lastState||"logout"!==c.name&&"login"!==c.name&&"main"!==c.name)&&(a.lastState=c.name,a.lastStateParam=d),"panel.examen_respuesta"!==e.name||a.permiso_de_salir!==!1||(g=confirm("No debes salir del examen, ¿Seguro de continuar?"))?void 0:b.preventDefault()}),a.$on("$stateChangeSuccess",function(b,d,e,f,g){return a.pageTitle=c.current.name}),a.$on("$stateChangeError",function(b,d,e,f,g){return console.log(a.lastState,"-Evento fallido: ",b),k.warning("Lo sentimos, hubo un error o no puedes acceder a esta vista"),"panel"!==a.lastState?c.transitionTo("panel"):c.transitionTo("login")}),a.$on("$translatePartialLoaderStructureChanged",function(){return e.refresh(),console.log("Translate refrescado supuestamente.")}),a.$on(j.loginSuccess,function(){return l()}),a.$on(j.loginFailed,function(a){return k.error("Datos incorrecto.","No se pudo loguear"),console.log("Evento loginFailed: ",a)}),a.$on(j.notAuthenticated,function(a){return k.warning("No está autorizado.","Acceso exclusivo"),console.log("Evento notAuthenticated: ",a),c.transitionTo("login")}),a.$on(j.notAuthorized,function(b){return k.warning("No está autorizado para entrar a esta vista","Restringido"),c.go("panel"),console.log("Evento notAuthorized: ",b,a.lastState)})}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App","USER_ROLES","PERMISSIONS","$translateProvider",function(a,b,c,d,e){return e.translations("EN",{LOGIN_MSG:"Sign In to the panel"}).translations("ES",{LOGIN_MSG:"Ingresa al panel"})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("LoginCtrl",["$scope","$state","$mdDialog","AUTH_EVENTS","AuthService","$stateParams","Restangular","$cookies","Perfil","App","cfpLoadingBar","toastr","MySocket","SocketData","SocketClientes","$rootScope","$http",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){a.logoPath="images/MyVc-1.gif",a.imagesPath=j.images,a.modificando_servidor=!1,a.editando_nombre_punto=!1,a.dominio=localStorage.getItem("dominio"),a.MySocket=m,a.SocketData=n,a.SocketClientes=o,a.usuarios_all=[],a.selectedUser={},a.bring_registered_boolean=function(){return a.registered_boolean=localStorage.getItem("registered_boolean")?localStorage.getItem("registered_boolean"):!1,a.registered_boolean="true"===a.registered_boolean?!0:!1,a.registered_boolean},a.in_evento_actual.qr="",a.in_evento_actual.nombre||g.one("welcome").customGET().then(function(b){return a.in_evento_actual=b,a.in_evento_actual.ip=localStorage.getItem("nombre_punto")?localStorage.getItem("nombre_punto"):a.in_evento_actual.ip,m.emit("guardar:mi_qr:resourceId",{qr:b.qr})},function(a){return l.warning("No se trae el evento principal")}),a.credentials={username:"",password:""},k.complete(),m.on("enter",function(a){return a.usuario?g.one("qr/validar-usuario").customPUT({user_id:a.usuario.id,token_auth:a.from_token}).then(function(a){return a.token?(o.usuarios_all=[],h.put("xtoken",a.token),q.defaults.headers.common.Authorization="Bearer "+h.get("xtoken"),b.is("panel")?location.reload(!0):b.go("panel")):void 0},function(a){return l.warning("No se pudo ingresar"),console.log("No se validó el token para este usuario ",a)}):void 0}),a.login=function(){var b;return b=e.login_credentials(a.credentials),b.then(function(a){},function(a){return console.log("Promise de login_credentials rechazada",a)})},a.registrar=function(){return localStorage.setItem("registered_boolean",!0),location.reload(!0)},a.desregistrar=function(){return localStorage.setItem("registered_boolean",!1),location.reload(!0)},a.entrar_como_invitado=function(){var b;return a.credentials.username="sc",a.credentials.password="123",b=e.login_credentials(a.credentials),b.then(function(a){},function(a){return console.log("Promise de login_credentials rechazada",a)})},a.mostrar_modificar_servidor=function(){return a.modificando_servidor=!a.modificando_servidor},a.guardar_servidor=function(){return localStorage.setItem("dominio",a.dominio),location.reload()},a.borrar_servidor=function(){return localStorage.removeItem("dominio")},a.editarNombrePunto=function(b){var d,e;return e={},e.target=document.getElementById("nombre_punto"),d=c.show({controller:"PasswordNombrePuntoCtrl",templateUrl:j.views+"login/passwordNombrePunto.tpl.html",parent:angular.element(document.body),clickOutsideToClose:!0,fullscreen:!0,targetEvent:e}).then(function(b){return console.log(b),""!==b&&null!==b&&b===a.in_evento_actual.password?a.editando_nombre_punto=!0:l.warning("Contraseña incorrecta")},function(){return a.status="You didn't name your dog."})},a.seleccionarUsu=function(b){var c,d,e,f,g;if(b.seleccionado=!b.seleccionado,b.seleccionado){for(a.selectedUser=b,e=a.usuarios_all,f=[],c=0,d=e.length;d>c;c++)g=e[c],g.id!==b.id?f.push(g.seleccionado=!1):f.push(void 0);return f}},a.seleccionarCkUsu=function(b){var c,d,e,f,g;if(b.seleccionado){for(a.selectedUser=b,e=a.usuarios_all,f=[],c=0,d=e.length;d>c;c++)g=e[c],g.id!==b.id?f.push(g.seleccionado=!1):f.push(void 0);return f}},a.ingresar_seleccionado=function(){return a.selectedUser.id?g.one("qr/validar-usuario").customPUT({user_id:a.selectedUser.id,token_auth:n.token_auth}).then(function(c){return c.token?(a.usuarios_all=[],h.put("xtoken",c.token),q.defaults.headers.common.Authorization="Bearer "+h.get("xtoken"),b.go("panel")):void 0},function(a){return l.warning("No se pudo ingresar"),console.log("No se pudo ingresar ",a)}):l.warning("Selecciona el usuario correspondiente")},a.guardarNombrePunto=function(){return localStorage.setItem("nombre_punto",a.in_evento_actual.ip),a.editando_nombre_punto=!1},p.$on("nombre_punto_cambiado",function(b,c){return c.resourceId===i.getResourceId()?(localStorage.setItem("nombre_punto",c.nombre),a.in_evento_actual.ip=c.nombre):void 0}),p.$on("reconocido:mi_nombre_punto",function(b,c){return localStorage.setItem("nombre_punto",c.nombre_punto),a.in_evento_actual.ip=c.nombre_punto})}]).controller("PasswordNombrePuntoCtrl",["$scope","$mdDialog","toastr",function(a,b,c){a.validar=function(a){return b.hide(a)},a.cancelar=function(){return b.cancel()}}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App","USER_ROLES","PERMISSIONS","$translateProvider",function(a,b,c,d,e){a.state("panel",{url:"/panel",views:{principal:{templateUrl:b.views+"panel/panel.tpl.html",controller:"PanelCtrl"}},resolve:{resolved_user:["AuthService",function(a){return a.verificar()}]},data:{pageTitle:"WissenSystem - Bienvenido"}}),e.preferredLanguage("ES"),e.translations("EN",{INICIO_MENU:"Home",USERS_MENU:"Users",EVENTS_MENU:"Events",ENTIDADES_MENU:"Entities",CATEGS_MENU:"Categories",PREGUNTAS_MENU:"Questions",EVALUACIONES_MENU:"Tests",IDIOMA_MENU:"Language",INFORMES_MENU:"Reports",CONTROL_MENU:"Monitoring",SCANNER_MENU:"QR Scanner",SALIR:"Sign out",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Great ultimate",INSCRITO_EN:"You are signed in:",NO_ESTAS_INSCRITO:"You are`t signed in any category.",EXAM_HECHOS:"Done Exams",IMAGEN_TL:"Image"}).translations("ES",{INICIO_MENU:"Inicio",EVENTS_MENU:"Eventos",ENTIDADES_MENU:"Entidades",CATEGS_MENU:"Categorías",PREGUNTAS_MENU:"Preguntas",EVALUACIONES_MENU:"Evaluaciones",USERS_MENU:"Usuarios",IDIOMA_MENU:"Idioma",INFORMES_MENU:"Informes",CONTROL_MENU:"Control",SCANNER_MENU:"Escaner QR",SALIR:"Salir",ELIMINATORIAS:"Eliminatorias",GRAN_FINAL:"Gran final",INSCRITO_EN:"Estás inscrito en:",NO_ESTAS_INSCRITO:"No estás inscrito en ninguna categoría.",EXAM_HECHOS:"Exámenes hechos",IMAGEN_TL:"Imagen"}).translations("PT",{INICIO_MENU:"Iniciação",EVENTS_MENU:"Eventos",ENTIDADES_MENU:"Entidades",CATEGS_MENU:"Categorias",PREGUNTAS_MENU:"Interrogatório",EVALUACIONES_MENU:"Evaluations",USERS_MENU:"Usuários",IDIOMA_MENU:"Língua",INFORMES_MENU:"Informação",CONTROL_MENU:"Controle",SCANNER_MENU:"QR Scanner",SALIR:"Deixar",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Grande final",INSCRITO_EN:"Você está matriculado:",NO_ESTAS_INSCRITO:"Você não está registrado em qualquer categoria.",EXAM_HECHOS:"Testes feitos",IMAGEN_TL:"Image"}).translations("FR",{INICIO_MENU:"Initiation",EVENTS_MENU:"Événements",ENTIDADES_MENU:"Entités",CATEGS_MENU:"Catégories",PREGUNTAS_MENU:"Questionnement",EVALUACIONES_MENU:"Evaluations",USERS_MENU:"Utilisateurs",IDIOMA_MENU:"Langue",INFORMES_MENU:"Rapports",CONTROL_MENU:"Contrôle",SCANNER_MENU:"QR Scanner",SALIR:"Laisser",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Grande finale",INSCRITO_EN:"Vous êtes inscrit à:",NO_ESTAS_INSCRITO:"Vous n'êtes pas inscrit dans aucune catégorie.",EXAM_HECHOS:"Tests effectués",IMAGEN_TL:"Image"})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("PanelCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","AuthService","Perfil","App","resolved_user","toastr","$translate","$filter","$uibModal","MySocket","Fullscreen","SocketClientes",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r;a.USER=j,a.imagesPath=i.images,r=(new Date).toJSON().slice(0,10),a.dataExport={fecha_ini:new Date(r+" 00:00:0000"),fecha_fin:new Date(r+" 23:59:0000")},g.verificar_acceso(),a.file={},a.data={},a.floatingSidebar=!1,a.toggleFloatingSidebar=function(){return a.floatingSidebar=a.floatingSidebar?!1:!0,a.cargarExamenesExport()},a.cargarExamenesExport=function(){return c.one("exportar-importar/ver-cambios").customPUT({fecha_ini:a.dataExport.fecha_ini,fecha_fin:a.dataExport.fecha_fin}).then(function(b){return a.export_participantes=b},function(a){return k.warning("No se trajeron datos para exportar ")})},a.exportarArchivo=function(){var b,c,d,e,f;return f="Examenes_exportados-Wissen.txt",a.export_participantes=m("filter")(a.export_participantes,{exportar:1}),d=JSON.stringify(a.export_participantes,void 0,"	"),c=new Blob([d],{type:"text/plain"}),window.navigator&&window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(c,f):(e=document.createEvent("MouseEvents"),b=document.createElement("a"),b.download=f,b.href=window.URL.createObjectURL(c),b.dataset.downloadurl=["text/json",b.download,b.href].join(":"),e.initEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),b.dispatchEvent(e))},a.datos_json="",a.array_usuarios_import=0,a.cargar_datos_json=function(b){return a.array_usuarios_import=JSON.parse(b),c.one("exportar-importar/revisar-datos").customPUT({array_usuarios:a.array_usuarios_import}).then(function(b){return a.array_usuarios=b},function(a){return k.warning("No se trajeron datos para exportar ")})},a.importarDatos=function(){var b,d,e,f,g,h,i,j,l;if(b=confirm("¿Seguro que desea importar datos?")){for(i=a.array_usuarios_import,e=0,g=i.length;g>e;e++)for(l=i[e],j=a.array_usuarios,f=0,h=j.length;h>f;f++)d=j[f],l.id===d.id&&(a.array_usuarios_import=m("filter")(a.array_usuarios_import,{id:"!"+l.id}));return c.one("exportar-importar/importar-datos").customPUT({array_usuarios:a.array_usuarios_import}).then(function(a){return k.success("Importados con éxito: "+a.importados)},function(a){return k.warning("No se pudieron importar datos ")})}},f.$on("$stateChangeSuccess",function(b,c,d,e,f){return a.cambiarTema("theme-zero")}),f.$on("categ_selected_change",function(b,c){return a.USER.categsel=c}),f.reload=function(){return d.go(d.current,$stateParams,{reload:!0})},a.setFullScreen=function(){return p.toggleAll()},a.openMenu=function(a,b){var c;return c=b,a(b)},a.cambiarIdioma=function(b){return c.one("idiomas/cambiar-idioma").customPUT({idioma_id:b.id}).then(function(c){var d,e,f,g;for(l.use(b.abrev),a.USER.idioma_main_id=b.id,a.idiomas_del_sistema(),g=a.idiomas_usados,d=0,f=g.length;f>d;d++)e=g[d],e.actual=e.abrev===b.abrev?!0:!1;return k.success("Idioma cambiado por "+b.abrev)},function(a){return console.log("No se pudo cambiar el idioma.",a)})},a.set_system_event=function(b){return c.one("eventos/set-evento-actual").customPUT({id:b.id}).then(function(c){return console.log("Evento cambiado: ",c),angular.forEach(a.USER.eventos,function(a,b){return a.actual=!1}),b.actual=!0,k.success("Evento actual cambiado por "+b.alias)},function(a){return console.log("Error conectando!",a),k.warning("No se pudo cambiar el evento actual.")})},a.evento_actual={},a.el_evento_actual=function(){if(a.USER){if(!g.isAuthorized("can_work_like_admin")&&!g.isAuthorized("like_asesor"))return a.evento_actual=a.USER.evento_actual;try{return a.evento_actual=m("filter")(a.USER.eventos,{id:a.USER.evento_selected_id})[0]}catch(b){return a.evento_actual={}}finally{f.$broadcast("cambia_evento_actual")}}},a.el_evento_actual(),a.set_user_event=function(b){return c.one("eventos/set-user-event").customPUT({evento_id:b.id}).then(function(c){return console.log("Evento cambiado: ",c),a.USER.evento_selected_id=b.id,a.el_evento_actual(),k.success("Evento actual cambiado por "+b.alias),f.$broadcast("cambio_evento_user")},function(a){return console.log("Error conectando!",a),k.warning("No se pudo cambiar el evento actual.")})},a.logout=function(){return o.desloguear(),g.logout(),a.in_evento_actual={},c.one("login/logout").customPUT().then(function(a){return console.log("Desconectado con éxito: ",a),location.reload(!0)},function(a){return console.log("Error desconectando!",a),location.reload(!0)})},a.traerEventos=function(){return c.all("eventos").getList().then(function(b){return a.USER.eventos=b,a.el_evento_actual()},function(a){return console.log("No se trajeron los eventos.")})},f.$on("logueado:yo:agregado_a_arrays",function(b,c){return a.USER.categsel=c.categsel}),f.$on("me_desloguearon",function(b,c){return a.logout()}),o.on("enter",function(a){return a.usuario?c.one("qr/validar-usuario").customPUT({user_id:a.usuario.id,token_auth:a.from_token}).then(function(a){return a.token?(q.usuarios_all=[],e.put("xtoken",a.token),b.defaults.headers.common.Authorization="Bearer "+e.get("xtoken"),location.reload(!0)):void 0},function(a){return k.warning("No se pudo ingresar"),console.log("No se pudo ingresar ",a)}):void 0})}])}.call(this),function(){angular.module("WissenSystem").directive("chatContainerDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"panel/chatContainerDir.tpl.html",scope:!1,controller:"ChatContainerCtrl"}}]).controller("ChatContainerCtrl",["$scope","App","MySocket","SocketClientes","$rootScope",function(a,b,c,d,e){return a.imagesPath=b.images,a.SocketClientes=d,a.enviarMensaje=function(){return""!==a.newMensaje?(c.send_email(a.newMensaje),a.newMensaje=""):void 0},e.$on("llegaCorrespondencia",function(){return a.$apply()})}])}.call(this),function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("panel.eventos",{url:"^/eventos",views:{contenido_panel:{templateUrl:a.views+"eventos/eventos.tpl.html",controller:"EventosCtrl"},data:{pageTitle:"Eventos"}}}).state("panel.eventos_user",{url:"/eventos_user",templateUrl:"views/eventos/eventos_user.tpl.html",controller:"EventosUserCtrl"}),c.translations("EN",{EVENTS_TITLE:"Events",CREAR_EVENTO:"Create event"}).translations("ES",{EVENTS_TITLE:"Eventos"})}])}.call(this),function(){angular.module("WissenSystem").controller("EventosCtrl",["$scope","Restangular","$uibModal","$filter","App","toastr",function(a,b,c,d,e,f){return a.newEvent={with_pay:!1},a.currentEvent={idiomas_extras:[]},a.creando=!1,a.editando=!1,a.guardando_nuevo=!1,a.guardando_edit=!1,a.guardar_evento=function(){return a.guardando_nuevo=!0,b.one("eventos/store").customPOST(a.newEvent).then(function(b){return console.log("Evento guardado",b),b.idiomas_extras=a.newEvent.idiomas_extras,a.USER.eventos.push(b),a.guardando_nuevo=!1,a.creando=!1,f.success("Evento guardado con éxito.","Creado"),a.newEvent={with_pay:!1}},function(b){return console.log("No se pudo guardar el evento",b),f.warning("No se pudo crear evento.","Problema"),a.guardando_nuevo=!1}),a.el_evento_actual()},a.update_evento=function(){return a.guardando_edit=!0,console.log(a.currentEvent.gran_final),b.one("eventos/update").customPUT(a.currentEvent).then(function(b){return console.log("Evento editado",b),a.guardando_edit=!1,f.success("Evento actualizado con éxito.")},function(b){return console.log("El Evento no se pudo editar",b),f.warning("No se pudo editar evento.","Problema"),a.guardando_edit=!1}),a.el_evento_actual()},a.crear_evento=function(){return a.editando=!1,a.creando=!0},a.cancelar_newevento=function(){return a.creando=!1},a.cancelar_currentEvento=function(){return a.editando=!1},a.editarEvento=function(b){return a.editando=!0,a.currentEvent=b,console.log("currentEvent",b)},a.quitandoIdiomas=function(c,d){var e;return console.log(c),e={evento_id:a.currentEvent.id,idioma_id:c.id},b.one("idiomas/destroy").customDELETE("",e).then(function(a){return f.success("Idioma quitado con éxito.","Eliminado")},function(a){return f.warning("No se pudo eliminar idioma.","Problema"),
console.log("Error eliminando idioma: ",a)}),a.el_evento_actual()},a.idiomasSelect=function(c,d){var e;return console.log(c,a.currentEvent.idiomas_extras),e={evento_id:a.currentEvent.id,idioma_id:c.id},b.one("idiomas/store").customPOST(e).then(function(a){return f.success("Idioma agregado con éxito.","Añadido")},function(a){return f.warning("No se pudo agregar idioma.","Problema"),console.log("Error agregando idioma: ",a)}),a.el_evento_actual()},a.eliminarEvento=function(b){var f;return f=c.open({templateUrl:e.views+"eventos/removeEvento.tpl.html",controller:"RemoveEventoCtrl",resolve:{elemento:function(){return b}}}),f.result.then(function(b){return a.USER.eventos=d("filter")(a.USER.eventos,{id:"!"+b.id}),console.log("Resultado del modal: ",b)}),a.el_evento_actual()},a.traerEventos()}]).controller("RemoveEventoCtrl",["$scope","$uibModalInstance","elemento","Restangular","toastr",function(a,b,c,d,e){return a.elemento=c,a.ok=function(){return d.all("eventos/destroy").customDELETE(c.id).then(function(a){return e.success("Evento eliminado con éxito.","Eliminado"),b.close(c)},function(a){return e.warning("No se pudo eliminar al elemento.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("cancel")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").controller("EventosUserCtrl",["$scope","Restangular",function(a,b){}])}.call(this),function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("panel.entidades",{url:"^/entidades",views:{contenido_panel:{templateUrl:a.views+"entidades/entidades.tpl.html",controller:"EntidadesCtrl"}},data:{pageTitle:"Entidades"}}),c.translations("EN",{ENTIDADES_TITLE:"Entities"}).translations("ES",{ENTIDADES_TITLE:"Entidades"})}])}.call(this),function(){angular.module("WissenSystem").controller("EntidadesCtrl",["$scope","Restangular","uiGridConstants","App","$filter","$uibModal","toastr",function(a,b,c,d,e,f,g){var h,i;a.imgSystemPath=d.imgSystemPath,a.perfilPath=d.perfilPath,a.creando=!1,a.editando=!1,h='<a tooltip="Editar" tooltip-placement="left" class="btn btn-default btn-xs shiny icon-only info" ng-click="grid.appScope.editar(row.entity)"><i class="fa fa-edit "></i></a>',i='<a tooltip="X Eliminar" tooltip-placement="right" class="btn btn-default btn-xs shiny icon-only danger" ng-click="grid.appScope.eliminar(row.entity)"><i class="fa fa-trash "></i></a>',i=a.hasRoleOrPerm(["Admin"])?i:"",a.gridOptions={showGridFooter:!0,enableSorting:!0,enableFiltering:!0,enebleGridColumnMenu:!1,columnDefs:[{field:"id",displayName:"Id",width:50,enableCellEdit:!1,enableColumnMenu:!1},{name:"edit",displayName:"Edit",width:70,enableSorting:!1,enableFiltering:!1,cellTemplate:h+i,enableCellEdit:!1,enableColumnMenu:!1},{field:"logo_nombre",displayName:"Logo",cellTemplate:'<img width="35px" ng-src="{{grid.appScope.perfilPath + grid.getCellValue(row, col)}}">',width:40},{field:"nombre",filter:{condition:c.filter.CONTAINS},enableHiding:!1},{field:"alias",width:70,filter:{condition:c.filter.CONTAINS},displayName:"Alias"},{field:"lider_nombre",displayName:"Lider",filter:{condition:c.filter.CONTAINS}}],multiSelect:!1,onRegisterApi:function(c){return a.gridApi=c,c.edit.on.afterCellEdit(a,function(c,d,e,f){return e!==f&&b.one("entidades/update").customPUT(c).then(function(a){return g.success("Entidad actualizada con éxito","Actualizado")},function(a){return g.error("Cambio no guardado","Error")}),a.$apply()})}},b.all("entidades").getList().then(function(b){return a.gridOptions.data=b}),b.all("imagenes").getList().then(function(b){return a.imagenes=b}),a.editar=function(b){return a.creando=!1,a.editando=!0,a.currentEntidad=b,a.currentEntidad.logo={id:b.logo_id,nombre:b.logo_nombre,publica:b.publica}},a.eliminar=function(b){var c;return c=f.open({templateUrl:d.views+"eventos/removeEvento.tpl.html",controller:"RemoveEntidadCtrl",resolve:{elemento:function(){return b}}}),c.result.then(function(b){return a.gridOptions.data=e("filter")(a.gridOptions.data,{id:"!"+b.id}),console.log("Resultado del modal: ",b)})},a.crearNuevo=function(){return a.creando=!0,a.editando=!1},a.cancelarNuevo=function(){return a.creando=!1,a.guardando=!1},a.cancelarEdit=function(){return a.editando=!1},a.guardando=!1,a.guardar_nuevo=function(){return a.guardando=!0,b.one("entidades/store").customPOST(a.newEntidad).then(function(b){return a.gridOptions.data.push(b),a.guardando=!1,a.creando=!1,g.success("Entidad guardada con éxito.","Creado"),a.newEntidad={nombre:"",lider_nombre:""}},function(b){return console.log("No se pudo guardar el entidad",b),g.warning("No se pudo crear entidad.","Problema"),a.guardando=!1})},a.guardando_cambios=!1,a.guardar_cambios=function(){return a.guardando_cambios=!0,a.currentEntidad.logo_id=a.currentEntidad.logo.id,b.one("entidades/update").customPUT(a.currentEntidad).then(function(b){return a.guardando_cambios=!1,a.editando=!1,g.success("Entidad guardada con éxito.","Guardada"),a.newEntidad={nombre:"",lider_nombre:""}},function(b){return console.log("No se pudo guardar entidad",b),g.warning("No se pudo crear entidad.","Problema"),a.guardando_cambios=!1})}}]).controller("RemoveEntidadCtrl",["$scope","$uibModalInstance","elemento","Restangular","toastr",function(a,b,c,d,e){return a.elemento=c,a.ok=function(){return d.all("entidades/destroy").customDELETE(c.id).then(function(a){return e.success("Entidad eliminada con éxito.","Eliminado"),b.close(c)},function(a){return e.warning("No se pudo eliminar elemento.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("cancel")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("panel.evaluaciones",{url:"^/evaluaciones",views:{contenido_panel:{templateUrl:a.views+"evaluaciones/evaluaciones.tpl.html",controller:"EvaluacionesCtrl"}},data:{pageTitle:"Evaluaciones"}}),c.translations("EN",{ENTIDADES_TITLE:"Tests"}).translations("ES",{ENTIDADES_TITLE:"Evaluaciones"})}])}.call(this),function(){angular.module("WissenSystem").controller("EvaluacionesCtrl",["$scope","Restangular","App","toastr",function(a,b,c,d){a.comprobar_evento_actual=function(){return a.evento_actual?a.evento_actual.idioma_principal_id?a.idioma={selected:a.evento_actual.idioma_principal_id}:void 0:d.warning("Pimero debes crear o seleccionar un evento actual")},a.comprobar_evento_actual(),a.$on("cambio_evento_user",function(){return a.comprobar_evento_actual()}),a.$on("cambia_evento_actual",function(){return a.comprobar_evento_actual()}),a.imgSystemPath=c.imgSystemPath,a.perfilPath=c.perfilPath,a.creando=!1,a.editando=!1,a.newEvaluacion={},a.currentEvalua={},a.categorias_king=[],b.all("categorias/categorias-usuario").getList().then(function(b){return a.categorias_king=b}),a.crearNuevo=function(){return a.creando=!0},a.cancelarNuevo=function(){return a.creando=!1},a.cancelarEdit=function(){return a.editando=!1},a.guardando=!1,a.guardarNuevo=function(){return a.guardando=!0,b.one("evaluaciones/store").customPOST(a.newEvaluacion).then(function(b){return a.evaluaciones.push(b),console.log(a.evaluaciones),a.guardando=!1,a.creando=!1,d.success("Evaluación guardada con éxito"),console.log("Evaluación guardada con éxito",b)},function(b){return d.warning("Evaluación guardada con éxito"),a.guardando=!1,console.log("No se pudo guardar la evaluación",b)})}}])}.call(this),function(){angular.module("WissenSystem").directive("gridEvaluaciones",["App",function(a){return{restrict:"E",templateUrl:a.views+"evaluaciones/gridEvaluacionesDir.tpl.html",scope:{currenteval:"=",evaluaciones:"=",categoriasking:"=",idioma:"="},link:function(a,b,c){},controller:"GridEvaluacionesCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("GridEvaluacionesCtrl",["$scope","Restangular","uiGridConstants","$uibModal","$filter","App","toastr",function(a,b,c,d,e,f,g){var h,i,j,k;h='<a tooltip="Editar" tooltip-placement="left" class="btn btn-xs btn-info" ng-click="grid.appScope.editar(row.entity)"><i class="fa fa-edit "></i></a>',i='<a tooltip="X Eliminar" tooltip-placement="right" class="btn btn-xs btn-danger" ng-click="grid.appScope.eliminar(row.entity)"><i class="fa fa-trash "></i></a>',k='<span ng-bind="row.entity.categoria_id | nombreCategoria:grid.appScope.categoriasking:grid.appScope.idioma"></span>',j='<md-checkbox ng-true-value="1" ng-false-value="0" ng-model="row.entity.actual" ng-change="grid.appScope.setActual(row.entity)" aria-label="Actual" ng-disable="row.entity.actualizando" style="margin-top: 0px;">Actual</md-checkbox>',a.gridOptions={showGridFooter:!0,enableSorting:!0,enableFiltering:!0,enebleGridColumnMenu:!1,columnDefs:[{field:"id",displayName:"Id",width:60,enableCellEdit:!1,enableColumnMenu:!1},{name:"edit",displayName:"Edit",width:80,enableSorting:!1,enableFiltering:!1,cellTemplate:h+i,enableCellEdit:!1,enableColumnMenu:!1},{field:"descripcion",displayName:"Descripción",filter:{condition:c.filter.CONTAINS},enableHiding:!1},{field:"categoria_id",displayName:"Categoría",filter:{condition:c.filter.CONTAINS},cellTemplate:k,enableCellEdit:!1},{field:"actual",displayName:"Actual",width:90,filter:{condition:c.filter.CONTAINS},cellTemplate:j,enableCellEdit:!1}],multiSelect:!1,onRegisterApi:function(c){return a.gridApi=c,c.edit.on.afterCellEdit(a,function(c,d,e,f){return console.log("Fila editada, ",c," Column:",d," newValue:"+e+" oldValue:"+f),e!==f&&b.one("evaluaciones/update").customPUT(c).then(function(a){return g.success("Evaluaciones actualizada con éxito","Actualizado")},function(a){return g.error("Cambio no guardado","Error"),console.log("Falló al intentar guardar: ",a)}),a.$apply()})}},b.all("evaluaciones").getList().then(function(b){return a.evaluaciones=b,a.gridOptions.data=a.evaluaciones}),a.setActual=function(c){return c.actualizando=!0,console.log(c),b.one("evaluaciones/set-actual").customPUT(c).then(function(b){var d,f,h,i,j;for(g.success("Actualizado con éxito","Actualizado"),c.actualizando=!1,d=e("filter")(a.evaluaciones,{categoria_id:c.categoria_id}),j=[],h=0,i=d.length;i>h;h++)f=d[h],f.id!==c.id?j.push(f.actual=0):j.push(void 0);return j},function(a){return g.warning("No se cambió como actual o no"),console.log("No estableció como actual o no",a),c.actualizando=!1})},a.editar=function(b){return a.$parent.creando=!1,a.$parent.editando=!0,a.$parent.currentEvaluacion=b},a.eliminar=function(b){var c;return c=d.open({templateUrl:f.views+"evaluaciones/removeEvaluacion.tpl.html",controller:"RemoveEvaluacionCtrl",resolve:{elemento:function(){return b},categoriasking:function(){return a.categoriasking}}}),c.result.then(function(b){return a.evaluaciones=e("filter")(a.evaluaciones,{id:"!"+b.id}),console.log("Resultado del modal: ",b)})}}]).controller("RemoveEvaluacionCtrl",["$scope","$uibModalInstance","elemento","categoriasking","Restangular","toastr",function(a,b,c,d,e,f){return a.elemento=c,a.categoriasking=d,console.log("elemento",c,d),a.ok=function(){return e.all("evaluaciones/destroy").customDELETE(c.id).then(function(a){return f.success("Evaluacion eliminada con éxito.","Eliminado"),b.close(c)},function(a){return f.warning("No se pudo eliminar evaluación.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").config(["$stateProvider","App","$translateProvider",function(a,b,c){return a.state("panel.preguntas",{url:"^/preguntas",views:{contenido_panel:{templateUrl:b.views+"preguntas/preguntas.tpl.html",controller:"PreguntasCtrl"}},data:{pageTitle:"Preguntas"}}),c.translations("EN",{BUSCAR_PLACEHOLDER:"Find",TIP_BTN_NUEVA_PREGUNTA:"Create a new question",BTN_NUEVA_PREGUNTA:"New question"}).translations("ES",{BUSCAR_PLACEHOLDER:"Buscar",TIP_BTN_NUEVA_PREGUNTA:"Crear una nueva pregunta",BTN_NUEVA_PREGUNTA:"Nueva pregunta"})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("PreguntasCtrl",["$scope","App","$http","Restangular","$state","$cookies","$rootScope","toastr","preguntasServ","$filter","$timeout","$uibModal",function(a,b,c,d,e,f,g,h,i,j,k,l){return a.pg_preguntas=[],a.evalu_seleccionada={id:-1},a.creando=!1,a.editando=!1,a.editandoContenido=!1,a.inicializado=!1,a.preguntaEdit={},a.contenidoEdit={},a.showDetail=!1,a.showOptions=!1,a.showCorrects=!1,a.categoria=0,a.evaluacion_id=0,a.preguntas_evaluacion=[],a.categorias=[],a.comprobar_evento_actual=function(){return a.evento_actual?a.evento_actual.idioma_principal_id?a.idiomaPreg={selected:a.evento_actual.idioma_principal_id}:void 0:h.warning("Pimero debes crear o seleccionar un evento actual")},a.comprobar_evento_actual(),a.$on("cambio_evento_user",function(){return a.comprobar_evento_actual()}),a.$on("cambia_evento_actual",function(){return a.comprobar_evento_actual()}),a.traerDatos=function(){return d.all("categorias/categorias-usuario").getList().then(function(b){return a.categorias=b,a.categorias.length>0?(null===localStorage.getItem("selected_categpreg")?(localStorage.setItem("selected_categpreg",b[0].id),a.categoria=b[0].id):a.categoria=localStorage.getItem("selected_categpreg"),a.traerEvaluaciones(),a.traerPreguntas()):void 0},function(a){return console.log("No se trajeron las categorías ",a)})},a.traerDatos(),a.traerEvaluaciones=function(b){return d.all("evaluaciones").getList({categoria_id:a.categoria}).then(function(c){var d,e,f,g,h;if(a.evaluaciones=c,b){for(g=a.evaluaciones,h=[],e=0,f=g.length;f>e;e++)d=g[e],d.id===a.evalu_seleccionada.id?(a.evalu_seleccionada=d,h.push(a.selectEvaluacion(d))):h.push(void 0);return h}},function(a){return console.log("No se trajeron las evaluaciones ",a)})},a.traerPreguntas=function(){return d.all("preguntas").getList({categoria_id:a.categoria,idioma_id:a.idiomaPreg.selected}).then(function(b){return a.pg_preguntas=b,a.pg_preguntas=j("pregsByCatsAndEvaluacion")(a.pg_preguntas,a.categoria,a.preguntas_evaluacion,a.evaluacion_id),a.inicializado=!0},function(b){return console.log("Pailas la promesa de las preguntas ",b),a.inicializado=!0})},a.filtrarPreguntas=function(){return a.pg_preguntas=j("pregsByCatsAndEvaluacion")(a.pg_preguntas,a.categoria,a.preguntas_evaluacion,a.evaluacion_id)},a.cambiarRutaImagenes=function(){var a;return a=l.open({templateUrl:b.views+"preguntas/cambiarRutaImagenes.tpl.html",controller:"CambiarRutaImagenes"}),a.result.then(function(a){return console.log("Rutas Cambiadas")})},a.traerPreguntasYEvaluaciones=function(){return localStorage.setItem("selected_categpreg",a.categoria),a.traerPreguntas(),a.traerEvaluaciones()},a.traerPreguntasDeEvaluacion=function(){var b;return"sin_asignar"===a.evaluacion_id?d.all("pregunta_evaluacion/solo-sin-asignar").getList({categoria_id:a.categoria}).then(function(b){return a.pg_preguntas=b},function(b){return console.log("No se trajo las preguntas sin asignar ",b),a.inicializado=!0}):(a.traerPreguntas(),b=j("filter")(a.evaluaciones,{id:a.evaluacion_id}),b.length>0&&(a.preguntas_evaluacion=b[0].preguntas_evaluacion),console.log("$scope.evaluacion",a.evaluacion_id,a.preguntas_evaluacion))},a.selectEvaluacion=function(b,c){var d,e,f,g,h;for(a.evalu_seleccionada=b,h=a.evaluaciones,f=0,g=h.length;g>f;f++)d=h[f],d.selected=!1;return b.selected=!0,e=j("filter")(a.evaluaciones,{id:b.id},!0),e.length>0?a.preguntas_evaluacion2=e[0].preguntas_evaluacion:void 0},a.asignarPreguntasRandom=function(){var c;return c=l.open({templateUrl:b.views+"preguntas/asignarPreguntasRandom.tpl.html",controller:"AsignarPreguntasRandom",resolve:{evaluacion:function(){return a.evalu_seleccionada}}}),c.result.then(function(b){return a.traerEvaluaciones(a.evalu_seleccionada),console.log("Asignado")})},a.$on("finalizaEdicionPreg",function(a){}),a.$on("preguntaQuitada",function(b,c){return a.preguntas_evaluacion2=j("filter")(a.preguntas_evaluacion2,{id:"!"+c}),console.log("Recibido quitada",c)}),a.$on("grupoEliminado",function(b,c){return a.pg_preguntas=j("filter")(a.pg_preguntas,function(a,b){return a.tipo_pregunta?!0:a.id!==c.id?!0:!1})})}]).controller("AsignarPreguntasRandom",["$scope","$uibModalInstance","Restangular","toastr","evaluacion",function(a,b,c,d,e){return a.examenes=[],a.pregNoAsignadas=!1,a.cantPregRandom=3,a.cambiando=!1,c.all("pregunta_evaluacion/examenes-de-evaluacion").getList({evaluacion_id:e.id}).then(function(b){return a.examenes=b},function(a){return d.warning("No se trajeron las preguntas con imágenes.","Problema")}),a.ok=function(){var f;return a.cambiando=!0,f={cantPregRandom:a.cantPregRandom,evaluacion_id:e.id,categoria_id:e.categoria_id,pregNoAsignadas:a.pregNoAsignadas},c.one("pregunta_evaluacion/asignar-aleatoriamente").customPUT(f).then(function(a){return d.success("Preguntas asignadas."),b.close(f)},function(b){return d.warning("No se pudo asignar preguntas.","Problema"),console.log("No se pudo asignar preguntas: ",b),a.cambiando=!1})},a.cancel=function(){return b.dismiss("cancel")}}]).controller("CambiarRutaImagenes",["$scope","$uibModalInstance","Restangular","toastr",function(a,b,c,d){return a.ruta_anterior="http://192.168.0.10",a.ruta_nueva="http://"+localStorage.getItem("dominio"),c.all("preguntas/con-imagenes").getList().then(function(b){return a.preguntas=b},function(a){return d.warning("No se trajeron las preguntas con imágenes.","Problema")}),a.ok=function(){var e;return a.cambiando=!0,e={ruta_anterior:a.ruta_anterior,ruta_nueva:a.ruta_nueva},c.one("perfiles/cambiar-ruta-imagenes").customPUT(e).then(function(a){return d.success("Rutas cambiadas."),b.close(e)},function(b){return d.warning("No se pudo cambiar rutas.","Problema"),console.log("Error cambiando rutas: ",b),a.cambiando=!1})},a.cancel=function(){return b.dismiss("cancel")}}]).filter("pregsByCatsAndEvaluacion",["$filter",function(a){return function(b,c,d,e){var f,g,h,i,j,k;for(f=[],angular.forEach(b,function(a){return f.push(a)}),k=[],h=0,i=f.length;i>h;h++)j=f[h],parseFloat(j.categoria_id)===parseFloat(c)&&(e&&0!==parseFloat(e)?(g=!1,g=j.tipo_pregunta?a("filter")(d,{pregunta_id:j.pg_id},!0):a("filter")(d,{grupo_pregs_id:j.pg_id},!0),g&&g.length>0&&(j.pregunta_eval_id=g[0].id,j.orden=g[0].orden,k.push(j))):k.push(j));return k}}])}.call(this),function(){angular.module("WissenSystem").controller("EditPreguntaCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","toastr","$filter",function(a,b,c,d,e,f,g,h){a.idiomaPreg=[a.$parent.preguntaEdit.idioma_id],a.editorOptions={inlineMode:!0,placeholder:""},a.mostrarConfiguracion=!0,a.mostrarConfig=function(){return a.mostrarConfiguracion=!a.mostrarConfiguracion},a.cerrarEdicion=function(){return a.$parent.editando=!1},a.finalizarEdicion=function(){return c.one("preguntas/update").customPUT(a.preguntaEdit).then(function(b){var c,d,e,f,h;for(a.$parent.editando=!1,h=a.pg_preguntas,d=c=0,e=h.length;e>c;d=++c)f=h[d],f.pg_id===b.pg_id&&a.pg_preguntas.splice(d,1,b);return a.filtrarPreguntas(),g.success("Cambios guardados con éxito")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")})},a.aplicarCambios=function(){return c.one("preguntas/update").customPUT(a.preguntaEdit).then(function(b){var c,d,e,f,h;for(h=a.pg_preguntas,d=c=0,e=h.length;e>c;d=++c)f=h[d],f.pg_id===b.pg_id&&a.pg_preguntas.splice(d,1,b);return a.filtrarPreguntas(),g.success("Cambios guardados con éxito")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")})},a.cambiaTipoPregunta=function(){return console.log("Cambia el tipo: ",a.preguntaEdit.tipo_pregunta),a.$broadcast("cambiaTipoPregunta")},c.all("preguntas/traducidas").getList({pregunta_id:a.preguntaEdit.pg_id}).then(function(b){var c,d,e;for(c=0,d=b.length;d>c;c++)e=b[c],(b.pg_traduc_id=a.preguntaEdit.pg_traduc_id)&&(b.opciones=a.preguntaEdit.opciones,b.enunciado=a.preguntaEdit.enunciado);return a.preguntaEdit.preguntas_traducidas=b},function(a){return console.log("No se trajeron las traducciones de la pregunta",a),g.warning("No se trajeron las traducciones de la pregunta","Problema")})}])}.call(this),function(){angular.module("WissenSystem").directive("editPregunta",["App",function(a){return{restrict:"E",templateUrl:a.views+"preguntas/editPreguntaDir.tpl.html",scope:!1,controller:"EditPreguntaCtrl"}}])}.call(this),function(){angular.module("WissenSystem").directive("editPregTraducDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"preguntas/editPregTraducDir.tpl.html",scope:!0,controller:"EditPregTraducDirCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("EditPregTraducDirCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","toastr","$filter","$uibModal","App",function(a,b,c,d,e,f,g,h,i,j){var k;return k="Agregar nueva opción",a.pregunta_traduc||(a.pregunta_traduc=a.preguntaEdit),a.inicializar=function(){var b,c,d,e,f;for(f=a.pregunta_traduc.opciones,b=0,c=f.length;c>b;b++)if(e=f[b],e.nueva)return;return d={id:-1,definicion:k,nueva:!0,is_correct:!1},a.pregunta_traduc.opciones.push(d)},a.inicializar(),a.sortableOptions={"ui-floating":!0,update:function(b,d){var e,f,g,h,i,j,k,l;for(l=[],k=a.pregunta_traduc.opciones,h=g=0,i=k.length;i>g;h=++g)j=k[h],-1!==j.id&&(f={},f[""+j.id]=h,l.push(f));return e={pregunta_traduc_id:a.pregunta_traduc.id,sortHash:l},c.one("opciones/update-orden").customPUT(e).then(function(a){return console.log("Orden guardado")},function(a){return console.log("No se pudo guardar el orden",a)})}},a.addButtonNewOpcion=function(a,b){return b.creando=!0,b.nueva?(b.definicion="Opción "+a.opciones.length,b.preg_traduc_id=a.pg_traduc_id,b.orden=a.opciones.length-1,1===a.opciones.length&&(b.is_correct=!0),c.one("opciones/store").customPOST(b).then(function(c){var d;return console.log("Opción guardada"),b.id=c.id,b.nueva=!1,b.creando=!1,d={id:-1,definicion:k,nueva:!0,is_correct:!1},a.opciones.push(d)},function(a){return console.log("No se pudo guardar la opción",a),b.definicion=k,b.creando=!1,g.warning("No se pudo crear nueva opción")})):void 0},a.setAsCorrect=function(b,c){return"Test"===a.preguntaEdit.tipo_pregunta&&(angular.forEach(b.opciones,function(a){return a.is_correct=0}),c.is_correct=1),"Multiple"===a.preguntaEdit.tipo_pregunta?c.is_correct=1:void 0},a.deleteOption=function(a,b,d){return c.one("opciones/destroy",b.id).customDELETE().then(function(c){return console.log("Opción eliminada",c),a.opciones=h("filter")(a.opciones,{id:"!"+b.id})},function(a){return console.log("No se pudo eliminar la opción",a),g.warning("No se pudo eliminar la opción")})},a.$on("cambiaTipoPregunta",function(){var b,c,d,e,f,g,h;if("Test"===a.preguntaEdit.tipo_pregunta){for(g=a.preguntaEdit.preguntas_traducidas,h=[],c=0,d=g.length;d>c;c++)f=g[c],b=0,h.push(function(){var a,c,d,g;for(d=f.opciones,g=[],a=0,c=d.length;c>a;a++)e=d[a],e.is_correct?b>0?g.push(e.is_correct=0):g.push(b+=1):g.push(void 0);return g}());return h}}),a.misImagenes=function(){var b;return b=i.open({templateUrl:j.views+"preguntas/misImagenes.tpl.html",controller:"MisImagenes",size:"lg",resolve:{resolved_user:function(){return a.USER}}}),b.result.then(function(a){return console.log("Fin mis imágenes")})}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewPreguntaCtrl",["$scope","App","Restangular","$state","$cookies","$rootScope","$location","$anchorScroll","$uibModal","$filter","MySocket",function(a,b,c,d,e,f,g,h,i,j,k){return a.enviar_pregunta_pantalla=function(b){var c,d,e,f,g,h;for(d={},h=a.$parent.categorias,e=0,f=h.length;f>e;e++)c=h[e],c.id===parseInt(a.$parent.categoria)&&(d=c,d=j("catsByIdioma")(c.categorias_traducidas,a.$parent.idiomaPreg.selected),d.length>0&&(d=d[0]));return g={descrip_categ:d.descripcion,enunciado:b.enunciado,id:b.pg_id,idioma:d.idioma,idioma_id:b.idioma_id,nombre_categ:d.nombre,cantidad_pregs:-1,opciones:b.opciones,pregunta_id:b.pg_id,tipo_pregunta:b.tipo_pregunta},a.pregunta_mostrada=g,k.sc_show_question(-1,g)},a.opcion_seleccionada=-1,a.selec_opc_in_question=function(b){return a.opcion_seleccionada=b,k.selec_opc_in_question(b)},a.sc_reveal_answer=function(){var b,c,d,e,f,g,h;if(a.opcion_seleccionada<0)return void alert("Primero debes elegir opción.");for(k.sc_reveal_answer(),g=a.pregunta_mostrada.opciones,h=[],d=c=0,e=g.length;e>c;d=++c)f=g[d],d===a.opcion_seleccionada?f.is_correct?(b=new Audio("/sounds/Revelada_correcta.wav"),h.push(b.play())):(b=new Audio("/sounds/Revalada_incorrecta.wav"),h.push(b.play())):h.push(void 0);return h},a.elegirOpcion=function(a,b){return angular.forEach(a.opciones,function(a){return a.elegida=!1}),b.elegida=!0},a.toggleMostrarAyuda=function(a){return a.mostrar_ayuda=!a.mostrar_ayuda},a.asignarAEvaluacion=function(c){var d;return d=i.open({templateUrl:b.views+"preguntas/asignarPregunta.tpl.html",controller:"AsignarPreguntaCtrl",resolve:{pregunta:function(){return c},evaluaciones:function(){return a.evaluaciones}}}),d.result.then(function(a){return console.log("Resultado del modal: ",a)})},a.cambiarCategoria=function(c){var d;return d=i.open({templateUrl:b.views+"preguntas/cambiarCategoria.tpl.html",controller:"CambiarCategoriaCtrl",resolve:{pregunta:function(){return c},categorias:function(){return a.$parent.categorias},idiomaPreg:function(){return a.$parent.idiomaPreg}}}),d.result.then(function(a){return c.categoria_id=a,console.log("Resultado del modal: ",a)})},a.indexChar=function(a){return String.fromCharCode(65+a)},a.editarPregunta=function(b){return a.$parent.$parent.preguntaEdit=b,a.$parent.$parent.editando=!0,g.hash("content"),h()},a.eliminarPregunta=function(c){var d;return d=i.open({templateUrl:b.views+"preguntas/removePregunta.tpl.html",controller:"RemovePreguntaCtrl",resolve:{pregunta:function(){return c}}}),d.result.then(function(b){var c,d,e,f,g,h;for(c=[],h=a.$parent.$parent.pg_preguntas,e=d=0,f=h.length;f>d;e=++d)g=h[e],g.pg_id!==b.pg_id&&c.push(g);return a.$parent.$parent.pg_preguntas=c,a.$parent.$parent.filtrarPreguntas()})},a.previewPregunta=function(a){return a.showDetail=a.showDetail?!1:!0}}]).controller("RemovePreguntaCtrl",["$scope","$uibModalInstance","pregunta","Restangular","toastr",function(a,b,c,d,e){return a.pregunta=c,a.ok=function(){return d.all("preguntas/destroy/"+c.pg_id).remove().then(function(a){return e.success("Pregunta eliminada con éxito.","Eliminada")},function(a){return e.warning("No se pudo eliminar la pregunta.","Problema"),console.log("Error eliminando pregunta: ",a)}),b.close(c)},a.cancel=function(){return b.dismiss("cancel")}}]).controller("AsignarPreguntaCtrl",["$scope","$uibModalInstance","pregunta","evaluaciones","Restangular","toastr","$filter",function(a,b,c,d,e,f,g){return a.pregunta=c,a.evaluaciones=d,a.asignando=!1,a.selected=!1,a.selected=d[d.length-1].id,a.ok=function(){var h;return a.asignando=!0,h={pregunta_id:c.pg_id,evaluacion_id:a.selected},e.all("pregunta_evaluacion/asignar-pregunta").customPUT(h).then(function(c){var e;return f.success("Pregunta asignada con éxito."),a.asignando=!1,e=g("filter")(d,{id:a.selected})[0],e.preguntas_evaluacion.push(c),b.close(c)},function(b){return f.warning("No se pudo asignar la pregunta.","Problema"),console.log("Error asignando pregunta: ",b),a.asignando=!1})},a.cancel=function(){return b.dismiss("cancel")}}]).controller("CambiarCategoriaCtrl",["$scope","$uibModalInstance","pregunta","categorias","idiomaPreg","Restangular","toastr","$filter",function(a,b,c,d,e,f,g,h){return a.categorias=d,a.pregunta=c,a.idiomaPreg=e,a.cambiando=!1,a.categoria=!1,a.categoria=d[d.length-1].id,a.ok=function(){var d;return a.cambiando=!0,d={pregunta_id:c.pg_id,categoria_id:a.categoria},f.all("preguntas/cambiar-categoria").customPUT(d).then(function(c){return g.success("Pregunta cambiada de categoría."),a.cambiando=!1,b.close(d.categoria_id)},function(b){return g.warning("No se pudo asignar la pregunta.","Problema"),console.log("Error asignando pregunta: ",b),a.cambiando=!1})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewPreguntaEvalCtrl",["$scope","App","Restangular","$state","$cookies","$rootScope","$mdToast","$uibModal","$filter","toastr",function(a,b,c,d,e,f,g,h,i,j){return a.indexChar=function(a){return String.fromCharCode(65+a)},a.quitarPregunta=function(b){var d;return console.log("Aqui quito la preg",b.pregunta_eval_id,a.preguntasevaluacion2),a.quitando=!0,d={pregunta_id:b.id,evaluacion_id:a.selected,pregunta_eval_id:b.pregunta_eval_id},c.all("pregunta_evaluacion/quitar-pregunta").customPUT(d).then(function(c){return j.success("Pregunta quitada con éxito."),a.quitando=!1,a.$emit("preguntaQuitada",b.pregunta_eval_id)},function(b){return j.warning("No se pudo asignar la pregunta.","Problema"),console.log("Error asignando pregunta: ",b),a.quitando=!1})}}])}.call(this),function(){angular.module("WissenSystem").directive("viewPregunta",["App",function(a){return{restrict:"E",templateUrl:a.views+"preguntas/viewPreguntaDir.tpl.html",scope:!1,controller:"ViewPreguntaCtrl"}}]).directive("viewPreguntaEval",["App",function(a){return{restrict:"E",templateUrl:a.views+"preguntas/viewPreguntaEvalDir.tpl.html",scope:{preguntaking:"="},controller:"ViewPreguntaEvalCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("AddPreguntaCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","$location","$anchorScroll","$mdToast","toastr",function(a,b,c,d,e,f,g,h,i,j){return a.creando=!1,a.addNewPregunta=function(){return a.creando=!0,c.one("preguntas/store").customPOST({categoria_id:a.categoria,idioma_id:a.idiomaPreg.selected}).then(function(b){return b.editando=!0,a.creando=!1,a.pg_preguntas.push(b),console.log("Pregunta añadida: ",a.pg_preguntas),a.preguntaEdit=b,a.editando=!0,g.hash("content"),h()},function(b){return console.log("Rechazada la nueva ",b),a.creando=!1,j.warning("No se creó pregunta","Problema")})},a.addNewPreguntaGrupo=function(){return a.creando=!0,c.one("grupo_preguntas/store").customPOST({categoria_id:a.categoria}).then(function(b){return b.editando=!0,a.creando=!1,a.pg_preguntas.push(b),console.log("Pregunta añadida: ",a.pg_preguntas)},function(b){return console.log("Rechazada la nueva ",b),a.creando=!1,j.warning("No se creó el grupo pregunta","Problema")})}}])}.call(this),function(){angular.module("WissenSystem").directive("addPregunta",["App",function(a){return{restrict:"E",templateUrl:a.views+"preguntas/addPreguntaDir.tpl.html",scope:!1,controller:"AddPreguntaCtrl"}}])}.call(this),function(){angular.module("WissenSystem").directive("viewGrupo",["App",function(a){return{restrict:"E",templateUrl:a.views+"grupopreg/viewGrupoDir.tpl.html",scope:!1,controller:"ViewGrupoCtrl"}}]).directive("viewGrupoEval",["App",function(a){return{restrict:"E",templateUrl:a.views+"grupopreg/viewGrupoEvalDir.tpl.html",scope:{idiomapreg:"=",grupoking:"=",indice:"=",eventoactual:"=",idiomaactualselec:"=",evaluaciones:"=",preguntasevaluacion2:"="},link:function(a,b,c){},controller:"ViewGrupoEvalCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewGrupoCtrl",["$scope","App","Restangular","$state","$cookies","$rootScope","$location","$anchorScroll","toastr","$uibModal","$filter",function(a,b,c,d,e,f,g,h,i,j,k){return a.creandoGrupoPreg=!1,a.addNewPregunta=function(b){return a.creandoGrupoPreg=!0,c.one("preguntas_agrupadas/store").customPOST({contenido_id:b.pg_traduc_id}).then(function(c){return c.editando=!0,a.creandoGrupoPreg=!1,b.pregs_agrupadas.push(c)},function(b){return console.log("Rechazada la nueva ",b),a.creandoGrupoPreg=!1,i.warning("No se creó pregunta","Problema")})},a.asignarAEvaluacion=function(c){var d;return d=j.open({templateUrl:b.views+"grupopreg/asignarGrupo.tpl.html",controller:"AsignarGrupoCtrl",resolve:{pregunta:function(){return c},evaluaciones:function(){return a.evaluaciones}}}),d.result.then(function(a){return console.log("Resultado del modal: ",a)})},a.toggleMostrarAyuda=function(a){return a.mostrar_ayuda=!a.mostrar_ayuda;
},a.indexChar=function(a){return String.fromCharCode(65+a)},a.editarGrupo=function(b){return a.$parent.$parent.contenidoEdit=b,a.$parent.$parent.editandoContenido=!0,g.hash("content"),h()},a.eliminarContenido=function(c){var d;return d=j.open({templateUrl:b.views+"grupopreg/removeGrupo.tpl.html",controller:"RemoveGrupoCtrl",resolve:{grupoking:function(){return c}}}),d.result.then(function(b){return a.$emit("grupoEliminado",b),console.log("Resultado del modal: ",b)})},a.editarPreguntaAgrup=function(a){return a.editando=!0},a.eliminarPreguntaAgrup=function(c,d){var e;return e=j.open({templateUrl:b.views+"grupopreg/removePreguntaAgrup.tpl.html",controller:"RemovePreguntaAgrupCtrl",resolve:{preg_agrup:function(){return c}}}),e.result.then(function(b){return a.$emit("pregAgrupEliminada",b),console.log("Resultado del modal: ",c.id,k("filter")(d.pregs_agrupadas,{id:"!"+c.id},!0)),d.pregs_agrupadas=k("filter")(d.pregs_agrupadas,{id:"!"+c.id},!0)})},a.previewPreguntaAgrup=function(a){return a.showDetail=!a.showDetail}}]).controller("RemoveGrupoCtrl",["$scope","$uibModalInstance","grupoking","Restangular","toastr",function(a,b,c,d,e){return a.grupoking=c,a.ok=function(){return d.all("grupo_preguntas/destroy/"+c.pg_id).remove().then(function(a){return e.success("Pregunta eliminada con éxito.","Eliminada")},function(a){return e.warning("No se pudo eliminar la grupoking.","Problema"),console.log("Error eliminando grupoking: ",a)}),b.close(c)},a.cancel=function(){return b.dismiss("cancel")}}]).controller("RemovePreguntaAgrupCtrl",["$scope","$uibModalInstance","preg_agrup","Restangular","toastr",function(a,b,c,d,e){return a.preg_agrup=c,a.ok=function(){return d.all("preguntas_agrupadas/destroy/"+c.id).remove().then(function(a){return e.success("Pregunta eliminada con éxito.","Eliminada")},function(a){return e.warning("No se pudo eliminar la preg_agrup.","Problema"),console.log("Error eliminando preg_agrup: ",a)}),b.close(c)},a.cancel=function(){return b.dismiss("cancel")}}]).controller("AsignarGrupoCtrl",["$scope","$uibModalInstance","pregunta","evaluaciones","Restangular","toastr","$filter",function(a,b,c,d,e,f,g){return a.pregunta=c,a.evaluaciones=d,a.asignando=!1,a.selected=!1,a.ok=function(){var h;return a.asignando=!0,h={grupo_pregs_id:c.id,evaluacion_id:a.selected},e.all("pregunta_evaluacion/asignar-grupo").customPUT(h).then(function(c){var e;return f.success("Grupo asignado con éxito."),a.asignando=!1,e=g("filter")(d,{id:a.selected})[0],e.preguntas_evaluacion.push(c),b.close(c)},function(b){return f.warning("No se pudo asignar el grupo.","Problema"),console.log("Error asignando el grupo: ",b),a.asignando=!1})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewGrupoEvalCtrl",["$scope","App","Restangular","$state","$cookies","$rootScope","toastr","$uibModal","$filter",function(a,b,c,d,e,f,g,h,i){return a.quitando=!1,a.quitarPregunta=function(b){var d,e;return a.quitando=!0,console.log(b,e=i("filter")(a.$parent.evaluaciones,{grupo_pregs_id:b.id})),e=i("filter")(a.$parent.evaluaciones,{grupo_pregs_id:b.id})[0],d={pregunta_id:b.id,evaluacion_id:e.evaluacion_id,pregunta_eval_id:b.pregunta_eval_id},c.all("pregunta_evaluacion/quitar-pregunta").customPUT(d).then(function(c){return g.success("Pregunta quitada con éxito."),a.quitando=!1,a.$emit("preguntaQuitada",b.pregunta_eval_id)},function(b){return g.warning("No se pudo quitar la pregunta grupo.","Problema"),console.log("Error quitando pregunta: ",b),a.quitando=!1})}}])}.call(this),function(){angular.module("WissenSystem").directive("editContenido",["App",function(a){return{restrict:"E",templateUrl:a.views+"grupopreg/editContenidoDir.tpl.html",scope:!1,controller:"EditContenidoCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("EditContenidoCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","toastr",function(a,b,c,d,e,f,g){a.idiomaPreg=[a.contenidoEdit.idioma_id],a.editorOptions={inlineMode:!0,placeholder:""},a.cerrarEdicion=function(){return a.$parent.editandoContenido=!1,a.contenidoEdit={}},a.finalizarEdicion=function(){return c.one("contenido_traduc/update").customPUT(a.contenidoEdit).then(function(b){return a.$parent.editandoContenido=!1,a.contenidoEdit={},g.success("Cambios guardados con éxito")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")})},a.aplicarCambios=function(){return c.one("contenido_traduc/update").customPUT(a.contenidoEdit).then(function(a){return g.success("Cambios guardados")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")})},c.all("grupo_preguntas/traducidos").getList({grupo_id:a.contenidoEdit.pg_id}).then(function(b){var c,d,e;for(c=0,d=b.length;d>c;c++)e=b[c],(b.pg_traduc_id=a.contenidoEdit.pg_traduc_id)&&(b.enunciado=a.contenidoEdit.enunciado);return a.contenidoEdit.contenidos_traducidos=b},function(a){return console.log("No se trajeron las traducciones de la pregunta",a),g.warning("No se trajeron las traducciones de la pregunta","Problema")})}])}.call(this),function(){angular.module("WissenSystem").directive("editPreguntaAgrupada",["App",function(a){return{restrict:"E",templateUrl:a.views+"grupopreg/editPreguntaAgrupDir.tpl.html",scope:{pregagrup:"="},link:function(a,b,c){},controller:"EditPreguntaAgrupCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("EditPreguntaAgrupCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","toastr","$filter",function(a,b,c,d,e,f,g,h){var i;a.editorOptions={inlineMode:!0,placeholder:""},i="Agregar nueva opción",a.inicializar=function(){var b,c,d,e,f;for(f=a.pregagrup.opciones,b=0,c=f.length;c>b;b++)if(e=f[b],e.nueva)return;return d={id:-1,definicion:i,nueva:!0,is_correct:!1},a.pregagrup.opciones.push(d)},a.inicializar(),a.sortableOptions={"ui-floating":!0,update:function(b,d){var e,f,g,h,i,j,k,l;for(l=[],k=a.pregagrup.opciones,h=g=0,i=k.length;i>g;h=++g)j=k[h],-1!==j.id&&(f={},f[""+j.id]=h,l.push(f));return e={pregunta_agrupada_id:a.pregagrup.id,sortHash:l},c.one("opciones_agrupadas/update-orden").customPUT(e).then(function(a){return console.log("Orden guardado")},function(a){return console.log("No se pudo guardar el orden",a)})}},a.addButtonNewOpcion=function(a,b){return b.creando=!0,b.nueva?(b.definicion="Opción "+a.opciones.length,b.preg_agrupada_id=a.id,b.orden=a.opciones.length-1,1===a.opciones.length&&(b.is_correct=!0),c.one("opciones_agrupadas/store").customPOST(b).then(function(c){var d;return console.log("Opción guardada"),b.id=c.id,b.nueva=!1,b.creando=!1,d={id:-1,definicion:i,nueva:!0,is_correct:!1},a.opciones.push(d)},function(a){return console.log("No se pudo guardar la opción",a),b.definicion=i,b.creando=!1,g.warning("No se pudo crear nueva opción")})):void 0},a.setAsCorrect=function(b,c){return"Test"===a.pregagrup.tipo_pregunta&&(angular.forEach(b.opciones,function(a){return a.is_correct=0}),c.is_correct=1),"Multiple"===a.pregagrup.tipo_pregunta?c.is_correct=1:void 0},a.deleteOption=function(a,b,d){return c.one("opciones_agrupadas/destroy",b.id).customDELETE().then(function(c){return console.log("Opción eliminada",c),a.opciones=h("filter")(a.opciones,{id:"!"+b.id})},function(a){return console.log("No se pudo eliminar la opción",a),g.warning("No se pudo eliminar la opción")})},a.cerrarEdicion=function(){return a.pregagrup.editando=!1},a.mostrarConfiguracion=!0,a.mostrarConfig=function(){return a.mostrarConfiguracion=!a.mostrarConfiguracion},a.finalizarEdicion=function(){return a.$emit("finalizaEdicionPregAgrup"),c.one("preguntas_agrupadas/update").customPUT(a.pregagrup).then(function(b){return console.log("Cambios guardados",b),a.pregagrup.editando=!1,g.success("Cambios guardados con éxito")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")}),console.log("Guardando cambios...")},a.aplicarCambios=function(){return c.one("preguntas_agrupadas/update").customPUT(a.pregagrup).then(function(a){return console.log("Cambios guardados",a),g.success("Cambios guardados con éxito")},function(a){return console.log("No se pudo guardar los cambios",a),g.warning("Cambios NO guardados","Problema")}),console.log("Guardando cambios...")},a.cambiaTipoPregunta=function(){var b,c,d,e,f,g;if(console.log("Cambia el tipo: ",a.pregagrup.tipo_pregunta),"Test"===a.pregagrup.tipo_pregunta){for(b=0,f=a.pregagrup.opciones,g=[],c=0,d=f.length;d>c;c++)e=f[c],e.is_correct?b>0?g.push(e.is_correct=0):g.push(b+=1):g.push(void 0);return g}}}])}.call(this),function(){angular.module("WissenSystem").directive("iniciarDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"examen_respuesta/iniciarDir.tpl.html",scope:!1,link:function(a,b,c){},controller:"IniciarCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("IniciarCtrl",["$scope","Restangular","toastr","$filter","AuthService","$state","$uibModal","App","SocketData","MySocket","Perfil","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k,l){var m;return a.$state=f,a.categorias_king=[],a.examenes_puntajes=[],a.hasRoleOrPerm=e.hasRoleOrPerm,a.traer_categorias_evento=function(){return b.all("categorias/categorias-evento").getList().then(function(b){return a.categorias_king=b},function(a){return c.warning("No se trajeron las categorias del evento","Problema"),console.log("No se trajo categorias ",a)}),b.all("informes/mis-examenes").getList().then(function(b){return a.examenes_puntajes=b},function(a){return c.warning("No se trajeron los resultados","Problema"),console.log("No se trajo resultados ",a)})},e.hasRoleOrPerm(["admin","profesor","tecnico"])?a.$parent.traerEventos():a.traer_categorias_evento(),a.iniciarExamen=function(b){var c;return a.evento_actual.gran_final?(i.cambiar_mi_categsel(b.categoria_id,b.nombre,b.abrev),j.change_my_categ_selected(b.categoria_id,b.nombre,b.abrev)):(c=g.open({templateUrl:h.views+"examen_respuesta/seguroIniciarCtrl.tpl.html",controller:"SeguroIniciarCtrl",resolve:{inscripcion:function(){return b},entidades:function(){return a.$parent.entidades}}}),c.result.then(function(a){return console.log("Resultado del modal: ",a)}))},a.categoriaSelect=function(){return i.cliente(k.getResourceId())},a.iniciarProyeccion=function(){return f.go("proyectando")},m=l.$on("empezar_examen",function(d){var e,g,h,j,m,n;for(e=i.cliente(k.getResourceId()),j={categoria_id:e.categsel_id},n=a.USER.inscripciones,g=0,m=n.length;m>g;g++)h=n[g],h.categoria_id===e.categsel_id&&(j.inscripcion_id=h.id);return b.all("examenes_respuesta/iniciar").customPOST(j).then(function(a){return l.examen_actual=a,f.transitionTo("panel.examen_respuesta")},function(a){return c.warning("No se pudo iniciar el examen.","Problema"),console.log("Error creando el examen: ",a)})}),a.$on("$destroy",function(){return m()}),l.$on("categ_selected_change",function(){return a.$apply()})}])}.call(this),function(){angular.module("WissenSystem").controller("SeguroIniciarCtrl",["$scope","$uibModalInstance","inscripcion","Restangular","toastr","$filter","$state","$rootScope",function(a,b,c,d,e,f,g,h){return a.inscripcion=c,a.ok=function(){return a.asignando=!0,d.all("examenes_respuesta/iniciar").customPOST(c).then(function(a){return h.examen_actual=a,g.transitionTo("panel.examen_respuesta"),b.close(a)},function(a){return e.warning("No se pudo iniciar el examen.","Problema"),console.log("Error creando el examen: ",a)})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App","USER_ROLES","PERMISSIONS","$translateProvider",function(a,b,c,d,e){a.state("panel.examen_respuesta",{url:"^/examen/:examen_respuesta_id",params:{examen_respuesta_id:{value:null}},views:{contenido_panel:{templateUrl:b.views+"examen_respuesta/examenRespuesta.tpl.html",controller:"ExamenRespuestaCtrl"}},resolve:{resolved_user:["AuthService",function(a){return a.verificar()}]},data:{pageTitle:"Examen"}}),e.translations("EN",{INICIO_MENU:"Home"}).translations("ES",{INICIO_MENU:"Inicio"})}])}.call(this),function(){angular.module("WissenSystem").controller("ExamenRespuestaCtrl",["$scope","Restangular","toastr","$filter","AuthService","$state","$uibModal","App","$rootScope","resolved_user","$interval","$timeout","MySocket","SocketData",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o;return a.USER=j,a.imagesPath=h.images,a.pregunta_actual=0,a.pregunta_actual_porc=0,a.total_preguntas=0,a.cambiarTema("theme-one"),a.waiting_question=!1,a.opcion_eligida="",e.verificar_acceso(),a.incializar=function(){var e,g,h;return i.examen_actual?i.examen_actual.id||(console.log("Examen no válido",i.examen_actual),i.permiso_de_salir=!0,f.transitionTo("panel")):(console.log("No hay examen actual"),f.transitionTo("panel")),a.categoria_traducida=d("categoriasTraducidas")([i.examen_actual.categoria],a.USER.idioma_main_id),a.categoria_traducida.length>0&&(a.categoria_traducida=a.categoria_traducida[0]),a.examen_actual=i.examen_actual,a.$on("respuesta_elegida",function(b,c,e){return e&&("incorrect"===e?a.opcion_eligida="Incorrecta":"correct"===e&&(a.opcion_eligida="Correcta")),a.USER.evento_actual.gran_final&&(n.config.info_evento.free_till_question&&n.config.info_evento.free_till_question>a.pregunta_actual?(a.waiting_question=!1,a.$broadcast("next_question")):a.waiting_question=!0),l(function(){return a.pregunta_actual=d("noPregActual")(a.examen_actual.preguntas),a.pregunta_actual_porc=a.pregunta_actual/a.total_preguntas*100,a.check_por_terminado()},500)}),a.$on("tiempo_preg_terminado",function(e){var f,g,h,j;return a.opcion_eligida="Incorrecta",a.waiting_question=!0,m.sc_answered("incorrect",i.tiempo),g=d("preguntaActual")(a.examen_actual.preguntas),1===g.length&&(h=d("porIdioma")(g[0].preguntas_traducidas,a.USER.idioma_main_id),h.length>0?(h[0].opciones.length>0?h[0].opciones[0].respondida=!0:(c.warning("No hay opciones para esta pregunta"),console.log("No hay opciones para esta pregunta",h[0])),f={examen_actual_id:a.examen_actual.examen_id,pregunta_top_id:g[0].id,pregunta_sub_id:h[0].id,idioma_id:h[0].idioma_id,tipo_pregunta:g[0].tipo_pregunta,tiempo:i.tiempo},j="examenes_respuesta/responder-pregunta",b.all(j).customPUT(f).then(function(a){return console.log("Guardado el time out")},function(a){return c.warning("No se pudo guardar respuesta.","Problema"),console.log("No se pudo guardar respuesta: ",a)})):(c.warning("No hay traducción para esta pregunta"),console.log("No hay traducción para esta pregunta",g[0]))),a.pregunta_actual=d("noPregActual")(a.examen_actual.preguntas),a.pregunta_actual_porc=a.pregunta_actual/a.total_preguntas*100,a.check_por_terminado()}),a.$on("tiempo_exam_terminado",function(a){return i.permiso_de_salir=!0,f.go("panel")}),g=i.$on("next_question",function(b){return a.waiting_question!==!1?a.siguiente_pregunta():void 0}),e=i.$on("goto_question_no",function(b,c){var e,f;return a.waiting_question!==!1?(a.pregunta_actual=c,a.pregunta_actual_porc=a.pregunta_actual/a.total_preguntas*100,e=d("preguntaActual")(a.examen_actual.preguntas,c)[0],f=d("filter")(a.examen_actual.preguntas,{pregunta_id:e.pregunta_id})[0],a.waiting_question=!1,a.$broadcast("goto_question_no",c)):void 0}),h=i.$on("set_free_till_question",function(b,c){return a.$apply(),n.config.info_evento.free_till_question&&n.config.info_evento.free_till_question>=a.pregunta_actual&&a.waiting_question!==!1?a.siguiente_pregunta():void 0}),a.$on("$destroy",function(){return window.onbeforeunload=void 0,g(),e(),h()}),a.USER.evento_actual||(a.USER.evento_actual=a.evento_actual),a.tiempo_max=a.USER.evento_actual.gran_final?i.examen_actual.duracion_preg:60*i.examen_actual.duracion_exam,a.pregunta_actual=d("noPregActual")(a.examen_actual.preguntas),a.total_preguntas=d("cantPregsEvaluacion")(a.examen_actual.preguntas),a.pregunta_actual_porc=a.pregunta_actual/a.total_preguntas*100},a.siguiente_pregunta=function(){var b,c;return a.pregunta_actual=d("noPregActual")(a.examen_actual.preguntas),a.pregunta_actual_porc=a.pregunta_actual/a.total_preguntas*100,b=d("preguntaActual")(a.examen_actual.preguntas,a.pregunta_actual)[0],c=d("filter")(a.examen_actual.preguntas,{pregunta_id:b.pregunta_id})[0],a.waiting_question=!1,a.$broadcast("next_question")},f.params.examen_respuesta_id?(o={exa_resp_id:f.params.examen_respuesta_id},b.all("examenes_respuesta/continuar").customPUT(o).then(function(b){var d;return i.examen_actual=b,d=a.check_por_terminado(),d?void 0:(c.success("Continuamos el examen."),a.incializar())},function(a){return c.warning("No se pudo continuar el examen.","Problema"),console.log("Error continuando el examen: ",a)})):a.incializar(),a.check_por_terminado=function(){var e;return e=d("preguntaActual")(a.examen_actual.preguntas),1===e.length&&e[0].terminado?(b.all("examenes_respuesta/set-terminado").customPUT({exa_id:a.examen_actual.examen_id}).then(function(a){return c.success("Examen terminado"),i.permiso_de_salir=!0,f.go("panel")},function(a){return c.warning("No se estableció como terminado.")}),!0):!1},a.finalizar_examen=function(){return console.log("Finalizar examen")}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewPreguntaExamenCtrl",["$scope","Restangular","toastr","$filter","$rootScope","$state","$uibModal","App","MySocket",function(a,b,c,d,e,f,g,h,i){return a.USER=a.$parent.USER,a.idioma=a.USER.idioma_main_id,a.examen_actual=e.examen_actual,a.elegirOpcion=function(b,c,d){var f;return angular.forEach(b.opciones,function(a){return a.elegida=!1}),c.elegida=!0,a.examen_actual.one_by_one?(c.letra=a.indexChar(d),f=g.open({templateUrl:h.views+"examen_respuesta/seguroRespuesta.tpl.html",controller:"SeguroRespuestaPregKingCtrl",resolve:{preguntatop:function(){return a.preguntaking},pregunta_traduc:function(){return b},opcion:function(){return c},examen_actual:function(){return a.examen_actual},agrupada:function(){return!1}}}),f.result.then(function(b){var f;return c.respondida=!0,f=c.is_correct?"correct":"incorrect",a.$emit("respuesta_elegida",d,f),i.sc_answered(f,e.tiempo)})):void 0},a.toggleMostrarAyuda=function(a){return a.mostrar_ayuda=!a.mostrar_ayuda},a.indexChar=function(a){return String.fromCharCode(65+a)}}]).directive("viewPreguntaExamen",["App",function(a){return{restrict:"E",templateUrl:a.views+"examen_respuesta/viewPreguntaExamenDir.tpl.html",scope:{preguntaking:"=",indice:"=",idiomapreg:"="},link:function(a,b,c){},controller:"ViewPreguntaExamenCtrl"}}]).controller("SeguroRespuestaPregKingCtrl",["$scope","$uibModalInstance","opcion","Restangular","toastr","$filter","examen_actual","preguntatop","pregunta_traduc","agrupada","$rootScope",function(a,b,c,d,e,f,g,h,i,j,k){return a.opcion=c,a.examen_actual=g,a.ok=function(){var f,l,m,n;return a.guardando=!0,k.pause_tiempo=!0,f={examen_actual_id:g.examen_id,pregunta_top_id:h.id,pregunta_sub_id:i.id,idioma_id:i.idioma_id,tipo_pregunta:h.tipo_pregunta,opcion_id:c.id,tiempo:k.tiempo_preg},m="examenes_respuesta/responder-pregunta",l="examenes_respuesta/responder-pregunta-agrupada",n=j?l:m,d.all(n).customPUT(f).then(function(c){return k.pause_tiempo=!1,k.tiempo_preg=0,a.guardando=!1,b.close(c)},function(b){return k.pause_tiempo=!0,a.guardando=!1,e.warning("No se pudo guardar respuesta.","Problema")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").controller("ViewGrupoExamenCtrl",["$scope","Restangular","toastr","$filter","$rootScope","$state","$uibModal","App",function(a,b,c,d,e,f,g,h){return a.USER=a.$parent.USER,a.idioma=a.USER.idioma_main_id,a.examen_actual=e.examen_actual,a.elegirOpcion=function(b,d,e){var f;return angular.forEach(b.opciones,function(a){return a.elegida=!1}),d.elegida=!0,a.examen_actual.one_by_one?(d.letra=a.indexChar(e),f=g.open({templateUrl:h.views+"examen_respuesta/seguroRespuesta.tpl.html",controller:"SeguroRespuestaPregKingCtrl",resolve:{preguntatop:function(){return a.grupoking},pregunta_traduc:function(){return b},opcion:function(){return d},examen_actual:function(){return a.examen_actual},agrupada:function(){return!0}}}),f.result.then(function(b){return d.respondida=!0,a.$emit("respuesta_elegida",e),c.success("Respuestuesta guardada")})):void 0},a.indexChar=function(a){return String.fromCharCode(65+a)},a.toggleMostrarAyuda=function(a){return a.mostrar_ayuda=!a.mostrar_ayuda}}]).directive("viewGrupoExamen",["App",function(a){return{restrict:"E",templateUrl:a.views+"examen_respuesta/viewGrupoExamenDir.tpl.html",scope:{grupoking:"=",indice:"=",idiomapreg:"="},link:function(a,b,c){},controller:"ViewGrupoExamenCtrl"}}])}.call(this),function(){angular.module("WissenSystem").directive("timerDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"examen_respuesta/timerDir.tpl.html",scope:{tiempomax:"="},controller:"TimerCtrl"}}]).controller("TimerCtrl",["$scope","Restangular","toastr","$filter","$state","$rootScope","$interval","Perfil",function(a,b,c,d,e,f,g,h){return f.tiempo=-1,f.tiempo_preg=0,a.tiempo=f.tiempo,a.start=function(){return g.cancel(f.promiseInterval),f.promiseInterval=g(function(){var b,c,d;if(a.$parent.waiting_question)return a.stop();if(!f.pause_tiempo)if(f.tiempo++,f.tiempo_preg++,a.tiempo=f.tiempo,c=new Date(1e3*f.tiempo),d=c.getSeconds(),b=c.getMinutes(),d=10>d?"0"+d:d,b=10>b?"0"+b:b,a.tiempo_formateado=b+":"+d,a.$parent.USER.evento_actual.gran_final){if(f.examen_actual.duracion_preg<=a.tiempo)return a.stop(),a.$emit("tiempo_preg_terminado")}else if(60*f.examen_actual.duracion_exam<a.tiempo)return a.stop(),a.$emit("tiempo_exam_terminado")},1e3,0)},a.start(),a.stop=function(){return g.cancel(f.promiseInterval)},a.$on("next_question",function(b){return f.tiempo=0,a.tiempo=f.tiempo,a.$parent.USER.evento_actual.gran_final?a.start():void 0}),a.$on("goto_question_no",function(b){return f.tiempo=0,a.tiempo=f.tiempo,a.$parent.USER.evento_actual.gran_final?a.start():void 0})}])}.call(this),function(){angular.module("WissenSystem").config(["$stateProvider","App","PERMISSIONS",function(a,b,c){return a.state("panel.usuarios",{url:"^/usuarios",views:{contenido_panel:{templateUrl:b.views+"usuarios/usuarios.tpl.html",controller:"UsuariosCtrl"}},data:{pageTitle:"Usuarios",needed_permissions:[c.can_edit_usuarios,c.can_work_like_asesor]}})}])}.call(this),function(){angular.module("WissenSystem").controller("UsuariosCtrl",["$scope","$http","Restangular","$state","$cookies","$rootScope","toastr","uiGridConstants","$uibModal","$filter","$location","$anchorScroll","$mdSidenav","MySocket","SocketData","App","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r,s;q.verificar_acceso(),a.imagesPath=p.images,a.perfilPath=p.images+"perfil/",a.usuarios=[],a.currentUsers=[],a.currentUser={inscripciones:[]},s=localStorage.getItem("nivelSelected")?parseInt(localStorage.getItem("nivelSelected")):"",r=localStorage.getItem("entidadSelected")?parseInt(localStorage.getItem("entidadSelected")):"",a.newUsu={sexo:"M",nivel_id:s,inscripciones:[],imgUsuario:null},a.editando=!1,a.creando=!1,c.one("imagenes/usuarios").customGET().then(function(b){return a.imagenes=b.imagenes},function(a){return g.error("No se trajeron las imágenes.")}),a.misImagenes=function(){var b;return b=i.open({templateUrl:p.views+"preguntas/misImagenes.tpl.html",controller:"MisImagenes",size:"lg",resolve:{resolved_user:function(){return a.USER}}}),b.result.then(function(b){return a.imagenes.push(b),a.newUsu.imgUsuario=a.imagenes[a.imagenes.length-1],a.currentUser.imgUsuario=a.imagenes[a.imagenes.length-1]})},a.comprobar_evento_actual=function(){return a.evento_actual?a.evento_actual.idioma_principal_id?a.idiomaPreg={selected:a.evento_actual.idioma_principal_id}:void 0:g.warning("Primero debes crear o seleccionar un evento actual")},a.comprobar_evento_actual(),a.$on("cambio_evento_user",function(){return a.comprobar_evento_actual(),a.traer_niveles(),a.traer_entidades(),a.traer_categorias()}),a.$on("cambia_evento_actual",function(){return a.comprobar_evento_actual()}),a.niveles_king=[],a.traer_niveles=function(){return c.all("niveles/niveles-usuario").getList().then(function(b){return a.niveles_king=b},function(a){return g.warning("No se trajeron las niveles","Problema"),console.log("No se trajo niveles ",a)})},a.traer_niveles(),a.entidades=[],a.traer_entidades=function(){return c.all("entidades").getList().then(function(b){return a.entidades=b},function(a){return g.warning("No se trajeron las entidades","Problema"),console.log("No se trajo entidades ",a)})},a.traer_entidades(),a.categorias_king1=[],a.categorias_king2=[],a.traer_categorias=function(){return c.all("categorias/categorias-usuario").getList().then(function(b){return a.categorias_king1=b,angular.copy(a.categorias_king1,a.categorias_king2)},function(a){return g.warning("No se trajeron las categorias","Problema"),console.log("No se trajo categorias ",a)})},a.traer_categorias(),a.avatar={masculino:{abrev:"M",def:"Masculino",img:a.imagesPath+"perfil/system/avatars/male1.png"},femenino:{abrev:"F",def:"Femenino",img:a.imagesPath+"perfil/system/avatars/female1.png"}},a.empezarCrear=function(){return a.creando=!a.creando},a.guardando=!1,a.guardarNuevo=function(){return a.guardando=!0,c.one("usuarios/store").customPOST(a.newUsu).then(function(b){return g.success("Usuario guardado con éxito."),a.usuarios.unshift(b),a.guardando=!1,console.log("Usuario creado",b),a.newUsu.nombres="",a.newUsu.apellidos="",a.newUsu.username="",a.newUsu.inscripciones=[],a.newUsu.imgUsuario=null},function(b){return g.warning("No se creó el usuario, posible login repetido","Problema"),console.log("No se creó usuario ",b),a.guardando=!1})},a.guardarNuevoYLogin=function(){return a.guardando=!0,c.one("usuarios/store").customPOST(a.newUsu).then(function(b){return g.success("Usuario guardado con éxito."),a.usuarios.unshift(b),a.guardando=!1,console.log("Usuario creado",b),a.newUsu.nombres="",a.newUsu.apellidos="",a.newUsu.username="",a.newUsu.inscripciones=[],a.newUsu.imgUsuario=null,o.clt_selected=usuario,m("sidenavSelectPC").toggle(),k.hash("sidenavSelectPC"),l()},function(b){return g.warning("No se creó el usuario, posible login repetido","Problema"),console.log("No se creó usuario ",b),a.guardando=!1})},a.cambiaNivelNewUsu=function(){return console.log(a.newUsu.nivel_id),localStorage.setItem("nivelSelected",a.newUsu.nivel_id)},a.guardando_edicion=!1,a.guardarEdicion=function(){return a.guardando_edicion=!0,c.one("usuarios/update").customPUT(a.currentUser).then(function(b){return g.success("Cambios guardados."),a.guardando_edicion=!1,console.log("Cambios guardados",b)},function(b){return g.warning("No se guardó cambios del usuario","Problema"),console.log("No se guardó cambios del usuario ",b),a.guardando_edicion=!1})},a.checkeandoCategorias=function(a,b){return b.indexOf(a)>-1},a.toggle=function(a,b){var c;return c=b.indexOf(a),c>-1?b.splice(c,1):b.push(a)},a.checkeandoCategoriasEdit=function(a,b){return b.indexOf(a)>-1},a.toggleEdit=function(a,b){var c;return c=b.indexOf(a),c>-1?b.splice(c,1):b.push(a)},a.cancelarNuevo=function(){return a.creando=!1},a.cancelarEdicion=function(){return a.editando=!1},a.cambiaInscripcion=function(a,b){var d,e;return d=b[0],a.cambiando=!0,e={usuario_id:d.id,categoria_id:a.categoria_id},a.selected?c.one("inscripciones/inscribir").customPUT(e).then(function(b){var c;return a.cambiando=!1,console.log("Inscripción creada",b),c=j("filter")(d.inscripciones,{categoria_id:e.categoria_id}),0===c.length?d.inscripciones.push(b[0]):(c[0].id=b[0].id,c[0].deleted_at=b[0].deleted_at)},function(b){return g.warning("No se inscribó el usuario","Problema"),console.log("No se inscribó el usuario ",b),a.cambiando=!1,a.selected=!1}):c.one("inscripciones/desinscribir").customPUT(e).then(function(b){return a.cambiando=!1,console.log("Inscripción eliminada",b,d.inscripciones,e.categoria_id),d.inscripciones=j("filter")(d.inscripciones,{categoria_id:"!"+e.categoria_id})},function(b){return g.warning("No se quitó inscripción","Problema"),console.log("No se quitó inscripción ",b),a.cambiando=!1,a.selected=!0})}}])}.call(this),function(){angular.module("WissenSystem").directive("gridUsuarios",["App",function(a){return{restrict:"E",templateUrl:a.views+"usuarios/gridUsuariosDir.tpl.html",scope:{usuarios:"=",categoriasking:"=",currentusers:"=",nivelesking:"=",idioma:"="},link:function(a,b,c){},controller:"GridUsuariosCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("GridUsuariosCtrl",["$scope","$http","Restangular","$state","$cookies","$interval","toastr","uiGridConstants","$uibModal","$filter","$location","$anchorScroll","$mdSidenav","App","MySocket","SocketData",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q,r,s,t,u,v,w,x;a.currentusers=[],a.currentuser={},a.seleccionar_fila=function(b){var c;return a.gridApi.selection.clearSelectedRows(),a.gridApi.selection.selectRow(b),a.currentuser=b,c=[],angular.copy(a.categoriasking,c),a.categorias_inscripcion=j("categsInscritas")(a.currentusers,c,a.idioma)},a.seleccionar_entidad=function(b){var c;return c=i.open({templateUrl:n.views+"usuarios/cambiarEntidadUsuario.tpl.html",controller:"SelectEntidadCtrl",resolve:{usuario:function(){return b},entidades:function(){return a.$parent.entidades}}}),c.result.then(function(a){return b.entidad_id=a})},a.showSidenavSelectPC=function(a){return p.clt_selected=a,m("sidenavSelectPC").toggle(),k.hash("sidenavSelectPC"),l()},a.editando=!1,a.editar=function(b){var c,d,e,f,g;for(a.gridApi.selection.clearSelectedRows(),a.gridApi.selection.selectRow(b),a.$parent.currentUser=b,a.$parent.currentUser.imgUsuario={id:a.$parent.currentUser.imagen_id,nombre:a.$parent.currentUser.imagen_nombre},g=a.$parent.entidades,e=0,f=g.length;f>e;e++)d=g[e],d.id===a.$parent.currentUser.entidad_id&&(a.$parent.currentUser.entidad=d);return a.$parent.currentUser.nivel_id=parseInt(a.$parent.currentUser.nivel_id),a.currentusers=[b],a.$parent.editando=!0,c=[],angular.copy(a.categoriasking,c),a.$parent.categorias_inscripcion=j("categsInscritas")(a.currentusers,c,a.idioma)},a.eliminar=function(b){var c;return a.gridApi.selection.clearSelectedRows(),a.gridApi.selection.selectRow(b),c=i.open({templateUrl:n.views+"usuarios/removeUsuario.tpl.html",controller:"RemoveUsuarioCtrl",resolve:{usuario:function(){return b},entidades:function(){return a.$parent.entidades}}}),c.result.then(function(b){return a.usuarios=j("filter")(a.usuarios,{id:"!"+b.id}),a.gridOptions.data=a.usuarios})},a.verRoles=function(a){var b;return b=i.open({templateUrl:n.views+"usuarios/verRoles.tpl.html",controller:"VerRolesCtrl",resolve:{usuario:function(){return a},roles:function(){return c.all("roles").getList().then(function(a){return a},function(a){return g.warning("No pudo traer los roles","Problema"),console.log("No pudo traer los roles ",a)})}}}),b.result.then(function(a){})},r='<a tooltip="Editar" tooltip-placement="left" class="btn btn-default btn-xs " ng-click="grid.appScope.editar(row.entity)"><i class="fa fa-edit "></i></a>',s='<a tooltip="X Eliminar" tooltip-placement="right" class="btn btn-xs btn-danger" ng-click="grid.appScope.eliminar(row.entity)"><i class="fa fa-trash "></i></a> ',t='<a tooltip="Seleccionar" tooltip-placement="right" class="btn btn-xs btn-info" ng-click="grid.appScope.seleccionar_fila(row.entity)"><i class="fa fa-check "></i></a>',w='<a tooltip="Abrir en equipo" tooltip-placement="right" class="btn btn-xs btn-info" ng-click="grid.appScope.showSidenavSelectPC(row.entity)"><i class="fa fa-desktop "></i></a>',u='<a tooltip="{{row.entity.entidad_id | nombreEntidad:grid.appScope.$parent.entidades:false}}" tooltip-placement="left" class="btn btn-xs shiny btn-info" ng-click="grid.appScope.seleccionar_entidad(row.entity)" ng-bind="row.entity.entidad_id | nombreEntidad:grid.appScope.$parent.entidades:true"></a>',v='<a tooltip="Modificar roles" tooltip-placement="left" class="btn btn-xs btn-info" ng-click="grid.appScope.verRoles(row.entity)"><span ng-repeat="rol in row.entity.roles">{{rol.display_name}}-</span></a>',q="",q=a.$parent.hasRoleOrPerm(["Admin"])?r+s+t+w:r+t+w,
x=[{field:"id",displayName:"Id",width:60,enableCellEdit:!1,enableColumnMenu:!1},{name:"edicion",displayName:"Edición",width:130,enableSorting:!1,enableFiltering:!1,cellTemplate:q,enableCellEdit:!1,enableColumnMenu:!1},{field:"nombres",filter:{condition:h.filter.CONTAINS},enableHiding:!1},{field:"apellidos",filter:{condition:h.filter.CONTAINS}},{field:"sexo",displayName:"Sex",width:60},{field:"username",filter:{condition:h.filter.CONTAINS},displayName:"Usuario"},{field:"entidad_id",displayName:"Entidad",cellTemplate:u,enableCellEdit:!1,filter:{condition:function(b,c){var d,e,f,g;return d=a.$parent.entidades,g=b.toLowerCase(),e=j("nombreEntidad")(c,d,!0),e=e.toLowerCase(),f=j("nombreEntidad")(c,d),f=f.toLowerCase(),-1!==e.indexOf(g)||-1!==f.indexOf(g)}}}],a.$parent.hasRoleOrPerm(["Admin"])&&x.push({field:"roles",displayName:"Roles",cellTemplate:v,enableCellEdit:!1}),a.gridOptions={showGridFooter:!0,enableSorting:!0,enableFiltering:!0,selectedItems:a.currentusers,multiSelect:!0,enableRowSelection:!0,enableSelectAll:!0,columnDefs:x,onRegisterApi:function(b){return a.gridApi=b,b.selection.on.rowSelectionChanged(a,function(c){return a.currentusers=b.selection.getSelectedRows()}),b.selection.on.rowSelectionChangedBatch(a,function(c){return a.currentusers=b.selection.getSelectedRows()}),b.edit.on.afterCellEdit(a,function(b,d,e,f){if(e!==f){if("sexo"===d.field&&"M"!==e&&"F"!==e)return g.warning("Debe usar M o F"),b.sexo=f,void a.$apply();c.one("usuarios/update").customPUT(b).then(function(a){return g.success("Usuario actualizado con éxito","Actualizado")},function(a){return g.error("Cambio no guardado","Error")})}return a.$apply()})}},c.all("usuarios").getList().then(function(b){return a.usuarios=b,a.gridOptions.data=a.usuarios}),a.cambiaInscripcion=function(a,b){var d,e,f,h;for(a.cambiando=!0,e={usuarios:[],categoria_id:a.categoria_id},f=0,h=b.length;h>f;f++)d=b[f],e.usuarios.push({user_id:d.id});return a.selected?c.one("inscripciones/inscribir-varios").customPUT(e).then(function(c){var e,f,g,h,i,k;for(g=0,i=b.length;i>g;g++)for(d=b[g],h=0,k=c.length;k>h;h++)f=c[h],f.user_id===d.id&&(e=j("filter")(d.inscripciones,{categoria_id:f.categoria_id}),0===e.length?d.inscripciones.push(f):(e[0].id=f.id,e[0].deleted_at=f.deleted_at));return a.cambiando=!1},function(b){return g.warning("No se inscribó el usuario","Problema"),console.log("No se inscribó el usuario ",b),a.cambiando=!1,a.selected=!1}):c.one("inscripciones/desinscribir-varios").customPUT(e).then(function(c){var d,e,f,g;for(a.cambiando=!1,f=[],d=0,e=b.length;e>d;d++)g=b[d],f.push(g.inscripciones=j("filter")(g.inscripciones,{categoria_id:"!"+a.categoria_id}));return f},function(b){return g.warning("No se quitó inscripción","Problema"),console.log("No se quitó inscripción ",b),a.cambiando=!1,a.selected=!0})}}]).controller("RemoveUsuarioCtrl",["$scope","$uibModalInstance","usuario","entidades","Restangular","toastr",function(a,b,c,d,e,f){return a.usuario=c,a.entidades=d,a.ok=function(){return e.all("usuarios/destroy").customDELETE(c.id).then(function(a){return f.success("Usuario eliminado con éxito.","Eliminado"),b.close(c)},function(a){return f.warning("No se pudo eliminar al usuario.","Problema"),console.log("Error eliminando usuario: ",a),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}]).controller("SelectEntidadCtrl",["$scope","$uibModalInstance","usuario","entidades","Restangular","toastr","$filter",function(a,b,c,d,e,f,g){return a.usuario=c,a.entidades=d,a.entidades_extras=g("filter")(d,{id:"!"+c.entidad_id}),a.seleccionar=function(c){var d;return d={user_id:a.usuario.id,entidad_id:c.id},e.all("usuarios/cambiar-entidad").customPUT(d).then(function(a){return f.success("Entidad cambiada con éxito.",c.alias),b.close(c.id)},function(a){return f.warning("No se pudo cambiar entidad.","Problema"),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}]).controller("VerRolesCtrl",["$scope","$uibModalInstance","usuario","roles","Restangular","toastr",function(a,b,c,d,e,f){return a.usuario=c,a.roles=d,a.datos={selecteds:[]},a.datos.selecteds=c.roles,a.seleccionando=function(a,b){var d;return d={user_id:c.id,role_id:a.id},e.one("roles/add-role-to-user").customPUT(d).then(function(a){return f.success("Rol agregado con éxito.")},function(a){return f.warning("No se pudo agregar el rol al usuario.","Problema"),console.log("No se pudo agregar el rol al usuario.: ",a)})},a.quitando=function(a,b){return e.one("roles/remove-role-to-user").customPUT({role_id:a.id,user_id:c.id}).then(function(a){return f.success("Rol quitado con éxito.")},function(a){return f.warning("No se pudo quitar el rol al usuario.","Problema"),console.log("No se pudo quitar el rol al usuario.: ",a)})},a.ok=function(){return c.roles=a.datos.selecteds,b.close(c)},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").directive("sidenavSelectPcDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"usuarios/sidenavSelectPCDir.tpl.html",scope:!1,controller:"SidenavSelectPCCtrl"}}]).controller("SidenavSelectPCCtrl",["$scope","Restangular","toastr","MySocket","SocketData","$mdSidenav",function(a,b,c,d,e,f){return a.selectedUser={},d.get_clts(),a.SocketData=e,a.ingresar_seleccionado=function(b){return d.let_him_enter(e.clt_selected.id,b.resourceId),a.cerrar_sidenav()},a.cerrar_sidenav=function(){return f("sidenavSelectPC").close()}}])}.call(this),function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("panel.control",{url:"^/control",views:{contenido_panel:{templateUrl:a.views+"control/control.tpl.html",controller:"ControlCtrl"},data:{pageTitle:"Control"}}}).state("panel.crearservidor",{url:"^/crearservidor",views:{contenido_panel:{templateUrl:a.views+"control/crear_servidor.tpl.html",controller:"CrearServidorCtrl"},data:{pageTitle:"Creando Chat Server"}}}),c.translations("EN",{CLIENTES_CONECTADOS_TL:"Conected clients","CONEXIÓN_TL":"Connection",ABRIR_SERVIDOR_TL:"Open server",CERRAR_SERVIDOR_TL:"Close server",CONECTAR_TL:"Connect",QR_SCANNER_TL:"QR Scanner",DESELECCIONAR_TL:"Diselect",DESELECCIONAR_TODO_TL:"Diselect all",SELECCIONAR_TODO_TL:"Select all",EMPEZAR_EXAMEN_TL:"Start test",SIGUIENTE_PREGUNTA_TL:"Next question",ACTUALIZAR_TL:"Refresh",REGISTRADOS_CONECTADOS_TL:"Conected Registereds",CERRAR_SESION_TL:"Logout",EDITAR_TL:"Edit",DISPONIBLES_TL:"Availables",SIN_REGISTRAR_TL:"Unregistereds",NOMBRE_DE_PUNTO_TL:"Point name",SELECCIONAR_UN_USUARIO_TL:"Diselect an user",GUARDAR_NOMBRE_PUNTO_TL:"Save point name",MENSAJE_TL:"Message",ENVIA_UN_MENSAJE_TL:"Send a message",ENVIA_TL:"Send",COMANDOS_TL:"Commands",PREG_TL:"Quest",MOSTRAR_PREGUNTA_TL:"Show question",MOSTRAR_PUNTAJE_TL:"Show score",MOSTRAR_LOGO_ENTIDADES_TL:"Show entities ad",MOSTRAR_PARTICIPANTES_TL:"Show players",MOSTRAR_BARRAS_TL:"Show bar chart",CONFIGURAR_FONDO_TL:"Config background image",ESTABLECER_FONDO_TL:"Set background image",MOSTRAR_SOLO_FONDO_TL:"Show background only",CAMBIAR_TELEPROMPTER_TL:"Change teleprompter",EMPEZAR_EXAMEN_TL:"Start test",ENVIAR_CLIENTES_SELECCIONADOS_A_UNA_PREGUNTA_TL:"Send seleccted clients to a question",LIBERAR_HASTA_PREGUNTA_TL:"Free till question",IR_TL:"Go",TABLA_DE_RESULTADOS_TL:"Result table",CHAT_PUBLICO_TL:"Public chat"}).translations("ES",{CLIENTES_CONECTADOS_TL:"Clientes conectados","CONEXIÓN_TL":"Conexión",ABRIR_SERVIDOR_TL:"Abrir servidor",CERRAR_SERVIDOR_TL:"Cerrar servidor",CONECTAR_TL:"Conectar",QR_SCANNER_TL:"Escaner QR",DESELECCIONAR_TL:"Deseleccionar",DESELECCIONAR_TODO_TL:"Deseleccionar todo",SELECCIONAR_TODO_TL:"Seleccionar todo",EMPEZAR_EXAMEN_TL:"Empezar examen",SIGUIENTE_PREGUNTA_TL:"Siguiente pregunta",ACTUALIZAR_TL:"Actualizar",REGISTRADOS_CONECTADOS_TL:"Registrados conectados",CERRAR_SESION_TL:"Cerrar sesion",EDITAR_TL:"Editar",DISPONIBLES_TL:"Disponibles",SIN_REGISTRAR_TL:"Sin registrar",NOMBRE_DE_PUNTO_TL:"Nombre de punto",SELECCIONAR_UN_USUARIO_TL:"Seleccionar un usuario",GUARDAR_NOMBRE_PUNTO_TL:"Guardar nombre punto",MENSAJE_TL:"Mensaje",ENVIA_UN_MENSAJE_TL:"Envía un mensaje",ENVIA_TL:"Envía",COMANDOS_TL:"Comandos",PREG_TL:"Preg",MOSTRAR_PREGUNTA_TL:"Mostrar pregunta",MOSTRAR_PUNTAJE_TL:"Mostrar puntaje",MOSTRAR_LOGO_ENTIDADES_TL:"Mostrar logo entidades",MOSTRAR_PARTICIPANTES_TL:"Mostrar participantes",MOSTRAR_BARRAS_TL:"Mostrar barras",CONFIGURAR_FONDO_TL:"Configurar fondo",ESTABLECER_FONDO_TL:"Establecer fondo",MOSTRAR_SOLO_FONDO_TL:"Mostrar solo fondo",CAMBIAR_TELEPROMPTER_TL:"Cambiar teleprompter",EMPEZAR_EXAMEN_TL:"Empezar examen",ENVIAR_CLIENTES_SELECCIONADOS_A_UNA_PREGUNTA_TL:"Enviar clientes seleccionados a una pregunta",LIBERAR_HASTA_PREGUNTA_TL:"Liberar hasta pregunta",IR_TL:"Ir",TABLA_DE_RESULTADOS_TL:"Tabla de resultados",CHAT_PUBLICO_TL:"Chat público"})}])}.call(this),function(){angular.module("WissenSystem").controller("ControlCtrl",["$scope","Restangular","toastr","$state","$window","MySocket","SocketData","SocketClientes","$rootScope","$mdSidenav","$filter","$uibModal","App","$timeout",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){return a.SocketData=g,a.SocketClientes=h,a.cltdisponible_selected={},a.categorias_king=[],a.categorias_traducidas=[],a.cmdCategSelected={},a.cmdPreguntasTraduc=[],a.cmdPreguntaSelected={},a.cmdNoPregSelected=0,a.cmdNoPregunta=1,a.cmdShowLogoEntidadPartici=!1,a.show_result_table=!0,a.fondo={},f.on("take:usuarios",function(a){return console.log("Llegaron los usuarios")}),a.registrados_logueados=function(){return h.registrados_logueados},a.registrados_no_logged=function(){return h.registrados_no_logged},a.sin_registrar=function(){return h.sin_registrar},a.all_clientes=function(){return h.clientes},a.configurar_imagenes=function(){return b.one("imagenes/usuarios").customGET().then(function(b){return a.imagenes=b.imagenes},function(a){return c.error("No se trajeron las imágenes.")}),a.misImagenes=function(){var b;return b=l.open({templateUrl:m.views+"preguntas/misImagenes.tpl.html",controller:"MisImagenes",size:"lg",resolve:{resolved_user:function(){return a.USER}}}),b.result.then(function(b){return a.imagenes.push(b)})}},a.establecer_fondo=function(){return f.establecer_fondo(a.fondo.imagen_seleccionada.nombre)},a.mostrar_solo_fondo=function(){return f.mostrar_solo_fondo(a.fondo.imagen_seleccionada.nombre)},a.cambiar_teleprompter=function(){return f.cambiar_teleprompter(a.msg_teleprompter)},a.mostrar_result_table=function(){return a.show_result_table=!0},b.all("evaluaciones/categorias-con-preguntas").getList().then(function(b){return a.categorias_king=b,h.categorias_king=b,a.categorias_traducidas=k("categoriasTraducidas")(a.categorias_king,a.USER.idioma_main_id)},function(a){return c.warning("No se trajeron las categorias del evento","Problema")}),a.CerrarServidor=function(){return b.one("chat/cerrar-servidor").customPUT().then(function(a){return c.success("Cerrado",a)},function(a){return c.warning("No se cerró servidor"),console.log("No se cerró servidor ",a)})},a.openMenu=function(a,b){return a(b)},a.openMenuCateg=function(a,b){return a(b)},a.showSidenavEditUsu=function(b){return a.clt_to_edit=b.user_data,j("sidenavEditusu").toggle().then(function(){return console.log("toggle is done")})},a.showSidenavSelectUsu=function(b){return a.cltdisponible_selected=b,f.get_usuarios(),a.clt_to_edit=b.user_data,j("sidenavSelectusu").toggle().then(function(){})},a.Conectar=function(){return f.conectar()},a.qrScanear=function(){var a;return a=d.href("qrscanner"),e.open(a,"_blank"),!0},a.crearservidor=function(){var a;return a=d.href("panel.crearservidor"),e.open(a,"_blank"),!0},a.enviarMensajeTo=function(){var b,c,d,e,g,i,j,k,l,m,n;if(n=!1,""!==a.newMensaje){for(k=h.registrados_logueados,c=0,g=k.length;g>c;c++)b=k[c],b.seleccionado&&(f.send_email_to(a.newMensaje,b),n=!0);for(l=h.registrados_no_logged,d=0,i=l.length;i>d;d++)b=l[d],b.seleccionado&&(f.send_email_to(a.newMensaje,b),n=!0);for(m=h.sin_registrar,e=0,j=m.length;j>e;e++)b=m[e],b.seleccionado&&(f.send_email_to(a.newMensaje,b),n=!0);if(n)return a.newMensaje=""}},a.deseleccionarTodo=function(){var a,b,c,d,e;for(d=h.clientes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.seleccionado?e.push(a.seleccionado=!1):e.push(void 0);return e},a.seleccionarTodo=function(){var a,b,c,d,e;for(d=h.clientes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.seleccionado?e.push(void 0):e.push(a.seleccionado=!0);return e},a.actualizarClts=function(){return f.get_clts()},a.guardarNombrePunto=function(a){var b;return b=k("clearhtml")(a.nombre_punto),f.guardar_nombre_punto(a.resourceId,b)},a.clickedClt=function(b,c){return a.deseleccionar?c.seleccionado=!1:c.seleccionado=!c.seleccionado},a.sobreClt=function(b,c){return 1===b.buttons?a.deseleccionar?c.seleccionado=!1:c.seleccionado=!0:void 0},a.cerrar_sesion_a=function(a){var b;return b=confirm("¿Cerrar sesión a "+a.user_data.nombres+"?"),b?f.cerrar_sesion_a(a.resourceId):void 0},a.registrar_a=function(a){var b;return b=confirm("¿Establecer como equipo oficial a "+a.nombre_punto+"?"),b?f.registrar_a(a.resourceId):void 0},a.desregistrar_a=function(a){var b;return b=confirm("El equipo "+a.nombre_punto+" dejará de ser oficial, ¿está seguro?"),b?f.desregistrar_a(a.resourceId):void 0},a.categoriaSelect=function(b){var c;return b?(c=k("categSelectedDeUsuario")(b.user_data.inscripciones,a.categorias_king,a.USER.idioma_main_id,b.categsel),c.length>0?c[0]:{}):{}},a.opcion_seleccionada=-1,a.selec_opc_in_question=function(b){return a.opcion_seleccionada=b,f.selec_opc_in_question(b)},a.sc_reveal_answer=function(){var b,c,d,e,g,h,i;if(a.opcion_seleccionada<0)return void alert("Primero debes elegir opción.");for(f.sc_reveal_answer(),h=a.cmdPreguntaSelected.opciones,i=[],d=c=0,e=h.length;e>c;d=++c)g=h[d],d===a.opcion_seleccionada?g.is_correct?(b=new Audio("/sounds/Revelada_correcta.wav"),i.push(b.play())):(b=new Audio("/sounds/Revalada_incorrecta.wav"),i.push(b.play())):i.push(void 0);return i},a.cambiarCategSel=function(a,b){var c,d,e,g,h;for(c=!1,h=a.user_data.inscripciones,d=0,g=h.length;g>d;d++)e=h[d],b.categoria_id===e.categoria_id&&(c=!0);return c?f.change_a_categ_selected(a.resourceId,b.categoria_id):void 0},a.empezarExamen=function(b){var d;return f.empezar_examen(),c.info("Examen empezado"),g.config.info_evento.preg_actual=1,d=a.cmdPreguntasTraduc[g.config.info_evento.preg_actual],d?f.sc_show_question(g.config.info_evento.preg_actual,d):c.warning("No hay categoría seleccionada")},a.empezarExamenCliente=function(a){return f.empezar_examen_cliente(a.resourceId)},a.empezarExamenCltsSeleccionados=function(){var a,b,c,d,e;for(d=h.clientes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.seleccionado?e.push(f.empezar_examen_cliente(a.resourceId)):e.push(void 0);return e},a.showParticipantes=function(){return f.sc_show_participantes()},a.showBarras=function(){return f.sc_show_barras()},a.showQuestion=function(){return f.sc_show_question(a.cmdNoPregSelected,a.cmdPreguntaSelected)},a.showPuntajeParticip=function(){return f.sc_show_puntaje_particip(a.cmdCategSelected)},a.cmdClickCategSelected=function(b){var c,d,e,f,g,h,i;for(a.cmdCategSelected=b,a.cmdPreguntasTraduc=[],h=b.evaluaciones,i=[],d=0,e=h.length;e>d;d++)c=h[d],c.actual?i.push(function(){var d,e,h,i;for(h=c.preguntas_evaluacion,i=[],d=0,e=h.length;e>d;d++)f=h[d],i.push(function(){var d,e,h,i;for(h=f.preguntas_traducidas,i=[],d=0,e=h.length;e>d;d++)g=h[d],g.idioma_id===a.USER.idioma_main_id?(g.tipo_pregunta=f.tipo_pregunta,g.nombre_categ=b.nombre,g.descrip_categ=c.descripcion,g.cantidad_pregs=c.preguntas_evaluacion.length,i.push(a.cmdPreguntasTraduc.push(g))):i.push(void 0);return i}());return i}()):i.push(void 0);return i},a.cmdClickPreguntaSelected=function(b,c){return a.cmdNoPregSelected=c+1,a.cmdPreguntaSelected=b},a.toggleShowLogoEntidadParticipantes=function(){return f.sc_show_logo_entidad_partici(!a.cmdShowLogoEntidadPartici)},a.nextQuestion=function(){var b;return f.sc_next_question(),g.config.info_evento.preg_actual=g.config.info_evento.preg_actual+1,b=a.cmdPreguntasTraduc[g.config.info_evento.preg_actual],b?f.sc_show_question(g.config.info_evento.preg_actual,b):c.warning("No hay categoría seleccionada")},a.nextQuestionCliente=function(a){return f.sc_next_question_cliente(a)},a.nextQuestionCltsSeleccionados=function(){var a,b,c,d,e;for(d=h.clientes,e=[],b=0,c=d.length;c>b;b++)a=d[b],a.seleccionado?e.push(f.sc_next_question_cliente(a)):e.push(void 0);return e},a.gotoNoQuestionClt=function(){var b,d,e,g,i;for(b=0,i=h.clientes,e=0,g=i.length;g>e;e++)d=i[e],d.seleccionado&&(b+=1,f.sc_goto_question_no_clt(d,a.cmdNoPregunta));return 0===b?c.warning("Primero debes seleccionar al menos un participante"):void 0},a.liberar_hasta_pregunta=function(){return f.liberar_hasta_pregunta(g.config.info_evento.free_till_question)},i.$on("take:clientes",function(){return n(function(){return a.$apply()},1e3)}),f.get_clts()}])}.call(this),function(){angular.module("WissenSystem").controller("CrearServidorCtrl",["$scope","Restangular","toastr","$timeout",function(a,b,c,d){return a.mytimeout={},a.counter=5,a.onTimeout=function(){return a.counter=a.counter-1,a.counter<1?a.stop():a.mytimeout=d(a.onTimeout,1e3)},a.mytimeout=d(a.onTimeout,1e3),a.stop=function(){return d.cancel(a.mytimeout),a.diagnostico="Ya puedes cerrar esta pestaña"},a.mostrarMensaje=function(){return c.info("Por seguridad, no cierres la pestaña hasta que acabe el tiempo")},b.one("chat").customGET().then(function(a){return console.log("Conectando...",a)},function(b){return d.cancel(a.mytimeout),c.warning("Error, tal vez el Chat Server ya está activo"),console.log("Error, tal vez el Chat Server ya está activo. ",b),a.diagnostico="Error, tal vez el Chat Server ya está activo",a.counter=0})}])}.call(this),function(){angular.module("WissenSystem").directive("sidenavSelectUsuDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"control/sidenavSelectUsuDir.tpl.html",scope:!1,controller:"SidenavSelectUsuCtrl"}}]).controller("SidenavSelectUsuCtrl",["$scope","Restangular","toastr","MySocket","SocketData","SocketClientes","$mdSidenav","$timeout",function(a,b,c,d,e,f,g,h){return a.selectedUser={},a.avatar={masculino:{abrev:"M",def:"Masculino",img:a.imagesPath+"perfil/system/avatars/male1.png"},femenino:{abrev:"F",def:"Femenino",img:a.imagesPath+"perfil/system/avatars/female1.png"}},a.seleccionarUsu=function(b){var c,d,e,g,h;if(b.seleccionado=!b.seleccionado,b.seleccionado){for(a.selectedUser=b,e=f.usuarios_all,g=[],c=0,d=e.length;d>c;c++)h=e[c],h.id!==b.id?g.push(h.seleccionado=!1):g.push(void 0);return g}},a.seleccionarCkUsu=function(b){var c,d,e,g,h;if(b.seleccionado){for(a.selectedUser=b,e=f.usuarios_all,g=[],c=0,d=e.length;d>c;c++)h=e[c],h.id!==b.id?g.push(h.seleccionado=!1):g.push(void 0);return g}},a.ingresando_seleccionado=!1,a.ingresar_seleccionado=function(b){return a.ingresando_seleccionado===!1?b?(a.ingresando_seleccionado=!0,d.let_him_enter(b.id,a.cltdisponible_selected.resourceId),a.cerrar_sidenav()):a.selectedUser.id?(a.ingresando_seleccionado=!0,d.let_him_enter(a.selectedUser.id,a.cltdisponible_selected.resourceId),a.cerrar_sidenav()):c.warning("Selecciona un usuario"):void 0},a.cerrar_sidenav=function(){return g("sidenavSelectusu").close(),h(function(){return a.ingresando_seleccionado=!1},50)}}])}.call(this),function(){angular.module("WissenSystem").directive("sidenavEditUsuDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"control/sidenavEditUsuDir.tpl.html",scope:!1,controller:"SidenavEditUsuCtrl"}}]).controller("SidenavEditUsuCtrl",["$scope","Restangular","toastr","MySocket","SocketData","$mdSidenav","$mdDialog","$filter",function(a,b,c,d,e,f,g,h){return a.niveles_king=[],a.traer_niveles=function(){return b.all("niveles/niveles-usuario").getList().then(function(b){return a.niveles_king=b},function(a){return c.warning("No se trajeron las niveles","Problema"),console.log("No se trajo niveles ",a)})},a.traer_niveles(),a.entidades=[],a.traer_entidades=function(){return b.all("entidades").getList().then(function(b){return a.entidades=b},function(a){return c.warning("No se trajeron las entidades","Problema"),console.log("No se trajo entidades ",a)})},a.traer_entidades(),a.categorias_king1=[],a.categorias_king2=[],a.traer_categorias=function(){return b.all("categorias/categorias-usuario").getList().then(function(b){return a.categorias_king1=b,angular.copy(a.categorias_king1,a.categorias_king2)},function(a){return c.warning("No se trajeron las categorias","Problema"),console.log("No se trajo categorias ",a)})},a.traer_categorias(),a.avatar={masculino:{abrev:"M",def:"Masculino",img:a.imagesPath+"perfil/system/avatars/male1.png"},femenino:{abrev:"F",def:"Femenino",img:a.imagesPath+"perfil/system/avatars/female1.png"}},a.guardando_edicion=!1,a.guardar=function(){return a.guardando_edicion=!0,b.one("usuarios/update").customPUT(a.clt_to_edit).then(function(b){return c.success("Cambios guardados."),a.guardando_edicion=!1,console.log("Cambios guardados",b)},function(b){return c.warning("No se guardó cambios del usuario","Problema"),console.log("No se guardó cambios del usuario ",b),a.guardando_edicion=!1})},a.cancelar=function(){return a.guardando_edicion=!1,f("sidenavEditusu").close()},a.cambiarPass=function(d){var e;return e=g.prompt().title("Contraseña").textContent("Escribe nueva contraseña").placeholder("Contraseña").ariaLabel("Contraseña").targetEvent(d).ok("Cambiar").cancel("Cancelar"),g.show(e).then(function(d){var e;return e={usu_id:a.clt_to_edit.id,password:d},b.one("usuarios/cambiar-pass").customPUT(e).then(function(a){return c.success("Contraseña cambiada.")},function(a){return c.warning("No se cambió la contraseña","Problema"),console.log("No se guardó cambios del usuario ",a)})},function(){return console.log("Canceló cambio de pass")})},a.cambiaInscripcion=function(a,d){var e;return a.cambiando=!0,e={usuario_id:d.id,categoria_id:a.categoria_id},a.selected?b.one("inscripciones/inscribir").customPUT(e).then(function(b){var c;return a.cambiando=!1,console.log("Inscripción creada",b),c=h("filter")(d.inscripciones,{categoria_id:e.categoria_id}),0===c.length?d.inscripciones.push(b[0]):(c[0].id=b[0].id,c[0].deleted_at=b[0].deleted_at)},function(b){return c.warning("No se inscribó el usuario","Problema"),console.log("No se inscribó el usuario ",b),a.cambiando=!1,a.selected=!1}):b.one("inscripciones/desinscribir").customPUT(e).then(function(b){return a.cambiando=!1,console.log("Inscripción creada",b),d.inscripciones=h("filter")(d.inscripciones,{categoria_id:"!"+e.categoria_id})},function(b){return c.warning("No se quitó inscripción","Problema"),console.log("No se quitó inscripción ",b),a.cambiando=!1,a.selected=!0})}}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("PerfilCtrl",["$scope","Restangular","toastr",function(a,b,c){return a.newusername="",a.passantiguo="",a.newpass="",a.newpassverif="",a.status={passCambiado:!1},a.cambiarPass=function(d,e,f){var g;return d!==e?void c.warning("Las contraseñas no coinciden"):d.length<3?void c.warning("La contraseña debe tener mínimo 3 caracteres. Sin espacios ni Ñ ni tildes."):(a.cambiandoPass=!0,g={password:e,oldpassword:f},b.one("perfiles/cambiarpassword/"+a.USER.id).customPUT(g).then(function(b){return c.success("Contraseña cambiada."),a.status.passCambiado=!1,a.cambiandoPass=!1},function(b){return b=b.data,b.$error&&"Contraseña antigua es incorrecta"===b.error.message?c.warning(b.error.message):c.error("No se pudo cambiar la contraseña."),a.cambiandoPass=!1}))}}])}.call(this),function(){angular.module("WissenSystem").config(["$stateProvider","App","$translateProvider",function(a,b,c){return a.state("panel.perfil",{url:"^/perfil",views:{contenido_panel:{templateUrl:b.views+"perfil/perfil.tpl.html",controller:"PerfilCtrl"}},data:{pageTitle:"Perfil"}}),c.translations("EN",{PASS:"Contraseña"}).translations("ES",{PASS:"Password"})}])}.call(this),function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("panel.categorias",{url:"^/categorias",views:{contenido_panel:{templateUrl:a.views+"categorias/categorias.tpl.html",controller:"CategoriasCtrl"}},data:{pageTitle:"Categorias"}}),c.translations("EN",{CATEGORIAS_TITLE:"Categs",NIVELES_TITLE:"Levels",DISCIPLINA_TITLE:"Disciplines"}).translations("ES",{CATEGORIAS_TITLE:"Categorias",NIVELES_TITLE:"Niveles",DISCIPLINA_TITLE:"Disciplinas"})}])}.call(this),function(){angular.module("WissenSystem").controller("CategoriasCtrl",["$scope","Restangular","toastr",function(a,b,c){return a.comprobar_evento_actual=function(){return a.evento_actual?a.evento_actual.idioma_principal_id?a.idiomaPreg={selected:a.evento_actual.idioma_principal_id}:void 0:c.warning("Pimero debes crear o seleccionar un evento actual")},a.categorias_king=[],a.niveles_king=[],a.disciplinas_king=[],a.comprobar_evento_actual(),a.$on("cambio_evento_user",function(){return a.comprobar_evento_actual()}),a.$on("cambia_evento_actual",function(){return a.comprobar_evento_actual()})}])}.call(this),function(){angular.module("WissenSystem").controller("CategoriasDirCtrl",["$scope","Restangular","toastr","$uibModal","App","$filter",function(a,b,c,d,e,f){return a.creando=!1,a.traer_categorias=function(){return b.all("categorias/categorias-usuario").getList().then(function(b){return a.categoriasking=b},function(a){return c.warning("No se trajeron las categorias","Problema"),console.log("No se trajo categorias ",a)})},a.traer_categorias(),a.$on("cambio_evento_user",function(){return a.traer_categorias()}),a.crear_categoria=function(){return a.creando=!0,b.one("categorias/store").customPOST().then(function(b){return b.editando=!0,a.categoriasking.push(b),a.creando=!1,console.log("Categorias creada",b)},function(b){return c.warning("No se creó la categoria","Problema"),console.log("No se creó categoria ",b),a.creando=!1})},a.cerrar_edicion=function(a){return a.editando=!1},a.editarCategoria=function(a){return a.editando=!0},a.eliminarCategoria=function(b){var c;return c=d.open({templateUrl:e.views+"categorias/removeCategoria.tpl.html",controller:"RemoveCategoriaCtrl",resolve:{elemento:function(){return b}}}),c.result.then(function(b){return a.categoriasking=f("filter")(a.categoriasking,{id:"!"+b.id}),console.log("Resultado del modal: ",b)})},a.finalizar_edicion=function(b){return a.guardando(b),b.editando=!1},a.guardando=function(a){return b.all("categorias/guardar").customPUT(a).then(function(a){return c.success("Categoria guardada.")},function(a){return c.warning("No se pudo guardar la categoria","Problema"),console.log("No se pudo guardar la categoria ",a)})}}]).controller("RemoveCategoriaCtrl",["$scope","$uibModalInstance","elemento","Restangular","toastr",function(a,b,c,d,e){return a.elemento=c,console.log("elemento",c),a.ok=function(){return d.all("categorias/destroy").customDELETE(c.id).then(function(a){return e.success("Categoria eliminada con éxito.","Eliminado"),b.close(c)},function(a){return e.warning("No se pudo eliminar al elemento.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").directive("categoriasDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"categorias/categoriasDir.tpl.html",scope:{idiomapreg:"=",eventoactual:"=",categoriasking:"=",nivelesking:"=",disciplinasking:"="},link:function(a,b,c){},controller:"CategoriasDirCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("DisciplinasCtrl",["$scope","Restangular","toastr","$uibModal","App","$filter",function(a,b,c,d,e,f){return a.creando=!1,a.traer_disciplinas=function(){return b.all("disciplinas/disciplinas-usuario").getList().then(function(b){return a.disciplinasking=b},function(a){return c.warning("No se trajeron las disciplinas","Problema"),console.log("No se trajo disciplinas ",a)})},a.traer_disciplinas(),a.$on("cambio_evento_user",function(){return a.traer_disciplinas()}),a.crear_disciplina=function(){return a.creando=!0,b.one("disciplinas/store").customPOST().then(function(b){return b.editando=!0,a.disciplinasking.push(b),a.creando=!1,console.log("Disciplina creada",b)},function(b){return c.warning("No se creó la disciplina","Problema"),console.log("No se creó disciplina ",b),a.creando=!1})},a.cerrar_edicion=function(a){return a.editando=!1},a.editarDisciplina=function(a){return a.editando=!0},a.eliminarDisciplina=function(b){var c;return c=d.open({templateUrl:e.views+"categorias/removeDisciplina.tpl.html",controller:"RemoveDisciplinaCtrl",resolve:{elemento:function(){return b}}}),c.result.then(function(b){return a.disciplinasking=f("filter")(a.disciplinasking,{id:"!"+b.id}),console.log("Resultado del modal: ",b)})},a.finalizar_edicion=function(b){return a.guardando(b),b.editando=!1},a.guardando=function(a){return b.all("disciplinas/guardar").customPUT(a).then(function(a){return c.success("Disciplina guardada."),console.log("Disciplina guardada: ",a)},function(a){return c.warning("No se pudo guardar la disciplina","Problema"),console.log("No se pudo guardar la disciplina ",a)})}}]).controller("RemoveDisciplinaCtrl",["$scope","$uibModalInstance","elemento","Restangular","toastr",function(a,b,c,d,e){return a.elemento=c,console.log("elemento",c),a.ok=function(){return d.all("disciplinas/destroy").customDELETE(c.id).then(function(a){return e.success("Disciplina eliminada con éxito.","Eliminado"),b.close(c)},function(a){return e.warning("No se pudo eliminar al elemento.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").directive("disciplinasDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"categorias/disciplinasDir.tpl.html",scope:{idiomapreg:"=",eventoactual:"=",disciplinasking:"="},link:function(a,b,c){},controller:"DisciplinasCtrl"}}])}.call(this),function(){angular.module("WissenSystem").controller("NivelesCtrl",["$scope","Restangular","toastr","$uibModal","App","$filter",function(a,b,c,d,e,f){return a.creando=!1,a.traer_niveles=function(){return b.all("niveles/niveles-usuario").getList().then(function(b){return a.nivelesking=b},function(a){return c.warning("No se trajeron las niveles","Problema"),console.log("No se trajo niveles ",a)})},a.traer_niveles(),a.$on("cambio_evento_user",function(){return a.traer_niveles()}),a.crear_nivel=function(){return a.creando=!0,b.one("niveles/store").customPOST().then(function(b){return b.editando=!0,a.nivelesking.push(b),a.creando=!1,console.log("Nivel creada",b)},function(b){return c.warning("No se creó el nivel","Problema"),console.log("No se creó nivel ",b),a.creando=!1})},a.cerrar_edicion=function(a){return a.editando=!1},a.editarNivel=function(a){return a.editando=!0},a.eliminarNivel=function(b){var c;return c=d.open({templateUrl:e.views+"categorias/removeNivel.tpl.html",controller:"RemoveNivelCtrl",resolve:{elemento:function(){return b}}}),c.result.then(function(b){return a.nivelesking=f("filter")(a.nivelesking,{id:"!"+b.id}),console.log("Resultado del modal: ",b)})},a.finalizar_edicion=function(b){return a.guardando(b),b.editando=!1},a.guardando=function(a){return b.all("niveles/guardar").customPUT(a).then(function(a){return c.success("Nivel guardada."),console.log("Nivel guardada: ",a)},function(a){return c.warning("No se pudo guardar el nivel","Problema"),console.log("No se pudo guardar el nivel ",a)})}}]).controller("RemoveNivelCtrl",["$scope","$uibModalInstance","elemento","Restangular","toastr",function(a,b,c,d,e){return a.elemento=c,console.log("elemento",c),a.ok=function(){return d.all("niveles/destroy").customDELETE(c.id).then(function(a){return e.success("Nivel eliminado con éxito.","Eliminado"),b.close(c)},function(a){return e.warning("No se pudo eliminar al elemento.","Problema"),console.log("Error eliminando elemento: ",a),b.dismiss("Error")})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").directive("nivelesDir",["App",function(a){
return{restrict:"E",templateUrl:a.views+"categorias/nivelesDir.tpl.html",scope:{idiomapreg:"=",eventoactual:"=",nivelesking:"="},link:function(a,b,c){},controller:"NivelesCtrl"}}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App",function(a,b){return a.state("panel.filemanager",{url:"/filemanager",views:{contenido_panel:{templateUrl:b.views+"fileManager/fileManager.tpl.html",controller:"FileManagerCtrl"}},data:{pageTitle:"Administrador de archivos"}})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("FileManagerCtrl",["$scope","Upload","$timeout","$filter","App","Restangular","Perfil","$uibModal","$mdDialog","resolved_user","toastr","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l){var m,n,o;a.USER=j,a.subir_intacta={intacta:!0},a.hasRoleOrPerm=l.hasRoleOrPerm,a.subirImagenes="nada",a.vm={},m=function(){return a.dato={imgUsuario:{id:a.USER.imagen_id,nombre:a.USER.imagen_nombre}}},m(),a.imagesPath=e.images,a.perfilPath=e.images+"perfil/",a.imgFiles=[],a.errorMsg="",a.fileReaderSupported=null!==window.FileReader&&(null===window.FileAPI||FileAPI.html5!==!1),a.dato.usuarioElegido=[],f.one("imagenes/usuarios").customGET().then(function(b){return a.imagenes=b.imagenes,a.usuarios=b.usuarios,a.dato.usuarioElegido=b[0],a.dato.imgParaUsuario=b.imagenes.length>0?b.imagenes[0]:void 0},function(a){return k.error("No se trajeron las imágenes y usuarios.")}),a.uploadFoto=function(){var b;return b=a.vm.picture,b?(b=b.replace(/^data\:image\/\w+\;base64\,/,""),f.one("imagenes/store").customPOST({foto:b}).then(function(a){return k.success("Foto subida correctamente.")},function(a){return k.error("No se pudo subir foto","Error")})):void 0},a.upload=function(b){var c,d,e,f,g;if(a.imgFiles=b,a.errorMsg="",b&&b.length){for(g=[],d=e=0,f=b.length;f>=0?f>e:e>f;d=f>=0?++e:--e)c=b[d],g.push(n(c));return g}},n=function(b){return a.errorMsg=null,o(b),a.generateThumb(b)},a.generateThumb=function(b){return null!==b&&a.fileReaderSupported&&b.type.indexOf("image")>-1?c(function(){var a;return a=new FileReader,a.readAsDataURL(b),a.onload=function(a){return c(function(){return b.dataUrl=a.target.result})}}):void 0},o=function(c){var d;return d=a.subir_intacta.intacta?"-intacta":"",c.size>1e7?void(a.errorMsg="Archivo excede los 10MB permitidos."):b.upload({url:e.Server+"api/imagenes/store"+d,file:c}).progress(function(a){var b;return b=parseInt(100*a.loaded/a.total),c.porcentaje=b}).success(function(b,c,d,e){return a.imagenes.push(b)}).error(function(a){return console.log("Falla uploading: ",a)}).xhr(function(a){})},a.pedirCambioUsuario=function(b){return f.one("imagenes/cambiar-imagen-perfil/"+a.USER.id).customPUT({imagen_id:b.id}).then(function(c){return g.setImagen(c.imagen_id,b.nombre),a.$emit("cambianImgs",{image:c}),k.success("Imagen principal cambiada")},function(a){return k.error("No se pudo cambiar imagen","Problema")})},a.cambiarLogo=function(a){return f.one("imagenes/cambiar-logo").customPUT({logo_id:a.id}).then(function(a){return k.success("Logo del colegio cambiado")},function(a){return k.error("No se pudo cambiar el logo","Problema")})},a.asignToUser=function(b,c){var d;return d=h.open({controller:"AsignToUserCtrl",templateUrl:e.views+"fileManager/asignToUser.tpl.html",resolve:{usuarios:function(){return a.usuarios},perfilPath:function(){return a.perfilPath}}}),d.result.then(function(b){return a.cambiarFotoUnUsuario(b,c)})},a.imagenSelect=function(a,b){},a.fotoSelect=function(a,b){},a.rotarImagen=function(a){return f.one("imagenes/rotarimagen/"+a.id).customPUT().then(function(b){return a.nombre="",k.success("Imagen rotada"),a.nombre=b+"?"+(new Date).getTime()},function(a){return k.error("Imagen no rotada")})},a.borrarImagen=function(b){var c;return c=h.open({templateUrl:e.views+"fileManager/removeImage.tpl.html",controller:"RemoveImageCtrl",size:"sm",resolve:{imagen:function(){return b}}}),c.result.then(function(b){return a.imagenes=d("filter")(a.imagenes,{id:"!"+b.id})})},a.onCopyError=function(){return k.warning("No se pudo copiar")},a.onCopySuccess=function(){return k.success("Copiado")},a.usuarioSelect=function(b,c){return a.dato.selectUsuarioModel=b},a.cambiarFotoUnUsuario=function(a,b){var c;return c={imgUsuario:b.id},f.one("imagenes/cambiar-img-usuario/"+a.id).customPUT(c).then(function(c){return k.success("Imagen asignada con éxito"),a.imagen_id=b.id,a.imagen_nombre=b.nombre},function(a){return k.error("Error al asignar foto al usuario","Problema")})}}])}.call(this),function(){angular.module("WissenSystem").controller("RemoveImageCtrl",["$scope","$uibModalInstance","imagen","App","Restangular","AuthService","toastr",function(a,b,c,d,e,f,g){a.imagesPath=d.images+"perfil/",a.imagen=c,a.hasRoleOrPerm=f.hasRoleOrPerm,a.ok=function(){return e.one("imagenes/destroy/"+c.id).customDELETE().then(function(a){return g.success("La imagen ha sido removida.")},function(a){return g.error("No se pudo eliminar la imagen.")}),b.close(c)},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("AsignToUserCtrl",["$scope","$uibModalInstance","toastr","usuarios","perfilPath","App",function(a,b,c,d,e,f){a.usuarios=d,a.imagesPath=f.images,a.perfilPath=e,a.asignar=function(a){return b.close(a)},a.cancelar=function(){return b.dismiss("cancel")}}])}.call(this),function(){angular.module("WissenSystem").controller("MisImagenes",["$scope","$uibModalInstance","Upload","$timeout","$filter","App","Restangular","Perfil","$uibModal","$mdDialog","resolved_user","toastr","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p;return a.USER=k,a.subir_intacta={intacta:!0},a.hasRoleOrPerm=m.hasRoleOrPerm,a.subirImagenes="nada",a.vm={},n=function(){return a.dato={imgUsuario:{id:a.USER.imagen_id,nombre:a.USER.imagen_nombre}}},n(),a.imagesPath=f.images,a.perfilPath=f.images+"perfil/",a.imgFiles=[],a.errorMsg="",a.fileReaderSupported=null!==window.FileReader&&(null===window.FileAPI||FileAPI.html5!==!1),a.dato.usuarioElegido=[],g.one("imagenes/usuarios").customGET().then(function(b){return a.imagenes=b.imagenes,a.usuarios=b.usuarios,a.dato.usuarioElegido=b[0],a.dato.imgParaUsuario=b.imagenes.length>0?b.imagenes[0]:void 0},function(a){return l.error("No se trajeron las imágenes y usuarios.")}),a.uploadFoto=function(){var c;return c=a.vm.picture,c?(c=c.replace(/^data\:image\/\w+\;base64\,/,""),g.one("imagenes/store").customPOST({foto:c}).then(function(a){return l.success("Foto subida correctamente."),a.nombre="perfil/"+a.nombre,b.close(a)},function(a){return l.error("No se pudo subir foto","Error")})):void 0},a.elegirImagen=function(a){return b.close(a)},a.upload=function(b){var c,d,e,f,g;if(a.imgFiles=b,a.errorMsg="",b&&b.length){for(g=[],d=e=0,f=b.length;f>=0?f>e:e>f;d=f>=0?++e:--e)c=b[d],g.push(o(c));return g}},o=function(b){return a.errorMsg=null,p(b),a.generateThumb(b)},a.generateThumb=function(b){return null!==b&&a.fileReaderSupported&&b.type.indexOf("image")>-1?d(function(){var a;return a=new FileReader,a.readAsDataURL(b),a.onload=function(a){return d(function(){return b.dataUrl=a.target.result})}}):void 0},p=function(b){var d;return d=a.subir_intacta.intacta?"-intacta":"",b.size>1e7?void(a.errorMsg="Archivo excede los 10MB permitidos."):c.upload({url:f.Server+"api/imagenes/store"+d,file:b}).progress(function(a){var c;return c=parseInt(100*a.loaded/a.total),b.porcentaje=c}).success(function(b,c,d,e){return a.imagenes.push(b)}).error(function(a){return console.log("Falla uploading: ",a)}).xhr(function(a){})},a.pedirCambioUsuario=function(b){return g.one("imagenes/cambiar-imagen-perfil/"+a.USER.id).customPUT({imagen_id:b.id}).then(function(c){return h.setImagen(c.imagen_id,b.nombre),a.$emit("cambianImgs",{image:c}),l.success("Imagen principal cambiada")},function(a){return l.error("No se pudo cambiar imagen","Problema")})},a.cambiarLogo=function(a){return g.one("imagenes/cambiar-logo").customPUT({logo_id:a.id}).then(function(a){return l.success("Logo del colegio cambiado")},function(a){return l.error("No se pudo cambiar el logo","Problema")})},a.asignToUser=function(b,c){var d;return d=i.open({controller:"AsignToUserCtrl",templateUrl:f.views+"fileManager/asignToUser.tpl.html",resolve:{usuarios:function(){return a.usuarios},perfilPath:function(){return a.perfilPath}}}),d.result.then(function(b){return a.cambiarFotoUnUsuario(b,c)})},a.rotarImagen=function(a){return g.one("imagenes/rotarimagen/"+a.id).customPUT().then(function(b){return a.nombre="",l.success("Imagen rotada"),a.nombre=b+"?"+(new Date).getTime()},function(a){return l.error("Imagen no rotada")})},a.borrarImagen=function(b){var c;return c=i.open({templateUrl:f.views+"fileManager/removeImage.tpl.html",controller:"RemoveImageCtrl",size:"sm",resolve:{imagen:function(){return b}}}),c.result.then(function(b){return a.imagenes=e("filter")(a.imagenes,{id:"!"+b.id})})},a.onCopyError=function(){return l.warning("No se pudo copiar")},a.onCopySuccess=function(){return l.success("Copiado")},a.usuarioSelect=function(b,c){return a.dato.selectUsuarioModel=b},a.cambiarFotoUnUsuario=function(a,b){var c;return c={imgUsuario:b.id},g.one("imagenes/cambiar-img-usuario/"+a.id).customPUT(c).then(function(c){return l.success("Imagen asignada con éxito"),a.imagen_id=b.id,a.imagen_nombre=b.nombre},function(a){return l.error("Error al asignar foto al usuario","Problema")})},a.ok=function(){return b.close("Cerrando...")},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),GridSampler={},GridSampler.checkAndNudgePoints=function(a,b){for(var c=qrcode.width,d=qrcode.height,e=!0,f=0;f<b.length&&e;f+=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(-1>g||g>c||-1>h||h>d)throw"Error.checkAndNudgePoints ";e=!1,-1==g?(b[f]=0,e=!0):g==c&&(b[f]=c-1,e=!0),-1==h?(b[f+1]=0,e=!0):h==d&&(b[f+1]=d-1,e=!0)}e=!0;for(var f=b.length-2;f>=0&&e;f-=2){var g=Math.floor(b[f]),h=Math.floor(b[f+1]);if(-1>g||g>c||-1>h||h>d)throw"Error.checkAndNudgePoints ";e=!1,-1==g?(b[f]=0,e=!0):g==c&&(b[f]=c-1,e=!0),-1==h?(b[f+1]=0,e=!0):h==d&&(b[f+1]=d-1,e=!0)}},GridSampler.sampleGrid3=function(a,b,c){for(var d=new BitMatrix(b),e=new Array(b<<1),f=0;b>f;f++){for(var g=e.length,h=f+.5,i=0;g>i;i+=2)e[i]=(i>>1)+.5,e[i+1]=h;c.transformPoints1(e),GridSampler.checkAndNudgePoints(a,e);try{for(var i=0;g>i;i+=2){var j=4*Math.floor(e[i])+Math.floor(e[i+1])*qrcode.width*4,k=a[Math.floor(e[i])+qrcode.width*Math.floor(e[i+1])];qrcode.imagedata.data[j]=k?255:0,qrcode.imagedata.data[j+1]=k?255:0,qrcode.imagedata.data[j+2]=0,qrcode.imagedata.data[j+3]=255,k&&d.set_Renamed(i>>1,f)}}catch(l){throw"Error.checkAndNudgePoints"}}return d},GridSampler.sampleGridx=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=PerspectiveTransform.quadrilateralToQuadrilateral(c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r);return GridSampler.sampleGrid3(a,b,s)},Version.VERSION_DECODE_INFO=new Array(31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017),Version.VERSIONS=buildVersions(),Version.getVersionForNumber=function(a){if(1>a||a>40)throw"ArgumentException";return Version.VERSIONS[a-1]},Version.getProvisionalVersionForDimension=function(a){if(a%4!=1)throw"Error getProvisionalVersionForDimension";try{return Version.getVersionForNumber(a-17>>2)}catch(b){throw"Error getVersionForNumber"}},Version.decodeVersionInformation=function(a){for(var b=4294967295,c=0,d=0;d<Version.VERSION_DECODE_INFO.length;d++){var e=Version.VERSION_DECODE_INFO[d];if(e==a)return this.getVersionForNumber(d+7);var f=FormatInformation.numBitsDiffering(a,e);b>f&&(c=d+7,b=f)}return 3>=b?this.getVersionForNumber(c):null},PerspectiveTransform.quadrilateralToQuadrilateral=function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this.quadrilateralToSquare(a,b,c,d,e,f,g,h),r=this.squareToQuadrilateral(i,j,k,l,m,n,o,p);return r.times(q)},PerspectiveTransform.squareToQuadrilateral=function(a,b,c,d,e,f,g,h){return dy2=h-f,dy3=b-d+f-h,0==dy2&&0==dy3?new PerspectiveTransform(c-a,e-c,a,d-b,f-d,b,0,0,1):(dx1=c-e,dx2=g-e,dx3=a-c+e-g,dy1=d-f,denominator=dx1*dy2-dx2*dy1,a13=(dx3*dy2-dx2*dy3)/denominator,a23=(dx1*dy3-dx3*dy1)/denominator,new PerspectiveTransform(c-a+a13*c,g-a+a23*g,a,d-b+a13*d,h-b+a23*h,b,a13,a23,1))},PerspectiveTransform.quadrilateralToSquare=function(a,b,c,d,e,f,g,h){return this.squareToQuadrilateral(a,b,c,d,e,f,g,h).buildAdjoint()};var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=new Array(new Array(21522,0),new Array(20773,1),new Array(24188,2),new Array(23371,3),new Array(17913,4),new Array(16590,5),new Array(20375,6),new Array(19104,7),new Array(30660,8),new Array(29427,9),new Array(32170,10),new Array(30877,11),new Array(26159,12),new Array(25368,13),new Array(27713,14),new Array(26998,15),new Array(5769,16),new Array(5054,17),new Array(7399,18),new Array(6608,19),new Array(1890,20),new Array(597,21),new Array(3340,22),new Array(2107,23),new Array(13663,24),new Array(12392,25),new Array(16177,26),new Array(14854,27),new Array(9396,28),new Array(8579,29),new Array(11994,30),new Array(11245,31)),BITS_SET_IN_HALF_BYTE=new Array(0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4);FormatInformation.numBitsDiffering=function(a,b){return a^=b,BITS_SET_IN_HALF_BYTE[15&a]+BITS_SET_IN_HALF_BYTE[15&URShift(a,4)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,8)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,12)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,16)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,20)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,24)]+BITS_SET_IN_HALF_BYTE[15&URShift(a,28)]},FormatInformation.decodeFormatInformation=function(a){var b=FormatInformation.doDecodeFormatInformation(a);return null!=b?b:FormatInformation.doDecodeFormatInformation(a^FORMAT_INFO_MASK_QR)},FormatInformation.doDecodeFormatInformation=function(a){for(var b=4294967295,c=0,d=0;d<FORMAT_INFO_DECODE_LOOKUP.length;d++){var e=FORMAT_INFO_DECODE_LOOKUP[d],f=e[0];if(f==a)return new FormatInformation(e[1]);var g=this.numBitsDiffering(a,f);b>g&&(c=e[1],b=g)}return 3>=b?new FormatInformation(c):null},ErrorCorrectionLevel.forBits=function(a){if(0>a||a>=FOR_BITS.length)throw"ArgumentException";return FOR_BITS[a]};var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=new Array(M,L,H,Q);DataBlock.getDataBlocks=function(a,b,c){if(a.length!=b.TotalCodewords)throw"ArgumentException";for(var d=b.getECBlocksForLevel(c),e=0,f=d.getECBlocks(),g=0;g<f.length;g++)e+=f[g].Count;for(var h=new Array(e),i=0,j=0;j<f.length;j++)for(var k=f[j],g=0;g<k.Count;g++){var l=k.DataCodewords,m=d.ECCodewordsPerBlock+l;h[i++]=new DataBlock(l,new Array(m))}for(var n=h[0].codewords.length,o=h.length-1;o>=0;){var p=h[o].codewords.length;if(p==n)break;o--}o++;for(var q=n-d.ECCodewordsPerBlock,r=0,g=0;q>g;g++)for(var j=0;i>j;j++)h[j].codewords[g]=a[r++];for(var j=o;i>j;j++)h[j].codewords[q]=a[r++];for(var s=h[0].codewords.length,g=q;s>g;g++)for(var j=0;i>j;j++){var t=o>j?g:g+1;h[j].codewords[t]=a[r++]}return h},DataMask={},DataMask.forReference=function(a){if(0>a||a>7)throw"System.ArgumentException";return DataMask.DATA_MASKS[a]},DataMask.DATA_MASKS=new Array(new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111),GF256.QR_CODE_FIELD=new GF256(285),GF256.DATA_MATRIX_FIELD=new GF256(301),GF256.addOrSubtract=function(a,b){return a^b},Decoder={},Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD),Decoder.correctErrors=function(a,b){for(var c=a.length,d=new Array(c),e=0;c>e;e++)d[e]=255&a[e];var f=a.length-b;try{Decoder.rsDecoder.decode(d,f)}catch(g){throw g}for(var e=0;b>e;e++)a[e]=d[e]},Decoder.decode=function(a){for(var b=new BitMatrixParser(a),c=b.readVersion(),d=b.readFormatInformation().ErrorCorrectionLevel,e=b.readCodewords(),f=DataBlock.getDataBlocks(e,c,d),g=0,h=0;h<f.length;h++)g+=f[h].NumDataCodewords;for(var i=new Array(g),j=0,k=0;k<f.length;k++){var l=f[k],m=l.Codewords,n=l.NumDataCodewords;Decoder.correctErrors(m,n);for(var h=0;n>h;h++)i[j++]=m[h]}var o=new QRCodeDataBlockReader(i,c.VersionNumber,d.Bits);return o},qrcode={},qrcode.imagedata=null,qrcode.width=0,qrcode.height=0,qrcode.qrCodeSymbol=null,qrcode.debug=!1,qrcode.maxImgSize=1048576,qrcode.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],qrcode.callback=null,qrcode.decode=function(a){if(0==arguments.length){var b=document.getElementById("qr-canvas"),c=b.getContext("2d");return qrcode.width=b.width,qrcode.height=b.height,qrcode.imagedata=c.getImageData(0,0,qrcode.width,qrcode.height),qrcode.result=qrcode.process(c),null!=qrcode.callback&&qrcode.callback(qrcode.result),qrcode.result}var d=new Image;d.onload=function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c=d.height,e=d.width;if(d.width*d.height>qrcode.maxImgSize){var f=d.width/d.height;c=Math.sqrt(qrcode.maxImgSize/f),e=f*c}a.width=e,a.height=c,b.drawImage(d,0,0,a.width,a.height),qrcode.width=a.width,qrcode.height=a.height;try{qrcode.imagedata=b.getImageData(0,0,a.width,a.height)}catch(g){return qrcode.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",void(null!=qrcode.callback&&qrcode.callback(qrcode.result))}try{qrcode.result=qrcode.process(b)}catch(g){console.log(g),qrcode.result="error decoding QR Code"}null!=qrcode.callback&&qrcode.callback(qrcode.result)},d.src=a},qrcode.isUrl=function(a){var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)},qrcode.decode_url=function(a){var b="";try{b=escape(a)}catch(c){console.log(c),b=a}var d="";try{d=decodeURIComponent(b)}catch(c){console.log(c),d=b}return d},qrcode.decode_utf8=function(a){return qrcode.isUrl(a)?qrcode.decode_url(a):a},qrcode.process=function(a){var b=(new Date).getTime(),c=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var d=0;d<qrcode.height;d++)for(var e=0;e<qrcode.width;e++){var f=4*e+d*qrcode.width*4;qrcode.imagedata.data[f]=(c[e+d*qrcode.width],0),qrcode.imagedata.data[f+1]=(c[e+d*qrcode.width],0),qrcode.imagedata.data[f+2]=c[e+d*qrcode.width]?255:0}a.putImageData(qrcode.imagedata,0,0)}var g=new Detector(c),h=g.detect();qrcode.debug&&a.putImageData(qrcode.imagedata,0,0);for(var i=Decoder.decode(h.bits),j=i.DataByte,k="",l=0;l<j.length;l++)for(var m=0;m<j[l].length;m++)k+=String.fromCharCode(j[l][m]);var n=(new Date).getTime(),o=n-b;return console.log(o),qrcode.decode_utf8(k)},qrcode.getPixel=function(a,b){if(qrcode.width<a)throw"point error";if(qrcode.height<b)throw"point error";return point=4*a+b*qrcode.width*4,p=(33*qrcode.imagedata.data[point]+34*qrcode.imagedata.data[point+1]+33*qrcode.imagedata.data[point+2])/100,p},qrcode.binarize=function(a){for(var b=new Array(qrcode.width*qrcode.height),c=0;c<qrcode.height;c++)for(var d=0;d<qrcode.width;d++){var e=qrcode.getPixel(d,c);b[d+c*qrcode.width]=a>=e?!0:!1}return b},qrcode.getMiddleBrightnessPerArea=function(a){for(var b=4,c=Math.floor(qrcode.width/b),d=Math.floor(qrcode.height/b),e=new Array(b),f=0;b>f;f++){e[f]=new Array(b);for(var g=0;b>g;g++)e[f][g]=new Array(0,0)}for(var h=0;b>h;h++)for(var i=0;b>i;i++){e[i][h][0]=255;for(var j=0;d>j;j++)for(var k=0;c>k;k++){var l=a[c*i+k+(d*h+j)*qrcode.width];l<e[i][h][0]&&(e[i][h][0]=l),l>e[i][h][1]&&(e[i][h][1]=l)}}for(var m=new Array(b),n=0;b>n;n++)m[n]=new Array(b);for(var h=0;b>h;h++)for(var i=0;b>i;i++)m[i][h]=Math.floor((e[i][h][0]+e[i][h][1])/2);return m},qrcode.grayScaleToBitmap=function(a){for(var b=qrcode.getMiddleBrightnessPerArea(a),c=b.length,d=Math.floor(qrcode.width/c),e=Math.floor(qrcode.height/c),f=new Array(qrcode.height*qrcode.width),g=0;c>g;g++)for(var h=0;c>h;h++)for(var i=0;e>i;i++)for(var j=0;d>j;j++)f[d*h+j+(e*g+i)*qrcode.width]=a[d*h+j+(e*g+i)*qrcode.width]<b[h][g]?!0:!1;return f},qrcode.grayscale=function(){for(var a=new Array(qrcode.width*qrcode.height),b=0;b<qrcode.height;b++)for(var c=0;c<qrcode.width;c++){var d=qrcode.getPixel(c,b);a[c+b*qrcode.width]=d}return a},Array.prototype.remove=function(a,b){var c=this.slice((b||a)+1||this.length);return this.length=0>a?this.length+a:a,this.push.apply(this,c)};var MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;qrcode.orderBestPatterns=function(a){function b(a,b){return xDiff=a.X-b.X,yDiff=a.Y-b.Y,Math.sqrt(xDiff*xDiff+yDiff*yDiff)}function c(a,b,c){var d=b.x,e=b.y;return(c.x-d)*(a.y-e)-(c.y-e)*(a.x-d)}var d,e,f,g=b(a[0],a[1]),h=b(a[1],a[2]),i=b(a[0],a[2]);if(h>=g&&h>=i?(e=a[0],d=a[1],f=a[2]):i>=h&&i>=g?(e=a[1],d=a[0],f=a[2]):(e=a[2],d=a[0],f=a[1]),c(d,e,f)<0){var j=d;d=f,f=j}a[0]=d,a[1]=e,a[2]=f},function(){angular.module("WissenSystem").config(["App","$stateProvider","$translateProvider",function(a,b,c){return b.state("qrscanner",{url:"/qrscanner",views:{principal:{templateUrl:a.views+"qrcode/qrScanner.tpl.html",controller:"QrScannerCtrl"}},resolve:{resolved_user:["AuthService",function(a){return a.verificar()}]},data:{pageTitle:"QR Scanner"}})}])}.call(this),function(){angular.module("WissenSystem").controller("QrScannerCtrl",["$scope","Restangular","toastr","resolved_user","App","AuthService","MySocket",function(a,b,c,d,e,f,g){return a.USER=d,a.imagesPath=e.images,a.esperando=!1,a.usuarios=[],a.selectedUser={},f.verificar_acceso(),a.onSuccess=function(d){var e;return a.esperando?void 0:(c.info("Reconocido..."),a.esperando=!0,e={code:d},a.selectedUser.id&&(e.user_id=a.selectedUser.id),b.one("qr").customPOST(e).then(function(b){return b.res?"no_encontrado"===b.res&&c.warning("Código NO encontrado en la base de datos"):b.accepted?(a.selectedUser.id?g.got_qr(b,a.selectedUser.id):g.got_qr(b),c.success('Código acceptado: "'+b.comando+'"')):c.warning("Código NO aceptado","Tal vez ya ha sido usado antes"),setTimeout(function(){return a.esperando=!1},3e3)},function(b){return c.warning("No se pudo reconocer el código qr"),console.log("No se pudo reconocer el código qr ",b),a.esperando=!1}))},a.onError=function(b){return a.errorqr=b},a.onVideoError=function(b){return a.errorqr=b},a.seleccionarUsu=function(b){var c,d,e,f,g;if(b.seleccionado=!b.seleccionado,b.seleccionado){for(a.selectedUser=b,e=a.usuarios,f=[],c=0,d=e.length;d>c;c++)g=e[c],g.id!==b.id?f.push(g.seleccionado=!1):f.push(void 0);return f}},a.seleccionarCkUsu=function(b){var c,d,e,f,g;if(b.seleccionado){for(a.selectedUser=b,e=a.usuarios,f=[],c=0,d=e.length;d>c;c++)g=e[c],g.id!==b.id?f.push(g.seleccionado=!1):f.push(void 0);return f}},b.all("usuarios").getList().then(function(b){return a.usuarios=b})}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App","USER_ROLES","PERMISSIONS","$translateProvider",function(a,b,c,d,e){a.state("proyectando",{url:"/proyectando",views:{principal:{templateUrl:b.views+"proyectando/proyectando.tpl.html",controller:"ProyectandoCtrl"}},resolve:{resolved_user:["AuthService",function(a){return a.verificar()}]},data:{pageTitle:"WissenSystem - Proyectando"}}).state("proyectando.participantes",{url:"^/participantes",views:{contenido_panel:{templateUrl:b.views+"proyectando/participantes.tpl.html",controller:"ParticipantesCtrl"}},data:{pageTitle:"Participantes"}}).state("proyectando.grafico_barras",{url:"^/grafico_barras",views:{contenido_panel:{templateUrl:b.views+"proyectando/grafico_barras.tpl.html",controller:"GraficoBarrasCtrl"}},data:{pageTitle:"Gráfico de participantes"}}).state("proyectando.question",{url:"^/question",views:{contenido_panel:{templateUrl:b.views+"proyectando/question.tpl.html",controller:"SCQuestionCtrl"}},data:{pageTitle:"Pregunta"}}).state("proyectando.puntaje_particip",{url:"^/puntaje_particip",views:{contenido_panel:{templateUrl:b.views+"proyectando/puntajeParticip.tpl.html",controller:"SCPuntajeParticipCtrl"}},data:{pageTitle:"Puntaje Participante"}}),e.preferredLanguage("ES"),e.translations("EN",{INICIO_MENU:"Home",USERS_MENU:"Users",EVENTS_MENU:"Events",ENTIDADES_MENU:"Entities",CATEGS_MENU:"Categories",PREGUNTAS_MENU:"Questions",EVALUACIONES_MENU:"Tests",IDIOMA_MENU:"Language",INFORMES_MENU:"Reports",CONTROL_MENU:"Monitoring",SCANNER_MENU:"QR Scanner",SALIR:"Sign out",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Great ultimate",INSCRITO_EN:"You are signed in:",NO_ESTAS_INSCRITO:"You are`t signed in any category.",EXAM_HECHOS:"Done Exams"}).translations("ES",{INICIO_MENU:"Inicio",EVENTS_MENU:"Eventos",ENTIDADES_MENU:"Entidades",CATEGS_MENU:"Categorías",PREGUNTAS_MENU:"Preguntas",EVALUACIONES_MENU:"Evaluaciones",USERS_MENU:"Usuarios",IDIOMA_MENU:"Idioma",INFORMES_MENU:"Informes",CONTROL_MENU:"Control",SCANNER_MENU:"Escaner QR",SALIR:"Salir",ELIMINATORIAS:"Eliminatorias",GRAN_FINAL:"Gran final",INSCRITO_EN:"Estás inscrito en:",NO_ESTAS_INSCRITO:"No estás inscrito en ninguna categoría.",EXAM_HECHOS:"Exámenes hechos"}).translations("PT",{INICIO_MENU:"Iniciação",EVENTS_MENU:"Eventos",ENTIDADES_MENU:"Entidades",CATEGS_MENU:"Categorias",PREGUNTAS_MENU:"Interrogatório",EVALUACIONES_MENU:"Evaluations",USERS_MENU:"Usuários",IDIOMA_MENU:"Língua",INFORMES_MENU:"Informação",CONTROL_MENU:"Controle",SCANNER_MENU:"QR Scanner",SALIR:"Deixar",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Grande final",INSCRITO_EN:"Você está matriculado:",NO_ESTAS_INSCRITO:"Você não está registrado em qualquer categoria.",EXAM_HECHOS:"Testes feitos"}).translations("FR",{INICIO_MENU:"Initiation",EVENTS_MENU:"Événements",ENTIDADES_MENU:"Entités",CATEGS_MENU:"Catégories",PREGUNTAS_MENU:"Questionnement",EVALUACIONES_MENU:"Evaluations",USERS_MENU:"Utilisateurs",IDIOMA_MENU:"Langue",INFORMES_MENU:"Rapports",CONTROL_MENU:"Contrôle",SCANNER_MENU:"QR Scanner",SALIR:"Laisser",ELIMINATORIAS:"Playoffs",GRAN_FINAL:"Grande finale",INSCRITO_EN:"Vous êtes inscrit à:",NO_ESTAS_INSCRITO:"Vous n'êtes pas inscrit dans aucune catégorie.",EXAM_HECHOS:"Tests effectués"})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("ProyectandoCtrl",["$scope","Restangular","$state","$stateParams","$rootScope","AuthService","App","resolved_user","$filter","MySocket","SocketData","Fullscreen",function(a,b,c,d,e,f,g,h,i,j,k,l){a.SocketData=k,a.examen=k.config.puntaje_to_show,a.USER=h,a.imagesPath=g.images,f.verificar_acceso(),a.categorias_traducidas=i("categoriasTraducidas")(a.USER.categorias_evento,a.USER.idioma_main_id),e.reload=function(){return c.go(c.current,d,{reload:!0})},a.setFullScreen=function(){return l.toggleAll()},a.openMenu=function(a,b){var c;return c=b,a(b)},a.logout=function(){return j.desloguear(),f.logout(),a.in_evento_actual={},b.one("login/logout").customPUT().then(function(a){return console.log("Desconectado con éxito: ",a)},function(a){return console.log("Error desconectando!",a)})},e.$on("me_desloguearon",function(b,c){return a.logout()})}])}.call(this),function(){angular.module("WissenSystem").controller("ParticipantesCtrl",["$scope","$rootScope","App","SocketData","SocketClientes","$filter","MySocket","$timeout",function(a,b,c,d,e,f,g,h){g.get_clts(),a.SocketData=d,a.SocketClientes=e,a.participantesDeCategoria=function(a){return f("filter")(e.clientes,{logged:!0,categsel:a.categoria_id},!0)}}]).controller("GraficoBarrasCtrl",["$scope","$rootScope","App","SocketData","SocketClientes","$filter","MySocket",function(a,b,c,d,e,f,g){var h;g.get_clts(),a.SocketData=d,a.participantes=[],a.participantes_actuales=function(){return e.participantes},a.participantes_en_categorias=function(){return function(a){return a.categsel>0}},a.calc_indice=function(a){return 7>=a?a:a>7&&14>=a?a-7:a>14&&21>=a?a-14:a>21&&28>=a?a-21:a>28&&35>=a?a-28:a>35&&42>=a?a-35:1},a.calc_porcentaje=function(a){var b,c;return c=d.config.info_evento.free_till_question,-1===c||0===c?100:(b=100*a/c,0===b?1:b>100?100:b)},h=b.$on("set_free_till_question",function(b,c){return a.$apply()}),a.$on("$destroy",function(){return h()})}]).controller("SCPuntajeParticipCtrl",["$scope","$rootScope","Perfil","App","SocketData","toastr","$translate","$filter","$uibModal","MySocket",function(a,b,c,d,e,f,g,h,i,j){a.SocketData=e}])}.call(this),function(){angular.module("WissenSystem").controller("SCQuestionCtrl",["$scope","$http","Restangular","$state","MySocket","$rootScope","AuthService","Perfil","App","resolved_user","toastr","SocketData","$filter","$uibModal",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){a.MySocket=e,a.SocketData=l,a.indexChar=function(a){return String.fromCharCode(65+a)},a.opcion_elegida=-1,e.on("selec_opc_in_question",function(b){var c,d,e,f,g,h;for(a.opcion_elegida=b.opcion,g=l.config.pregunta.opciones,h=[],d=c=0,e=g.length;e>c;d=++c)f=g[d],f.revelada_acertada=!1,f.revelada_no_acertada=!1,b.opcion===d?h.push(f.elegida=!0):h.push(f.elegida=!1);return h}),e.on("sc_reveal_answer",function(b){var c,d,e,f,g,h;for(g=l.config.pregunta.opciones,h=[],d=c=0,e=g.length;e>c;d=++c)f=g[d],f.is_correct?d===a.opcion_elegida?(f.revelada_acertada=!0,h.push(f.revelada_no_acertada=!1)):(f.revelada_acertada=!1,h.push(f.revelada_no_acertada=!0)):h.push(void 0);return h})}])}.call(this),function(){"use strict";angular.module("WissenSystem").config(["$stateProvider","App","USER_ROLES","PERMISSIONS","$translateProvider",function(a,b,c,d,e){a.state("panel.informes",{url:"^/informes/",views:{contenido_panel:{templateUrl:b.views+"informes/informes.tpl.html",controller:"InformesCtrl"}},resolve:{datos:["$q","Restangular","$stateParams",function(a,b,c){var d;return d=a.defer(),b.one("informes-infor/datos").customPUT().then(function(a){return d.resolve(a)},function(a){return d.reject(a)}),d.promise}]},data:{pageTitle:"Informes"}}).state("panel.informes.ver_todos_los_examenes",{url:"ver_todos_los_examenes?gran_final&evento_id",params:{gran_final:null,evento_id:null},views:{report_content:{templateUrl:b.views+"informes/verTodosLosExamenes.tpl.html",controller:"VerTodosLosExamenesCtrl",resolve:{examenes:["Restangular","$stateParams",function(a,b){return a.all("informes/todos-los-examenes").getList({gran_final:b.gran_final,evento_id:b.evento_id})}]}}},data:{pageTitle:"Todos los Examenes - Feryz"}}).state("panel.informes.ver_todos_los_examenes_por_entidades",{url:"ver_todos_los_examenes_por_entidades?gran_final&evento_id",params:{gran_final:null,evento_id:null},views:{report_content:{templateUrl:b.views+"informes/verTodosLosExamenesPorEnt.tpl.html",controller:"VerTodosLosExamenesPorEntCtrl",resolve:{entidades:["Restangular","$stateParams",function(a,b){var c,d;return c={gran_final:b.gran_final,evento_id:b.evento_id},localStorage.requested_entidades&&(d=JSON.parse(localStorage.requested_entidades),d.length>0&&(c.requested_entidades=d)),a.one("puestos/todos-examenes-ent").customPUT(c)}]}}},data:{pageTitle:"Todos los exámenes por entidades - Feryz"}}).state("panel.informes.ver_examenes_por_entidades_categorias",{url:"ver_examenes_por_entidades_categorias?gran_final&evento_id",params:{gran_final:null,evento_id:null},views:{report_content:{templateUrl:b.views+"informes/verExamenesPorEntCateg.tpl.html",controller:"VerExamenesPorEntidadesCtrl",resolve:{entidades:["Restangular","$stateParams",function(a,b){var c,d,e;return c={gran_final:b.gran_final,evento_id:b.evento_id},localStorage.requested_entidades&&(e=JSON.parse(localStorage.requested_entidades),e.length>0&&(c.requested_entidades=e)),localStorage.requested_categorias&&(d=JSON.parse(localStorage.requested_categorias),d.length>0&&(c.requested_categorias=d)),a.one("puestos/examenes-ent-categ").customPUT(c)}]}}},data:{pageTitle:"Exámenes por entidades - Feryz"}}),e.translations("EN",{INICIO_MENU:"Home"}).translations("ES",{INICIO_MENU:"Inicio"}).translations("PT",{INICIO_MENU:"Inicio"}).translations("FR",{INICIO_MENU:"Inicio"})}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("InformesCtrl",["$scope","$http","Restangular","$state","$rootScope","toastr","datos","$filter","$uibModal","App",function(a,b,c,d,e,f,g,h,i,j){var k,l,m,n;for(a.eventos_infor=g.eventos,a.selected={entidades:[],categorias:[]},a.sortType="promedio",a.sortReverse=!1,a.searchExam="",a.saveConfig=function(){return localStorage.config=JSON.stringify(a.config);
},localStorage.config?(localStorage.config.gran_final&&(a.config.gran_final=!1),localStorage.config.orientacion&&(a.config.orientacion="vertical"),localStorage.config.todas_entidades&&(a.config.todas_entidades=!1),localStorage.config.todas_categorias&&(a.config.todas_categorias=!1),a.config=JSON.parse(localStorage.config)):(a.config={gran_final:!1,orientacion:"vertical",todas_entidades:!1,todas_categorias:!1},a.saveConfig()),localStorage.requested_entidades&&(a.selected.entidades=JSON.parse(localStorage.requested_entidades)),localStorage.requested_categorias&&(a.selected.categorias=JSON.parse(localStorage.requested_categorias)),n=a.eventos_infor,l=0,m=n.length;m>l;l++)k=n[l],k.actual&&(a.selected.evento_id=k.id,a.selected.evento=k,a.selected.categorias_cargadas=k.categorias);return a.cargar_entidades_categorias=function(){var b,c,d,e;for(d=a.eventos_infor,e=[],b=0,c=d.length;c>b;b++)k=d[b],k.id===selected.evento_id?(a.selected.evento=k,e.push(a.selected.categorias_cargadas=k.categorias)):e.push(void 0);return e},a.cargar_evaluaciones=function(b){var c,d,e,f,g;for(a.selected.categoria=b,a.selected.evaluaciones=[],f=b.evaluaciones,g=[],d=0,e=f.length;e>d;d++)c=f[d],c.actual&&(a.selected.evaluacion=c,c.selected=!0),g.push(a.selected.evaluaciones.push(c));return g},a.cargar_preguntas=function(b){var c,d,e,f,g,h,i,j,k,l;for(a.selected.evaluacion=b,a.selected.preguntas=[],j=a.selected.evaluaciones,d=0,f=j.length;f>d;d++)c=j[d],c.selected=b===c?!0:!1;for(k=b.preguntas_evaluacion,l=[],e=0,g=k.length;g>e;e++)h=k[e],l.push(function(){var b,c,d,e;for(d=h.preguntas_traducidas,e=[],b=0,c=d.length;c>b;b++)i=d[b],i.idioma_id===a.USER.idioma_main_id?(i.tipo_pregunta=h.tipo_pregunta,e.push(a.selected.preguntas.push(i))):e.push(void 0);return e}());return l},a.tabSeleccionado=function(b){return a.config.tab_seleccionado=b,a.saveConfig()},a.$watch("config.orientacion",function(){return a.saveConfig()}),a.$watch("config.gran_final",function(){return a.saveConfig()}),a.$watch("config.todas_entidades",function(){return a.saveConfig()}),a.$watch("config.todas_categorias",function(){return a.saveConfig()}),a.traerTodosLosExamenes=function(){return d.go("panel.informes.ver_todos_los_examenes",{gran_final:a.config.gran_final,evento_id:a.selected.evento_id})},a.traerTodosLosExamenesPorEntidades=function(){return a.config.todas_entidades?delete localStorage.requested_entidades:localStorage.requested_entidades=JSON.stringify(a.selected.entidades),d.go("panel.informes.ver_todos_los_examenes_por_entidades",{gran_final:a.config.gran_final,evento_id:a.selected.evento_id},{reload:!0})},a.traerExamenesEntidadesCategorias=function(){return a.config.todas_entidades?delete localStorage.requested_entidades:localStorage.requested_entidades=JSON.stringify(a.selected.entidades),a.config.todas_categorias?delete localStorage.requested_categorias:localStorage.requested_categorias=JSON.stringify(a.selected.categorias),d.go("panel.informes.ver_examenes_por_entidades_categorias",{gran_final:a.config.gran_final,evento_id:a.selected.evento_id},{reload:!0})},a.traerExamenesCategorias=function(){return c.all("informes/examenes-categorias").getList({gran_final:a.gran_final}).then(function(b){return a.categorias=b,a.mostrando="por_categorias"},function(a){return f.warning("No se trajeron los exámenes por entidad y categorías","Problema"),console.log("No se trajeron los exámenes por entidad y categorías ",a)})},a.traerExamenesCategoria=function(){var b;return a.$parent.cmdCategSelected.id?(b=a.$parent.cmdCategSelected.id,c.all("informes/examenes-categoria").getList({gran_final:a.gran_final,categoria_id:b}).then(function(b){return a.categorias=b,a.mostrando="por_categorias"},function(a){return f.warning("No se trajeron los exámenes por entidad y categorías","Problema"),console.log("No se trajeron los exámenes por entidad y categorías ",a)})):f.warning("Selecciona una categoría.")},a.mostrarPuesto=function(a,b,c){return a.puesto=b,c&&(a.logo_nombre=c.logo_nombre,a.alias_entidad=c.alias_entidad,a.nombre_entidad=c.nombre_entidad,a.lider_nombre=c.lider_nombre),MySocket.sc_show_puntaje_examen(a)},a.eliminarExamen=function(b){var c;return c=i.open({templateUrl:j.views+"informes/seguroEliminExam.tpl.html",controller:"SeguroEliminExamCtrl",resolve:{examen:function(){return b}}}),c.result.then(function(c){var d,e;return f.success("Examen de "+b.nombres+" "+b.apellidos+" eliminado."),a.examenes=h("filter")(a.examenes,{examen_id:"!"+c.id}),e=h("filter")(a.entidades,{entidad_id:b.entidad_id})[0],e&&(e.examenes&&(e.examenes=h("filter")(e.examenes,{examen_id:"!"+c.id})),e.categorias&&(d=h("filter")(e.categorias,{categoria_id:b.categoria_id})[0],d.examenes=h("filter")(d.examenes,{examen_id:"!"+c.id}))),d=h("filter")(a.categorias,{categoria_id:b.categoria_id})[0],d&&d.examenes?d.examenes=h("filter")(d.examenes,{examen_id:"!"+c.id}):void 0})}}])}.call(this),function(){"use strict";angular.module("WissenSystem").directive("puestosDir",["App",function(a){return{restrict:"E",templateUrl:a.views+"informes/puestosDir.tpl.html",controller:"PuestosDirCtrl"}}]).controller("PuestosDirCtrl",["$scope","Restangular","toastr","$filter","MySocket","SocketData","$uibModal","App",function(a,b,c,d,e,f,g,h){return a.SocketData=f,a.mostrando=!1,a.sortType="promedio",a.sortReverse=!1,a.searchExam="",a.gran_final=!0,a.traerTodosLosExamenes=function(){return b.all("informes/todos-los-examenes").getList({gran_final:a.gran_final}).then(function(b){return a.examenes=b,a.mostrando="todos"},function(a){return c.warning("No se trajeron los exámenes","Problema"),console.log("No se trajeron los exámenes ",a)})},a.traerExamenesEntidades=function(){return b.all("informes/examenes-entidades").getList({gran_final:a.gran_final}).then(function(b){return a.entidades=b,a.mostrando="por_entidades"},function(a){return c.warning("No se trajeron los exámenes por entidad","Problema"),console.log("No se trajeron los exámenes por entidad",a)})},a.traerExamenesEntidadesCategorias=function(){return b.all("informes/examenes-entidades-categorias").getList({gran_final:a.gran_final}).then(function(b){return a.entidades=b,a.mostrando="por_entidades_categorias"},function(a){return c.warning("No se trajeron los exámenes por entidad y categorías","Problema"),console.log("No se trajeron los exámenes por entidad y categorías ",a)})},a.traerExamenesCategorias=function(){return b.all("informes/examenes-categorias").getList({gran_final:a.gran_final}).then(function(b){return a.categorias=b,a.mostrando="por_categorias"},function(a){return c.warning("No se trajeron los exámenes por entidad y categorías","Problema"),console.log("No se trajeron los exámenes por entidad y categorías ",a)})},a.traerExamenesCategoria=function(){var d;return a.$parent.cmdCategSelected.id?(d=a.$parent.cmdCategSelected.id,b.all("informes/examenes-categoria").getList({gran_final:a.gran_final,categoria_id:d}).then(function(b){return a.categorias=b,a.mostrando="por_categorias"},function(a){return c.warning("No se trajeron los exámenes por entidad y categorías","Problema"),console.log("No se trajeron los exámenes por entidad y categorías ",a)})):c.warning("Selecciona una categoría.")},a.mostrarPuesto=function(a,b,c){var d;return d={},angular.copy(a,d),d.puesto=b,c&&(d.logo_nombre=c.logo_nombre,d.alias_entidad=c.alias_entidad,d.nombre_entidad=c.nombre_entidad,d.lider_nombre=c.lider_nombre),e.sc_show_puntaje_examen(d)},a.eliminarExamen=function(b){var e;return e=g.open({templateUrl:h.views+"informes/seguroEliminExam.tpl.html",controller:"SeguroEliminExamCtrl",resolve:{examen:function(){return b}}}),e.result.then(function(e){var f,g;return c.success("Examen de "+b.nombres+" "+b.apellidos+" eliminado."),a.examenes=d("filter")(a.examenes,{examen_id:"!"+e.id}),g=d("filter")(a.entidades,{entidad_id:b.entidad_id})[0],g&&(g.examenes&&(g.examenes=d("filter")(g.examenes,{examen_id:"!"+e.id})),g.categorias&&(f=d("filter")(g.categorias,{categoria_id:b.categoria_id})[0],f.examenes=d("filter")(f.examenes,{examen_id:"!"+e.id}))),f=d("filter")(a.categorias,{categoria_id:b.categoria_id})[0],f&&f.examenes?f.examenes=d("filter")(f.examenes,{examen_id:"!"+e.id}):void 0})}}])}.call(this),function(){angular.module("WissenSystem").controller("SeguroEliminExamCtrl",["$scope","$uibModalInstance","examen","Restangular","toastr","$state",function(a,b,c,d,e,f){return a.examen=c,a.ok=function(){return a.asignando=!0,d.all("examenes_respuesta/destroy/"+c.examen_id).customDELETE().then(function(a){return b.close(a)},function(a){return e.warning("No se pudo eliminar examen.","Problema"),console.log("Error eliminando el examen: ",a)})},a.cancel=function(){return b.dismiss("cancel")}}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("VerTodosLosExamenesCtrl",["$scope","Restangular","toastr","$filter","$uibModal","App","examenes",function(a,b,c,d,e,f,g){return a.examenes=g}]).controller("VerTodosLosExamenesPorEntCtrl",["$scope","Restangular","toastr","$filter","$uibModal","App","entidades",function(a,b,c,d,e,f,g){return a.entidades=g}])}.call(this),function(){"use strict";angular.module("WissenSystem").controller("VerExamenesPorEntidadesCtrl",["$scope","Restangular","toastr","$filter","$uibModal","App","entidades",function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q;for(l=localStorage.texto_informativo_informe,l?a.texto_informativo=l:a.texto_informativo="<center>Los finalistas deben presentarse en <b>LA GRAN FINAL</b> el día jueves <b>28 de septiembre</b> a las <u>7:00am</u> en el Coliseo Municipal con <b>los pabellones</b>(escudos, heraldos) de su colegio y una <u>representación de compañeros</u> que lo apoyen en las pruebas. ¡Mucho éxito, gracias por participar! </center>",a.entidades=[],a.cambia_texto_informativo=function(){return localStorage.texto_informativo_informe=a.texto_informativo},m=0,o=g.length;o>m;m++){for(j=g[m],k=[],q=j.categorias,n=0,p=q.length;p>n;n++)h=q[n],h.examenes=d("orderObjectBy")(h.examenes,"promedio",!0),i={},angular.copy(h.examenes[0],i),i.nombre_categ=h.nombre_categ,i.abrev_categ=h.abrev_categ,i.resultados||(i.resultados={promedio:0}),k.push(i);j.finalistas=k}return a.entidades=g}])}.call(this),function(){angular.module("WissenSystem").filter("porIdioma",[function(){return function(a,b){var c,d,e,f,g;if(a){for(g=[],b=parseFloat(b),d=0,f=a.length;f>d;d++)c=a[d],e=parseFloat(c.idioma_id),b===e&&g.push(c);return g}return!1}}]).filter("idiomas_del_sistema",[function(){return function(a,b){var c,d,e,f;if(a){for(f=[],d=0,e=a.length;e>d;d++)c=a[d],b?c.used_by_system||f.push(c):c.used_by_system&&f.push(c);return f}return!1}}]).filter("porIdiomasEdit",[function(){return function(a,b){var c,d,e,f,g,h,i,j;if(a&&a.length>0&&a[0].uncodigo_id&&console.log(a,b),j=[],b&&a)for(d=0,h=b.length;h>d;d++)for(e=b[d],e=parseFloat(e),g=0,i=a.length;i>g;g++)c=a[g],f=parseFloat(c.idioma_id),e===f&&j.push(c);return j}}]).filter("catsByIdioma",[function(){return function(a,b){var c,d,e,f;for(f=[],d=0,e=a.length;e>d;d++)c=a[d],c.idioma_id===parseFloat(b)&&f.push(c);return f}}]).filter("decimales",[function(){return function(a,b){return a=parseFloat(a),a=a%1===0?a.toFixed(0):a.toFixed(b),a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}}]).filter("decimales_if",[function(){return function(a,b){var c;return a=parseFloat(a),a=a%1===0?a.toFixed(0):a.toFixed(b),c=a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),c=parseFloat(c)}}]).filter("exaTime",[function(){return function(a){var b,c,d,e,f,g,h;return g=Math.floor(a/1e3),b=3600,d=60,c=Math.floor(g/b),e=Math.floor(g%b/d),f=Math.floor(g%d),h="",f=10>f?"0"+f:void 0,c=10>c?"0"+c:void 0,e=10>e?"0"+e:void 0,h=c+":"+e+":"+f}}]).filter("secondsToDateTime",[function(){return function(a,b){var c,d,e,f;return a?(f=function(a){return 10>a?"0"+a:""+a},e=a%60,b?(d=Math.floor(a%3600/60),c=Math.floor(a/3600),f(c)+":"+f(d)+":"+f(e)):(d=Math.floor(a%60/60),f(d)+":"+f(e))):""}}]).filter("orderObjectBy",[function(){return function(a,b,c){var d,e;return d=[],angular.forEach(a,function(a){return d.push(a)}),e=function(a,b){return a.resultados.tiempo>b.resultados.tiempo?c?1:-1:a.resultados.tiempo===b.resultados.tiempo?0:c?-1:1},d.sort(function(a,d){switch(b){case"promedio":return a.resultados.promedio>d.resultados.promedio?c?-1:1:a.resultados.promedio===d.resultados.promedio?e(a,d):c?1:-1;case"cantidad_pregs":return a.resultados.cantidad_pregs>d.resultados.cantidad_pregs?c?-1:1:a.resultados.cantidad_pregs===d.resultados.cantidad_pregs?e(a,d):c?1:-1;case"nombres":case"examen_id":case"categorias":case"examen_at":return a[b]>d[b]?c?-1:1:a[b]===d[b]?e(a,d):c?1:-1;case"tiempo":return e(a,d)}}),d}}]).filter("orderParticipantes",[function(){return function(a){var b,c;return b=[],angular.forEach(a,function(a){return b.push(a)}),c=function(a,b){return a.tiempo>b.tiempo?1:a.tiempo===b.tiempo?0:-1},b.sort(function(a,b){return a.correctas>b.correctas?-1:a.correctas===b.correctas?c(a,b):1}),b}}])}.call(this),function(){angular.module("WissenSystem").filter("clearhtml",function(){return function(a){return a?String(a).replace(/<[^>]+>/gm,""):""}})}.call(this),function(){angular.module("WissenSystem").filter("categsInscritas",["$filter",function(a){return function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(d=parseInt(d),b&&c){if(t=[],void 0===b[0]||0===b.length||void 0===b.length||!b[0].inscripciones)return[];if(1===b.length)for(u=b[0],i=0,n=c.length;n>i;i++){for(h=c[i],g=a("porIdioma")(h.categorias_traducidas,d),f={},g.length>0&&(f=g[0]),f.algunos=!1,f.nivel_id=h.nivel_id,r=u.inscripciones,k=0,o=r.length;o>k;k++)j=r[k],j.categoria_id===h.id&&(f.allowed_to_answer=j.allowed_to_answer,f.examenes=j.examenes,f.inscripcion_id=j.id,f.categ_traducida_id=f.id,f.selected=!0);f.selected||(f.inscripcion_id=void 0,f.selected=!1),t.push(f)}else if(b.length>1)for(l=0,p=c.length;p>l;l++){for(h=c[l],f=a("porIdioma")(h.categorias_traducidas,d),f.length>0&&(f=f[0]),f.nivel_id=h.nivel_id,f.incripcion_id=void 0,e=0,m=0,q=b.length;q>m;m++)u=b[m],s=a("filter")(u.inscripciones,{categoria_id:h.id}),s.length>0&&e++;0===e?(f.selected=!1,f.algunos=!1):e===b.length?(f.selected=!0,f.algunos=!1):(f.selected=!1,f.algunos=!0),t.push(f)}return t}return[]}}]).filter("categsInscritasDeUsuario",["$filter",function(a){return function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;if(b&&c){for(r=[],i=0,n=c.length;n>i;i++)for(h=c[i],g=a("porIdioma")(h.categorias_traducidas,parseFloat(d)),g.length>0&&(g=g[0]),k=0,o=b.length;o>k;k++)j=b[k],j.categoria_id===h.id&&(g.nivel_id=h.nivel_id,g.allowed_to_answer=j.allowed_to_answer,g.examenes=j.examenes,g.inscripcion_id=j.id,g.categ_traducida_id=g.id,r.push(g));if(e)for(l=0,p=r.length;p>l;l++)f=r[l],f.categoria_id===e?f.selected=!0:f.selected=!1;else for(m=0,q=r.length;q>m;m++)f=r[m],f.selected=!1;return r}return[]}}]).filter("listaCategsDelUsuarioSegunNivel",["$filter",function(a){return function(a,b){var c,d,e,f;if(a&&b){for(f=[],b=parseInt(b),d=0,e=a.length;e>d;d++)c=a[d],(c.nivel_id===b||null===b||0===b||-1===b)&&f.push(c);return f}return a}}]).filter("categSelectedDeUsuario",["$filter",function(a){return function(b,c,d,e){var f,g,h,i,j,k;if(b&&c){for(k=[],h=0,i=c.length;i>h;h++)g=c[h],g.id===parseInt(e)&&(f=a("porIdioma")(g.categorias_traducidas,parseFloat(d)),f.length>0&&(f=f[0],j=a("filter")(b,{categoria_id:g.id}),j&&j.length>0&&(j=j[0],f.allowed_to_answer=j.allowed_to_answer,f.examenes=j.examenes,f.inscripcion_id=j.id,k.push(f))));return k}return[]}}])}.call(this),function(){angular.module("WissenSystem").filter("nombreEntidad",["$filter",function(a){return function(b,c,d){var e;return b&&c?(b=parseFloat(b),e=a("filter")(c,{id:b}),e.length>0?d?e[0].alias:e[0].nombre:b):b}}]).filter("nivelesTraducidos",["$filter",function(a){return function(b,c){var d,e,f,g,h;if(b&&c){for(c=parseFloat(c),h=[],d=0,e=b.length;e>d;d++)g=b[d],f=a("porIdioma")(g.niveles_traducidos,c),f.length>0&&(f[0].nivel_king_id=g.id,h.push(f[0]));return h}return b}}]).filter("categoriasTraducidas",["$filter",function(a){return function(b,c,d){var e,f,g,h,i;if(b&&c){for(c=parseFloat(c),i=[],g=0,h=b.length;h>g;g++)e=b[g],d?(d=parseFloat(d),(e.nivel_id===d||-1===d||null===d)&&(f=a("porIdioma")(e.categorias_traducidas,c),f.length>0&&(f[0].categoria_king_id=e.id,i.push(f[0])))):e&&(f=a("porIdioma")(e.categorias_traducidas,c),f.length>0&&i.push(f[0]));return i}return b}}]).filter("nombreCategoria",["$filter",function(a){return function(b,c,d,e){var f,g;return b=parseFloat(b),d=parseFloat(d),f=a("filter")(c,{id:b}),f.length>0?(f=f[0],g=a("porIdioma")(f.categorias_traducidas,d),g.length>0?(g=g[0],e?g.abrev:g.nombre):""):""}}])}.call(this),function(){angular.module("WissenSystem").filter("cantPregsEvaluacion",["$filter","Perfil",function(a,b){return function(c){var d,e,f,g,h;if(c){for(e=0,d=0,f=c.length;f>d;d++)h=c[d],h.tipo_pregunta?e++:(g=a("porIdioma")(h.contenidos_traducidos,b.idioma()),g.length>0&&(e+=g[0].preguntas_agrupadas.length));return e}return!1}}]).filter("noPregActual",["$filter","Perfil",function(a,b){return function(c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z;if(c){for(e=0,d=0,i=c.length;i>d;d++)if(v=c[d],e++,v.tipo_pregunta){for(u=a("porIdioma")(v.preguntas_traducidas,b.idioma()),z=!1,f=0,j=u.length;j>f;f++)for(s=u[f],w=s.opciones,g=0,k=w.length;k>g;g++)q=w[g],q.respondida&&(z=!0);if(!z)return e}else for(t=a("porIdioma")(v.contenidos_traducidos,b.idioma()),h=0,l=t.length;l>h;h++)for(r=t[h],e++,x=r.preguntas_agrupadas,o=0,m=x.length;m>o;o++){for(s=x[o],z=!1,y=s.opciones,p=0,n=y.length;n>p;p++)q=y[p],q.respondida&&(z=!0);if(!z)return e}return e}return!1}}]).filter("preguntaActual",["$filter","Perfil",function(a,b){return function(c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;if(e=[],angular.forEach(c,function(a){return e.push(a)}),e=a("orderBy")(e,"orden")){if(d)return[e[d-1]];for(f=0,j=e.length;j>f;f++)if(w=e[f],w.tipo_pregunta){for(v=a("porIdioma")(w.preguntas_traducidas,b.idioma()),B=!1,g=0,k=v.length;k>g;g++)for(t=v[g],x=t.opciones,h=0,l=x.length;l>h;h++)r=x[h],r.respondida&&(B=!0);if(!B)return[w]}else for(u=a("porIdioma")(w.contenidos_traducidos,b.idioma()),i=0,m=u.length;m>i;i++)for(s=u[i],y=s.preguntas_agrupadas,p=0,n=y.length;n>p;p++){for(t=y[p],B=!1,z=t.opciones,q=0,o=z.length;o>q;q++)r=z[q],r.respondida&&(B=!0);if(!B)return[w]}return A=e[0],A&&(A.terminado=!0,A=[A]),A}return!1}}])}.call(this),function(){angular.module("WissenSystem").directive("updateTitle",["$rootScope","$timeout",function(a,b){return{link:function(c,d){var e;return e=function(a,c,e){var f;return f="MyVc",c.data&&c.data.pageTitle&&(f=c.data.pageTitle),e&&e.username&&(f=e.username+" - MyVc"),b(function(){return d.text(f)},0,!1)},a.$on("$stateChangeSuccess",e)}}}])}.call(this),function(){angular.module("WissenSystem").directive("contenteditable",["$timeout","$window",function(a,b){return{require:"ngModel",scope:{guardarNombrePunto:"="},link:function(c,d,e,f){return d.bind("blur keyup change",function(e){return a(function(){var a;return 13===e.keyCode?(e.cancelBubble=!0,e.returnValue=!1,a=b.document.getElementById("msg-especifico"),a&&a.focus(),c.guardarNombrePunto(c.$parent.cliente),e.preventDefault()):c.$apply(function(){return f.$setViewValue(d.html())})},0)}),f.$render=function(){return d.html(f.$viewValue)}}}}])}.call(this),function(){angular.module("WissenSystem").factory("Perfil",["Restangular","App","$q","$cookies","$rootScope","AUTH_EVENTS","$http",function(a,b,c,d,e,f,g){var h,i;return i={},h=0,{setUser:function(a){return i=a},User:function(){return i},id:function(){return i.user_id},idioma:function(){return i.idioma_main_id},setImagen:function(a,b){return i.imagen_id=a,i.imagen_nombre=b},setResourceId:function(a){return h=a},getResourceId:function(){return h},setRegistered:function(a){return i.registered=a},getRegistered:function(){return i.registered},deleteUser:function(){return i={}}}}])}.call(this),function(){angular.module("WissenSystem").factory("preguntasServ",["Restangular","App","$q","$cookies","$rootScope","AUTH_EVENTS","$http",function(a,b,c,d,e,f,g){var h,i,j,k;return j=[],i=!1,h=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,k=[],{setUser:function(a){var b;return b=a},getPreguntas:function(){var b;return b=c.defer(),i===!1?(k=h.open("wissenDB",2),k.onupgradeneeded=function(){var a,b;return a=k.result,b=a.createObjectStore("preguntas_king",{keyPath:"id",autoIncrement:!0}),b.put({descripcion:"Una pregunta para traducir",tipo_pregunta:"Test",duracion:20,categoria_id:1,added_by:1,preguntas_traducidas:[{id:1,enunciado:"<p>¿Cuánto es <b>dos</b> más dos?</p>",ayuda:"Este es un texto de ayuda",pregunta_id:4,idioma_id:1,idioma:"Español",puntos:5,added_by:1,opciones:[{id:1,definicion:"Primera opción, y necesito meter mucho texto para ver que tal se verá al ingresar más cosas.",is_correct:!1},{id:2,definicion:"Segunda opción",is_correct:!0},{id:3,definicion:"Tercera opción",is_correct:!1}]},{id:2,enunciado:"How much is 2+2?",ayuda:"",pregunta_id:4,idioma_id:2,idioma:"English",puntos:5,added_by:1,opciones:[{id:4,definicion:"Fist option",is_correct:!1},{id:5,definicion:"Second option",is_correct:!0},{id:6,definicion:"Third option",is_correct:!1}]}]},{descripcion:"Otra pregunta",tipo_pregunta:"Test",duracion:20,categoria_id:1,added_by:1,preguntas_traducidas:[{id:1,enunciado:"<p>¿Quién es más rápido?</p>",ayuda:"Debes pensar en tu familia",pregunta_id:5,idioma_id:1,idioma:"Español",puntos:5,added_by:1,opciones:[{id:7,definicion:"Mi mamá.",is_correct:!1},{id:8,definicion:"Mi papá",is_correct:!0},{id:9,definicion:"Mi hermano",is_correct:!1},{id:10,definicion:"Yo",is_correct:!1}]},{id:2,enunciado:"Who is the faster one in the family?",ayuda:"You have to think in your family",pregunta_id:5,idioma_id:2,idioma:"English",puntos:5,added_by:1,opciones:[{id:11,definicion:"My mother",is_correct:!1},{id:12,definicion:"My father",is_correct:!0},{id:13,definicion:"My brother",is_correct:!1},{id:14,definicion:"Me",is_correct:!1}]}]})},k.onsuccess=function(){var a,c,d;return a=k.result,d=a.transaction(["preguntas_king"],"readwrite"),c=d.objectStore("preguntas_king"),k=c.get(1),k.onerror=function(a){return console.log("Error")},k.onsuccess=function(a){return console.log("Powerrr",k.result),b.resolve([k.result])}}):(a.all("preguntas_king",{dato:"ujno",mas:"otro"}).getList().then(function(a){return console.log("Este es el pedido de preguntas",a),b.resolve(a)},function(a){return console.log("Falló pedido de preguntas",a),b.reject(a)}),j=[{id:5,descripcion:"Otra pregunta",tipo_pregunta:"Test",duracion:20,categoria_id:1,added_by:1,preguntas_traducidas:[{id:1,enunciado:"<p>¿Quién es más rápido?</p>",ayuda:"Debes pensar en tu familia",pregunta_id:5,idioma_id:1,idioma:"Español",puntos:5,added_by:1,opciones:[{id:7,definicion:"Mi mamá.",is_correct:!1},{id:8,definicion:"Mi papá",is_correct:!0},{id:9,definicion:"Mi hermano",is_correct:!1},{id:10,definicion:"Yo",is_correct:!1}]},{id:2,enunciado:"Who is the faster one in the family?",ayuda:"You have to think in your family",pregunta_id:5,idioma_id:2,idioma:"English",puntos:5,added_by:1,opciones:[{id:11,definicion:"My mother",is_correct:!1},{id:12,definicion:"My father",is_correct:!0},{id:13,definicion:"My brother",is_correct:!1},{id:14,definicion:"Me",is_correct:!1}]}]}],b.resolve(j)),b.promise},savePregunta:function(a){var b;return b=c.defer(),k=h.open("wissenDB",2),k.onsuccess=function(){var b,c,d;return b=k.result,d=b.transaction(["preguntas_king"],"readwrite"),c=d.objectStore("preguntas_king"),console.log("objectStore",c),c.put(a)},b.promise}}}])}.call(this),function(){var a=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};angular.module("WissenSystem").factory("MySocket",["App","$q","$rootScope","Perfil","$timeout","$cookies","$http","$state","SocketData","SocketClientes","$filter","webNotification",function(b,c,d,e,f,g,h,i,j,k,l,m){var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z;return v=localStorage.getItem("dominio").split(":"),u="",u=a.call(v[0],"http")>=0?v[1]:v[0],Z=io.connect(u+":8787"),Z.on("te_conectaste",function(a){var b,c;return j.conectado(a.datos),e.setResourceId(a.datos.resourceId),localStorage.getItem("registered_boolean")||(localStorage.registered_boolean=!1),c=localStorage.getItem("registered_boolean")?localStorage.getItem("registered_boolean"):!1,c="false"===c?!1:c,e.setRegistered(c),e.User().id?this.emit("loguear",{usuario:e.User(),registered:c,nombre_punto:localStorage.nombre_punto}):(b=null===localStorage.getItem("nombre_punto")?!1:localStorage.getItem("nombre_punto"),b?this.emit("reconocer:punto:registered",{nombre_punto:b,registered:c}):this.emit("reconocer:punto:registered",{nombre_punto:b,registered:c}))}),Z.on("logueado:yo",function(a){return 0===k.categorias_king.length&&a.categorias_king&&(k.categorias_king=a.categorias_king),j.config.info_evento=a.info_evento,e.setResourceId(a.yo.resourceId),d.$emit("logueado:yo:agregado_a_arrays",a.yo),j.logueado(a.yo)}),Z.on("logueado:alguien",function(a){return 0===k.categorias_king.length&&a.categorias_king&&(k.categorias_king=a.categorias_king),j.logueado(a.clt),d.$apply()}),Z.on("user:left",function(a){return j.desconectar(a.resourceId),d.$apply()}),Z.on("conectado:alguien",function(a){var b;return b=j.cliente(a.clt.resourceId),b?j.actualizar_clt(a.clt):(j.conectado(a.clt),d.$emit("clt_registrado",{clientes:k.clientes}))}),Z.on("take:clientes",function(a){var b,c,e,f;if(j.fix_clientes(a.clts),j.config.info_evento=a.info_evento,i.is("proyectando.grafico_barras"))for(k.participantes=[],f=k.clientes,c=0,e=f.length;e>c;c++)b=f[c],b.categsel>0&&k.participantes.push(b);return d.$apply()}),Z.on("take:usuarios",function(a){return k.usuarios_all=a.usuarios}),Z.on("reconocido:punto:registered",function(a){var b;return b=j.cliente(a.resourceId),b.nombre_punto=l("clearhtml")(a.nombre_punto),b.registered=a.registered,j.actualizar_clt(b),b.resourceId===e.getResourceId()?d.$emit("reconocido:mi_nombre_punto",{nombre_punto:a.nombre_punto}):void 0}),Z.on("deslogueado",function(a){return A()}),Z.on("got_your_qr",function(a){return a.seleccionar?(k.usuarios_all=a.usuarios,j.token_auth=a.from_token,console.log(a)):a.usuario_id?Restangular.one("qr/validar-usuario").customPUT({user_id:a.usuario_id,token_auth:a.from_token}).then(function(a){return a.token?(k.usuarios_all=[],g.put("xtoken",a.token),h.defaults.headers.common.Authorization="Bearer "+g.get("xtoken"),i.go("panel"),location.refresh()):void 0},function(a){return toastr.warning("No se pudo ingresar"),console.log("No se pudo ingresar ",a)}):void 0}),Z.on("correspondencia",function(a){return k.mensajes.push(a.mensaje),m.showNotification(a.mensaje.from.user_data.nombres+" "+a.mensaje.from.user_data.apellidos,{body:a.mensaje.texto,icon:"images/system/favicon-myvc.ico",autoClose:6e3},function(a,b){return a?console.log("Unable to show notification: "+a.message):setTimeout(function(){return console.log("Hiding notification...."),b()},6e3)}),d.$emit("llegaCorrespondencia")}),Z.on("a_establecer_fondo",function(a){return j.config.info_evento.img_name=a.img_name,d.$apply()}),Z.on("a_mostrar_solo_fondo",function(a){return i.transitionTo("proyectando")}),Z.on("a_cambiar_teleprompter",function(a){return j.config.info_evento.msg_teleprompter=a.msg_teleprompter,i.transitionTo("proyectando"),d.$apply()}),Z.on("sesion_closed",function(a){return a.clt.resourceId===e.getResourceId()?(unregister(),d.lastState=null,d.lastStateParam=null,d.permiso_de_salir=!0,e.deleteUser(),i.transitionTo("login"),g.remove("xtoken"),delete h.defaults.headers.common.Authorization):void 0}),Z.on("cerrar:tu_sesion",function(a){return d.$emit("me_desloguearon")}),Z.on("me_registraron",function(a){var b;return localStorage.registered_boolean=!0,b=j.cliente(e.getResourceId()),b.registered=!0,j.actualizar_clt(b),d.$apply()}),Z.on("me_desregistraron",function(a){var b;return localStorage.registered_boolean=!1,b=j.cliente(e.getResourceId()),b.registered=!1,j.actualizar_clt(b),d.$apply()}),Z.on("nombre_punto_cambiado",function(a){var b;return b=j.cliente(a.resourceId),b.nombre_punto=l("clearhtml")(a.nombre),d.$emit("nombre_punto_cambiado",{nombre:b.nombre_punto,resourceId:a.resourceId})}),Z.on("take_usuarios",function(a){return k.usuarios_all=a.usuarios}),Z.on("change_the_categ_selected",function(a){var b;return b=j.cliente(e.getResourceId()),j.cambiar_mi_categsel(a.categsel,a.categsel_nombre,a.categsel_abrev),d.$emit("categ_selected_change",a.categsel)}),Z.on("change_a_categ_selected",function(a){var b;return b=j.cliente(a.resourceId),b.categsel=a.categsel,b.categsel_id=a.categsel,b.categsel_nombre=a.categsel_nombre,b.categsel_abrev=a.categsel_abrev,j.actualizar_clt(b)}),Z.on("a_categ_selected_change",function(a){var b;return b=j.cliente(a.resourceId),b.categsel=a.categsel,b.categsel_id=a.categsel,b.categsel_nombre=a.categsel_nombre,b.categsel_abrev=a.categsel_abrev,j.actualizar_clt(b)}),Z.on("empezar_examen",function(a){return d.$emit("empezar_examen")}),Z.on("sc_show_participantes",function(a){var b;return b=l("filter")(e.User().roles,{name:"Pantalla"}),b&&b.length>0?(A(),i.is("proyectando.participantes")?d.$apply():i.go("proyectando.participantes")):void 0}),Z.on("sc_show_barras",function(a){var b,c,e,f;for(A(),k.participantes=[],f=k.clientes,c=0,e=f.length;e>c;c++)b=f[c],b.categsel>0&&k.participantes.push(b);return i.go("proyectando.grafico_barras"),d.$apply()}),Z.on("sc_show_question",function(a){return j.config.pregunta=a.pregunta,j.config.no_question=a.no_question,j.config.reveal_answer=!1,i.go("proyectando.question"),d.$apply()}),Z.on("sc_show_logo_entidad_partici",function(a){return j.config.show_logo_entidad_partici=a.valor}),Z.on("sc_show_puntaje_particip",function(a){return j.config.cliente_to_show=a.cliente,i.go("proyectando.puntaje_particip"),d.$apply()}),Z.on("sc_show_puntaje_examen",function(a){return j.config.puntaje_to_show=a.examen,i.go("proyectando.puntaje_particip"),d.$apply()}),Z.on("sc_answered",function(a){var b;return A(),a.resourceId!==e.getResourceId()?"correct"===a.cliente.answered?(b=new Audio("/sounds/Pin.wav"),b.play()):(b=new Audio("/sounds/Error.wav"),b.play()):void 0}),Z.on("next_question",function(a){return j.set_waiting(),d.$apply(),d.$emit("next_question")}),Z.on("goto_question_no",function(a){return j.set_waiting(),d.$emit("goto_question_no",a.numero)}),Z.on("set_free_till_question",function(a){return j.config.info_evento.free_till_question=a.free_till_question,d.$emit("set_free_till_question",a.free_till_question)}),E=function(a,b){return Z.on(a,function(){var a;return a=arguments,d.$apply(function(){return b.apply(Z,a)})})},w=function(a,b,c){return Z.emit(a,b,function(){var a;return a=arguments,d.$apply(function(){return c?c.apply(Z,a):void 0})})},J=function(a,b){return b?this.emit("registrar",{registrar_boolean:a}):this.emit("registrar",{cliente:b,registrar_boolean:a})},s=function(){var a;return a=null===localStorage.getItem("registered_boolean")?!1:localStorage.getItem("registered_boolean"),a="false"===a?!1:!0,this.emit("desloguear",{registered:a,nombre_punto:localStorage.nombre_punto})},r=function(a){var b;return b=null===localStorage.getItem("nombre_punto")?!1:localStorage.getItem("nombre_punto"),a?this.emit("conectar",{qr:a,nombre_punto:b}):this.emit("conectar",{nombre_punto:b})},C=function(a,b){var c;return b?(c={qr:a,usuario_id:b,from_token:g.get("xtoken")},this.emit("got_qr",c)):this.emit("got_qr",{qr:a,from_token:g.get("xtoken")})},F=function(a,b){return a?this.emit("let_him_enter",{usuario_id:a,from_token:g.get("xtoken"),resourceId:b}):void 0},A=function(){return Z.connected?Z.emit("get_clts"):(k.cliente=[],k.registrados_logueados=[],k.registrados_no_logged=[],k.sin_registrar=[])},X=function(a){return this.emit("correspondencia",{mensaje:a})},z=function(a){return this.emit("establecer_fondo",{img_name:a})},I=function(a){return this.emit("mostrar_solo_fondo",{img_name:a})},n=function(a){return this.emit("cambiar_teleprompter",{msg_teleprompter:a})},Y=function(a,b){return this.emit("correspondencia",{mensaje:a,to:b.resourceId
})},o=function(a){return this.emit("cerrar_sesion_a",{resourceId:a})},K=function(a){return this.emit("registrar_a",{resourceId:a})},t=function(a){return this.emit("desregistrar_a",{resourceId:a})},D=function(a,b){return b=l("clearhtml")(b),this.emit("guardar:nombre_punto",{resourceId:a,nombre:b})},B=function(){var a;return 0===k.usuarios_all.length?(a=g.get("xtoken"),this.emit("get_usuarios",{from_token:a})):void 0},p=function(a,b){var c,d;return d=j.cliente(a),d.categsel=b,c=l("categSelectedDeUsuario")(d.user_data.inscripciones,k.categorias_king,e.User().idioma_main_id,d.categsel),c.length>0&&(d.categsel_nombre=c[0].nombre,d.categsel_abrev=c[0].abrev,d.categsel_id=c[0].categoria_id),j.actualizar_clt(d,b),this.emit("change_a_categ_selected",{resourceId:a,categsel:b,categsel_nombre:d.categsel_nombre,categsel_abrev:d.categsel_abrev})},q=function(a,b,c){return this.emit("warn_my_categ_selected",{categsel:a,categsel_nombre:b,categsel_abrev:c})},x=function(){var a;return this.emit("empezar_examen"),a=new Audio("/sounds/Sirviendo.wav"),a.play()},y=function(a){return this.emit("empezar_examen_cliente",{resourceId:a})},S=function(){return this.emit("sc_show_participantes")},Q=function(){return this.emit("sc_show_barras")},V=function(a,b){return this.emit("sc_show_question",{no_question:a,pregunta:b})},W=function(a){return this.emit("selec_opc_in_question",{opcion:a})},P=function(){return this.emit("sc_reveal_answer")},R=function(a){return this.emit("sc_show_logo_entidad_partici",{valor:a})},U=function(a){var b;return(a.puesto=1)?(f(function(){return this.emit("sc_show_puntaje_particip",{cliente:a})},1800),b=new Audio("/sounds/Siguiente.wav"),b.play()):this.emit("sc_show_puntaje_particip",{cliente:a})},T=function(a){var b;return 1===a.puesto?(f(function(b){return function(){return b.emit("sc_show_puntaje_examen",{examen:a})}}(this),1800),b=new Audio("sounds/Primer_lugar.wav"),b.play()):this.emit("sc_show_puntaje_examen",{examen:a})},L=function(a,b){var c;return c=e.getResourceId(),this.emit("sc_answered",{resourceId:c,valor:a,tiempo:b})},N=function(){var a;return j.set_waiting(),this.emit("next_question"),a=new Audio("/sounds/Siguiente.wav"),a.play()},O=function(a){var b;return b=j.cliente(a.resourceId),b.answered="waiting",this.emit("next_question",{resourceId:a.resourceId})},M=function(a,b){var c;return c=j.cliente(a.resourceId),c.answered="waiting",this.emit("goto_question_no_clt",{resourceId:a.resourceId,numero:b})},G=function(a){return this.emit("liberar_hasta_pregunta",{numero:a}),j.config.info_evento.preg_actual=a},H={usuarios_all:this.usuarios_all,conectar:r,readyState:function(){return Z.connected},on:E,emit:w,registrar:J,desloguear:s,got_qr:C,send_email:X,establecer_fondo:z,mostrar_solo_fondo:I,cambiar_teleprompter:n,send_email_to:Y,get_clts:A,cerrar_sesion_a:o,registrar_a:K,desregistrar_a:t,guardar_nombre_punto:D,get_usuarios:B,let_him_enter:F,change_a_categ_selected:p,change_my_categ_selected:q,empezar_examen:x,empezar_examen_cliente:y,sc_show_participantes:S,sc_show_barras:Q,sc_show_question:V,selec_opc_in_question:W,sc_reveal_answer:P,sc_show_logo_entidad_partici:R,sc_show_puntaje_particip:U,sc_show_puntaje_examen:T,sc_answered:L,sc_next_question:N,sc_next_question_cliente:O,sc_goto_question_no_clt:M,liberar_hasta_pregunta:G}}])}.call(this),function(){angular.module("WissenSystem").factory("SocketData",["SocketClientes","$rootScope","$filter","$q","Perfil",function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r;return this.cliente_to_show=[],this.clt_selected={},r="",j={pregunta:{},reveal_answer:!1,show_logo_entidad_partici:!1,info_evento:{examen_iniciado:!1,preg_actual:0,free_till_question:-1,img_name:""}},k=function(b){return function(b){return a.clientes=c("filter")(a.clientes,{resourceId:"!"+b}),a.sin_registrar=c("filter")(a.sin_registrar,{resourceId:"!"+b}),a.registrados_logueados=c("filter")(a.registrados_logueados,{resourceId:"!"+b}),a.registrados_no_logged=c("filter")(a.registrados_no_logged,{resourceId:"!"+b})}}(this),h=function(b){return function(b){var c,d,e,f,g;for(d=!1,g=a.clientes,e=0,f=g.length;f>e;e++)if(c=g[e],c.resourceId===b)return d=c;return d}}(this),n=function(b){return function(b){var c,e,f,g,h;for(e=d.defer(),h=a.clientes,f=0,g=h.length;g>f;f++)c=h[f],c.resourceId===b&&e.resolve(c);return e.promise}}(this),g=function(a){return function(a,b,c){var d;return d=h(e.getResourceId()),d.categsel=a,d.categsel_id=a,d.categsel_nombre=b,d.categsel_abrev=c,f(d)}}(this),f=function(b){return function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;for(m=a.clientes,e=d=0,i=m.length;i>d;e=++d)c=m[e],c.resourceId===b.resourceId&&a.clientes.splice(e,1,b);if(b.registered)if(b.logged)for(n=a.registrados_logueados,e=f=0,j=n.length;j>f;e=++f)c=n[e],c.resourceId===b.resourceId&&a.registrados_logueados.splice(e,1,b);else for(o=a.registrados_no_logged,e=g=0,k=o.length;k>g;e=++g)c=o[e],c.resourceId===b.resourceId&&a.registrados_no_logged.splice(e,1,b);else for(p=a.sin_registrar,e=h=0,l=p.length;l>h;e=++h)c=p[e],c.resourceId===b.resourceId&&a.sin_registrar.splice(e,1,b);return!1}}(this),m=function(b){return function(b){var d,f,g,h,i,j,k;for(g=0,i=b.length;i>g;g++)f=b[g],d=c("categSelectedDeUsuario")(f.user_data.inscripciones,a.categorias_king,e.User().idioma_main_id,f.categsel),d.length>0&&(f.categsel_nombre=d[0].nombre,f.categsel_abrev=d[0].abrev,f.categsel_id=d[0].categoria_id);for(a.clientes=b,a.registrados_logueados.splice(0,a.registrados_logueados.length),a.registrados_no_logged.splice(0,a.registrados_no_logged.length),a.sin_registrar.splice(0,a.sin_registrar.length),k=a.clientes,h=0,j=k.length;j>h;h++)f=k[h],f.registered?f.logged?a.registrados_logueados.push(f):a.registrados_no_logged.push(f):a.sin_registrar.push(f);return!0}}(this),i=function(b){return function(b){var c,d,e,f,g,h,i;for(c=!1,f=0,i=a.clientes,g=e=0,h=i.length;h>e;g=++e)d=i[g],d.resourceId===b.resourceId&&(c=!0,f=g);return c||(a.clientes.push(b),b.registered?a.registrados_no_logged.push(b):a.sin_registrar.push(b)),!0}}(this),o=function(b){return function(b){var d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(d=c("categSelectedDeUsuario")(b.user_data.inscripciones,a.categorias_king,e.User().idioma_main_id,b.categsel),d.length>0&&(b.categsel_nombre=d[0].nombre,b.categsel_abrev=d[0].abrev,b.categsel_id=d[0].categoria_id),b.registered){for(r=a.registrados_no_logged,j=h=0,n=r.length;n>h;j=++h)f=r[j],f.resourceId===b.resourceId&&a.registrados_no_logged.splice(j,1);for(s=a.registrados_logueados,j=k=0,o=s.length;o>k;j=++k)f=s[j],f.resourceId===b.resourceId&&a.registrados_logueados.splice(j,1,b)}else{for(g=!1,t=a.sin_registrar,j=l=0,p=t.length;p>l;j=++l)f=t[j],f.resourceId===b.resourceId&&(a.sin_registrar.splice(j,1,b),g=!0);g||a.sin_registrar.push(b)}for(g=!1,i=0,u=a.clientes,j=m=0,q=u.length;q>m;j=++m)f=u[j],f.resourceId===b.resourceId&&(g=!0,i=j);return g&&a.clientes.splice(i,1,b),!0}}(this),l=function(b){return function(b){var c,d,e,f,g,h,i;for(g=!1,e=0,i=a.clientes,f=d=0,h=i.length;h>d;f=++d)c=i[f],c.resourceId===b.resourceId&&c.logged===b.logged&&(g=!0,e=f);return g?(a.clientes.splice(e,1,b),b.registered?b.logged?(a.registrados_logueados.push(b),a.registrados_no_logged.splice(e,1)):(a.registrados_no_logged.push(b),a.registrados_logueados.splice(e,1)):a.sin_registrar.splice(e,1,b)):(a.clientes.push(b),b.registered?a.sin_registrar.push(b):a.sin_registrar.splice(e,1,b)),!0}}(this),q=function(b){return function(){var b,c,d,e,f,g,h,i,j,k,l;for(j=a.clientes,d=c=0,g=j.length;g>c;d=++c)b=j[d],b.answered="waiting";for(k=a.registrados_logueados,d=e=0,h=k.length;h>e;d=++e)b=k[d],b.answered="waiting";for(l=a.sin_registrar,d=f=0,i=l.length;i>f;d=++f)b=l[d],b.answered="waiting";return!1}}(this),p={desconectar:k,token_auth:r,cliente:h,get_cliente:n,cambiar_mi_categsel:g,fix_clientes:m,conectado:i,logueado:o,deslogueado:l,actualizar_clt:f,config:j,set_waiting:q,clt_selected:this.clt_selected}}]).factory("SocketClientes",["$rootScope",function(a){return this.clientes=[],this.registrados_logueados=[],this.registrados_no_logged=[],this.sin_registrar=[],this.usuarios_all=[],this.mensajes=[],this.categorias_king=[],this.participantes=[],{clientes:this.clientes,registrados_logueados:this.registrados_logueados,registrados_no_logged:this.registrados_no_logged,sin_registrar:this.sin_registrar,usuarios_all:this.usuarios_all,mensajes:this.mensajes,categorias_king:this.categorias_king,participantes:this.participantes}}])}.call(this),function(){angular.module("WissenSystem").factory("AuthService",["Restangular","$state","$http","$cookies","Perfil","$rootScope","AUTH_EVENTS","$q","$filter","toastr","MySocket",function(a,b,c,d,e,f,g,h,i,j,k){var l;return l={},l.verificando=!1,l.promesa_de_verificacion={},l.verificar=function(){var a;return l.verificando?l.promesa_de_verificacion:(a=h.defer(),e.User().id?a.resolve(e.User()):d.get("xtoken")?void 0!==d.get("xtoken")&&"undefined"!==d.get("xtoken")&&"[object Object]"!==d.get("xtoken")?l.login_from_token().then(function(b){return e.setUser(b),a.resolve(b)},function(b){return console.log("No se logueó from token"),a.reject(b)}):(console.log("Token mal estructurado: ",d.get("xtoken")),l.borrarToken(),f.$broadcast(g.notAuthenticated),a.reject("Token mal estructurado.")):(console.log("No hay cookie token."),a.reject("No hay cookie token."),b.go("login"),f.$broadcast(g.notAuthenticated)),l.promesa_de_verificacion=a.promise,l.promesa_de_verificacion)},l.verificar_acceso=function(){var a,c;return e.User().id||b.go("login"),c=b.current,c.data.needed_permissions?(a=c.data.needed_permissions,l.isAuthorized(a)?void 0:(console.log("No tiene permisos, y... "),f.lastState=c.name,l.isAuthenticated()?(f.$broadcast(g.notAuthorized),console.log("...está Autenticado.")):(console.log("...NO está Autenticado."),b.transitionTo("login")))):!0},l.login_credentials=function(i){var m;return m=h.defer(),l.borrarToken(),a.one("login/login").customPOST(i).then(function(a){var b;return a.token?(d.put("xtoken",a.token),c.defaults.headers.common.Authorization="Bearer "+d.get("xtoken"),e.setUser(a),b=null===localStorage.getItem("registered_boolean")?!1:localStorage.getItem("registered_boolean"),b="false"===b?!1:!0,k.emit("loguear",{usuario:a,registered:b,nombre_punto:localStorage.nombre_punto}),f.$broadcast(g.loginSuccess),m.resolve(a)):(console.log("No se trajo un token en el login.",a),f.$broadcast(g.loginFailed),m.reject("Error en login"))},function(a){return console.log("No se pudo loguear. ",a,b),a.data&&a.data.error&&("Token expirado"===a.data.error||"token_expired"===a.error?(j.warning("La sesión ha expirado"),"login"!==b.current.name&&b.go("login")):f.$broadcast(g.loginFailed)),m.reject("Error en login")}),m.promise},l.login_from_token=function(){var b,i;return b=h.defer(),e.User().id?b.resolve(e.User()):(c.defaults.headers.common.Authorization="Bearer "+d.get("xtoken"),i=a.one("login/verificar").post().then(function(a){var c;return c=null===localStorage.getItem("registered_boolean")?!1:localStorage.getItem("registered_boolean"),c="false"===c?!1:!0,k.emit("loguear",{usuario:a,registered:c,nombre_punto:localStorage.nombre_punto}),f.$broadcast(g.loginSuccess),e.setUser(a),b.resolve(a)},function(a){return console.log("No se pudo loguear con token. ",a),b.reject("Error en login con token."),f.$broadcast(g.loginFailed)})),b.promise},l.logout=function(a){return f.lastState=null,f.lastStateParam=null,l.borrarToken(),e.deleteUser(),b.transitionTo("login")},l.borrarToken=function(){return d.remove("xtoken"),delete c.defaults.headers.common.Authorization},l.isAuthenticated=function(){return!!e.User().id},l.isAuthorized=function(a){var b,c;return c=e.User(),c.is_superuser?!0:(angular.isArray(a)||(a=[a]),angular.isArray(c.perms)?(b=[],_.each(a,function(a){return-1!==c.perms.indexOf(a)?b.push(a):void 0}),l.isAuthenticated()&&b.length>0):a.length>0?!1:!0)},l.hasRoleOrPerm=function(a,b){var c;if(!angular.isArray(a)){if(!a)return!1;a=[a]}return c=[],_.each(a,function(a){var b;return b=[],b=i("filter")(e.User().roles,{name:a}),b&&b.length>0?c.push(a):void 0}),c.length>0},l}])}.call(this),angular.module("WissenSystem").run(["$templateCache",function(a){"use strict";a.put("views/categorias/categorias.tpl.html",'<div> <md-content ng-if="idiomaPreg.selected" class="md-padding"> <md-input-container ng-if="!evento_actual.es_idioma_unico" layout="row" layout-align="start center"> <label>Idioma: </label> <md-select ng-model="idiomaPreg.selected"> <md-option placeholder="Idioma" ng-repeat="idioma in evento_actual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> <md-tabs class="md-dynamic-height md-border-bottom"> <md-tab label="{{\'CATEGORIAS_TITLE\'| translate}}"> <div style="padding: 25px"> <categorias-dir idiomapreg="idiomaPreg" eventoactual="evento_actual" categoriasking="categorias_king" nivelesking="niveles_king" disciplinasking="disciplinas_king"></categorias-dir> </div> </md-tab> <md-tab label="{{\'NIVELES_TITLE\'| translate}}"> <div style="padding: 25px"> <niveles-dir idiomapreg="idiomaPreg" eventoactual="evento_actual" categoriasking="categorias_king" nivelesking="niveles_king" disciplinasking="disciplinas_king"></niveles-dir> </div> </md-tab> <md-tab label="{{\'DISCIPLINA_TITLE\'| translate}}"> <div style="padding: 25px"> <disciplinas-dir idiomapreg="idiomaPreg" eventoactual="evento_actual" categoriasking="categorias_king" nivelesking="niveles_king" disciplinasking="disciplinas_king"></disciplinas-dir> </div> </md-tab> </md-tabs> </md-content> </div>'),a.put("views/categorias/categoriasDir.tpl.html",'<div ng-repeat="categoriaking in categoriasking"> <md-whiteframe layout ng-repeat="categoria in categoriaking.categorias_traducidas | porIdioma:idiomapreg.selected" ng-hide="categoriaking.editando" style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="10">{{$parent.$index+1}}.</span><span flex="90">{{categoria.nombre}}</span> <div layout="row" class="btn-container-edit"> <md-button aria-label="Editar" ng-click="editarCategoria(categoriaking)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar categoria</md-tooltip> </md-button> <md-button aria-label="Eliminar" ng-click="eliminarCategoria(categoriaking)" class="md-fab md-warn md-mini"> <md-icon class="fa fa-trash"></md-icon> <md-tooltip>Eliminar categoria</md-tooltip> </md-button> </div> </md-whiteframe> <div ng-show="categoriaking.editando" style="margin-top: 20px"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div ng-if="!evento_actual.es_idioma_unico" layout style="height: 40px" class="panel-heading"><span> Editar categoria en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 4px; margin-top: 2px; margin-bottom: 0"> <md-select multiple placeholder="Idioma" ng-model="categoriaking.idiomasEdit" ng-init="categoriaking.idiomasEdit=[eventoactual.idioma_principal_id]"> <md-option ng-repeat="idioma in eventoactual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> </div> <div class="panel-body"> <form name="frm" role="form" class="form-horizontal"> <div layout layout-margin layout-wrap layout-padding class="margin0 padding0"> <div flex="40" flex-gt-lg="20" flex-sm="100" class="margin0"> <label>Nivel:</label> <md-select placeholder="Nivel" ng-model="categoriaking.nivel_id" class="margin0"> <md-option ng-repeat="nivelking in nivelesking" value="{{nivelking.id}}">{{nivelking.niveles_traducidos[0].nombre}}</md-option> </md-select> </div> <div flex="40" flex-gt-lg="20" flex-sm="100" class="margin0"> <label>Disciplina:</label> <md-select placeholder="Disciplina" ng-model="categoriaking.disciplina_id" class="margin0"> <md-option ng-repeat="disciplinaking in disciplinasking" value="{{disciplinaking.id}}">{{disciplinaking.nombre}}</md-option> </md-select> </div> </div> <div ng-repeat="categoria in categoriaking.categorias_traducidas | porIdiomasEdit:categoriaking.idiomasEdit"><a ng-if="!evento_actual.es_idioma_unico" md-ink-ripple class="btn-tag btn-tag-info margintb0">Categoria en {{categoria.idioma}}</a> <div layout layout-margin layout-wrap layout-padding style="padding-left: 50px" class="margintb0"> <div flex="40" flex-lg="20" flex-sm="30" class="margintb0"> <label class="margintb0">Nombre:</label> <input type="text" ng-model="categoria.nombre" class="form-control margintb0"> </div> <div flex="40" flex-lg="20" flex-sm="30" class="margintb0"> <label class="margintb0">Abreviatura:</label> <input type="text" ng-model="categoria.abrev" class="form-control margintb0"> </div> <div ng-if="!evento_actual.es_idioma_unico" flex="40" flex-lg="20" flex-sm="30" class="margintb0"> <md-checkbox ng-model="categoria.traducido" ng-false-value="0" ng-true-value="1" aria-label="¿Traducido?">¿Traducido?</md-checkbox> </div> </div> </div> <div class="clearfix right"> <md-button ng-click="cerrar_edicion(categoriaking)" class="md-default">Cerrar</md-button> <md-button ng-click="guardando(categoriaking)" class="md-primary">Aplicar</md-button> <md-button type="submit" ng-click="finalizar_edicion(categoriaking)" class="md-default">Finalizar</md-button> </div> </form> </div> </div> </div> </div> <md-button type="button" ng-disabled="creando" ng-click="crear_categoria()" class="md-primary">Crear categoria</md-button>'),a.put("views/categorias/disciplinasDir.tpl.html",'<div ng-repeat="disciplinaking in disciplinasking"> <md-whiteframe layout ng-repeat="disciplina in disciplinaking.disciplinas_traducidas | porIdioma:idiomapreg.selected" ng-hide="disciplinaking.editando" style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="10">{{$parent.$index+1}}.</span><span flex="90">{{disciplina.nombre}}</span> <div layout="row" class="btn-container-edit"> <md-button aria-label="Editar" ng-click="editarDisciplina(disciplinaking)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar disciplina</md-tooltip> </md-button> <md-button aria-label="Eliminar" ng-click="eliminarDisciplina(disciplinaking)" class="md-fab md-warn md-mini"> <md-icon class="fa fa-trash"></md-icon> <md-tooltip>Eliminar disciplina</md-tooltip> </md-button> </div> </md-whiteframe> <div ng-show="disciplinaking.editando" style="margin-top: 20px"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div ng-show="!eventoactual.es_idioma_unico" layout style="height: 40px" class="panel-heading"> <span>Editar disciplina en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 4px; margin-top: 2px; margin-bottom: 0"> <md-select multiple placeholder="Idioma" ng-model="disciplinaking.idiomasEdit" ng-init="disciplinaking.idiomasEdit=[eventoactual.idioma_principal_id]"> <md-option ng-repeat="idioma in eventoactual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> </div> <div class="panel-body"> <form name="frm" role="form" class="form-horizontal"> <div ng-repeat="disciplina in disciplinaking.disciplinas_traducidas | porIdiomasEdit:disciplinaking.idiomasEdit"><a ng-if="!eventoactual.es_idioma_unico" md-ink-ripple class="btn-tag btn-tag-info">Disciplina en {{disciplina.idioma}}</a> <div style="padding-left: 50px" class="row"> <div class="col-lg-4 col-sm-5 col-xs-12"> <div class="form-group"> <label>Nombre disciplina:</label> <input type="text" ng-model="disciplina.nombre" class="form-control"> </div> </div> <div class="col-lg-4 col-sm-5 col-xs-12"> <div class="form-group"> <label>Descripción:</label> <input type="text" ng-model="disciplina.descripcion" class="form-control"> </div> </div> <div ng-if="!eventoactual.es_idioma_unico" class="col-lg-2 col-sm-2 col-xs-12"> <div class="form-group"> <md-checkbox ng-model="disciplina.traducido" ng-true-value="1" ng-false-value="0" aria-label="¿Traducido?">¿Traducido?</md-checkbox> </div> </div> </div> </div> <div class="clearfix right"> <md-button ng-click="cerrar_edicion(disciplinaking)" class="md-default">Cerrar</md-button> <md-button type="submit" ng-click="guardando(disciplinaking)" class="md-primary">Aplicar</md-button> <md-button ng-click="finalizar_edicion(disciplinaking)" class="md-default">Finalizar</md-button> </div> </form> </div> </div> </div> </div> <md-button type="button" ng-disabled="creando" ng-click="crear_disciplina()" class="md-primary">Crear disciplina</md-button>'),a.put("views/categorias/nivelesDir.tpl.html",'<div ng-repeat="nivelking in nivelesking"> <md-whiteframe layout ng-repeat="nivel in nivelking.niveles_traducidos | porIdioma:idiomapreg.selected" ng-hide="nivelking.editando" style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="10">{{$parent.$index+1}}.</span><span flex="90">{{nivel.nombre}}</span> <div layout="row" class="btn-container-edit"> <md-button aria-label="Editar" ng-click="editarNivel(nivelking)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar nivel</md-tooltip> </md-button> <md-button aria-label="Eliminar" ng-click="eliminarNivel(nivelking)" class="md-fab md-warn md-mini"> <md-icon class="fa fa-trash"></md-icon> <md-tooltip>Eliminar nivel</md-tooltip> </md-button> </div> </md-whiteframe> <div ng-show="nivelking.editando" style="margin-top: 20px"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div ng-if="!evento_actual.es_idioma_unico" layout style="height: 40px" class="panel-heading"><span> Editar nivel en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 4px; margin-top: 2px; margin-bottom: 0"> <md-select multiple placeholder="Idioma" ng-model="nivelking.idiomasEdit" ng-init="nivelking.idiomasEdit=[eventoactual.idioma_principal_id]"> <md-option ng-repeat="idioma in eventoactual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> </div> <div class="panel-body"> <form name="frm" role="form" class="form-horizontal"> <div ng-repeat="nivel in nivelking.niveles_traducidos | porIdiomasEdit:nivelking.idiomasEdit"><a ng-if="!evento_actual.es_idioma_unico" md-ink-ripple class="btn-tag btn-tag-info">Nivel en {{nivel.idioma}}</a> <div style="padding-left: 50px" class="row"> <div class="col-lg-4 col-sm-5 col-xs-12"> <div class="form-group"> <label>Nombre nivel:</label> <input type="text" ng-model="nivel.nombre" class="form-control"> </div> </div> <div class="col-lg-4 col-sm-5 col-xs-12"> <div class="form-group"> <label>Descripción:</label> <input type="text" ng-model="nivel.descripcion" class="form-control"> </div> </div> <div ng-if="!evento_actual.es_idioma_unico" class="col-lg-2 col-sm-2 col-xs-12"> <div class="form-group"> <md-checkbox ng-model="nivel.traducido" ng-false-value="0" ng-true-value="1" aria-label="¿Traducido?">¿Traducido?</md-checkbox> </div> </div> </div> </div> <div class="clearfix right"> <md-button ng-click="cerrar_edicion(nivelking)" class="md-default">Cerrar</md-button> <md-button type="submit" ng-click="guardando(nivelking)" class="md-primary">Aplicar</md-button> <md-button ng-click="finalizar_edicion(nivelking)" class="md-default">Finalizar</md-button> </div> </form> </div> </div> </div> </div> <md-button type="button" ng-disabled="creando" ng-click="crear_nivel()" class="md-primary">Crear nivel</md-button>'),a.put("views/categorias/removeCategoria.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Categoría: </h4> <div style="text-overflow: ellipsis">{{elemento.categorias_traducidas[0].nombre }} - {{elemento.categorias_traducidas[0].abrev}}</div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/categorias/removeDisciplina.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Disciplina: </h4> <div style="text-overflow: ellipsis">{{elemento.disciplinas_traducidas[0].nombre }} - {{elemento.disciplinas_traducidas[0].descripcion}}</div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/categorias/removeNivel.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Nivel: </h4> <div style="text-overflow: ellipsis">{{elemento.niveles_traducidos[0].nombre }} - {{elemento.niveles_traducidos[0].descripcion}}</div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/control/control.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20 mr--15-sm ml--15-sm"> <div class="panel-heading"> {{ \'CLIENTES_CONECTADOS_TL\' | translate }} ({{ SocketClientes.clientes.length }}) <md-menu> <button aria-label="Abrir menú" md-ink-ripple="" ng-click="openMenu($mdOpenMenu, $event)" class="btn btn-pink btn-xs right">{{ \'CONEXIÓN_TL\' | translate }} <div class="fa fa-chevron-right"></div> <div class="md-ripple-container"></div> </button> <md-menu-content width="4"> <md-menu-item> <md-button ng-click="crearservidor($event)">{{ \'ABRIR_SERVIDOR_TL\' | translate }} </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="CerrarServidor($event)">{{ \'CERRAR_SERVIDOR_TL\' | translate }} </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="Conectar($event)">{{ \'CONECTAR_TL\' | translate }} </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="qrScanear()">{{ \'QR_SCANNER_TL\' | translate }} </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div class="panel-body"> <div ng-class="{\'cursor-unselect\':deseleccionar}" style="position: relative" class="clt-pc-container"> <div class="options-clts btn-group"> <button type="button" ng-model="deseleccionar" uib-btn-checkbox class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-eye-slash"></icon> <md-tooltip>{{ \'DESELECCIONAR_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="deseleccionarTodo()" class="btn btn-default btn-xs deseleccionador">A <icon class="fa fa-eye-slash"></icon> <md-tooltip>{{ \'DESELECCIONAR_TODO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="seleccionarTodo()" class="btn btn-default btn-xs deseleccionador">A <icon class="fa fa-eye"></icon> <md-tooltip>{{ \'SELECCIONAR_TODO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="empezarExamenCltsSeleccionados()" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-play"></icon> <md-tooltip>{{ \'EMPEZAR_EXAMEN_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="nextQuestionCltsSeleccionados()" class="btn btn-danger btn-xs deseleccionador"> <icon class="fa fa-arrow-right"></icon> <md-tooltip>{{ \'SIGUIENTE_PREGUNTA_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="actualizarClts()" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-refresh"></icon> <md-tooltip>{{ \'ACTUALIZAR_TL\' | translate }} </md-tooltip> </button> </div> <h4>{{ \'REGISTRADOS_CONECTADOS_TL\' | translate }}: {{SocketClientes.registrados_logueados.length}} </h4> <ul layout="row" layout-wrap> <li ng-repeat="cliente in registrados_logueados()" layout="row" ng-click="clickedClt($event, cliente)" ng-dblclick="showSidenavEditUsu(cliente)" ng-mouseover="sobreClt($event, cliente)" ng-class="{\'seleccionado\': cliente.seleccionado, \'cursor-unselect\':deseleccionar }" class="md-whiteframe-1dp clt-pc unselectable"> <header flex="30"><img ng-src="{{imagesPath + cliente.user_data.imagen_nombre}}" alt="{{cliente.user_data.username}}" style="" class="img-perfil nodrag"><img ng-src="{{ imagesPath + cliente.user_data.entidad.logo}}" alt="{{cliente.user_data.username}}" class="img-entidad nodrag"> <md-tooltip>{{cliente.user_data.entidad.nombre}}</md-tooltip> </header> <div flex="70" ng-class="{\'incorrect\': cliente.answered==\'incorrect\', \'correct\': cliente.answered==\'correct\' }" class="info"> <h5 style="margin-top: 2px" class="name text-center nombresellipsis">{{cliente.user_data.nombres}} {{cliente.user_data.apellidos}} <md-tooltip>{{cliente.user_data.username}}</md-tooltip> </h5> <div ng-show="cliente.user_data.entidad.alias" class="alias-enti">{{cliente.user_data.entidad.alias}}</div> <h6 style="margin: 0px">{{ cliente.nombre_punto }}</h6> </div> <div class="opts-clt btn-group"> <div uib-dropdown dropdown-append-to-body class="btn-group"> <button type="button" ng-click="cerrar_sesion_a(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-sign-out"></icon> <md-tooltip>{{ \'CERRAR_SESION_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="showSidenavEditUsu(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-pencil"></icon> <md-tooltip>{{ \'EDITAR_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="desregistrar_a(cliente)" class="btn btn-warning btn-xs deseleccionador"> <icon class="fa fa-registered"></icon> <md-tooltip>Desregistrar</md-tooltip> </button><a aria-label="Abrir menú" uib-dropdown-toggle class="btn btn-pink btn-xs right"><span>{{cliente.categsel_abrev}}</span> <div class="fa fa-chevron-right"></div></a> <ul uib-dropdown-menu aria-labelledby="simple-dropdown" class="dropdown-menu"> <li ng-repeat="categoriatrad in categorias_traducidas"><a ng-click="cambiarCategSel(cliente, categoriatrad)">{{ categoriatrad.nombre }}</a></li> <li class="divider"></li> <li><a ng-click="empezarExamenCliente(cliente)">{{ \'EMPEZAR_EXAMEN_TL\' | translate }} </a></li> <li><a ng-click="nextQuestionCliente(cliente)">{{ \'SIGUIENTE_PREGUNTA_TL\' | translate }} </a></li> </ul> </div> </div> </li> </ul> <div class="disponibles-title"> <h4>{{ \'DISPONIBLES_TL\' | translate }}: {{SocketClientes.registrados_no_logged.length}} </h4> <ul layout="row" layout-wrap> <li ng-repeat="cliente in registrados_no_logged() " layout="row" ng-click="clickedClt($event, cliente)" style="width: auto" ng-dblclick="showSidenavSelectUsu(cliente)" ng-mouseover="sobreClt($event, cliente)" ng-class="{\'seleccionado\': cliente.seleccionado, \'cursor-unselect\':deseleccionar }" class="md-whiteframe-1dp clt-pc unselectable"> <div class="info"> <h5 ng-model="cliente.nombre_punto" contenteditable guardar-nombre-punto="guardarNombrePunto">{{ cliente.nombre_punto }} <md-tooltip>{{ \'NOMBRE_DE_PUNTO_TL\' | translate }} </md-tooltip> </h5> </div> <div class="opts-clt btn-group"> <button type="button" ng-click="showSidenavSelectUsu(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-users"></icon> <md-tooltip>{{ \'SELECCIONAR_UN_USUARIO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="guardarNombrePunto(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-save"></icon> <md-tooltip>{{ \'GUARDAR_NOMBRE_PUNTO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="desregistrar_a(cliente)" class="btn btn-warning btn-xs deseleccionador"> <icon class="fa fa-registered"></icon> <md-tooltip>Desregistrar</md-tooltip> </button> </div> </li> </ul> </div> <div class="disponibles-title"> <h4>{{ \'SIN_REGISTRAR_TL\' | translate }}: {{sin_registrar().length}} </h4> <ul layout="row" layout-wrap> <li ng-repeat="cliente in sin_registrar() " layout="row" ng-click="clickedClt($event, cliente)" style="width: auto" ng-dblclick="showSidenavSelectUsu(cliente)" ng-mouseover="sobreClt($event, cliente)" ng-class="{\'seleccionado\': cliente.seleccionado, \'cursor-unselect\':deseleccionar }" class="md-whiteframe-1dp clt-pc unselectable"> <div flex class="info"> <h5 ng-model="cliente.nombre_punto" contenteditable guardar-nombre-punto="guardarNombrePunto" style="margin: 5px 0px">{{ cliente.nombre_punto }} <md-tooltip>{{ \'NOMBRE_DE_PUNTO_TL\' | translate }} </md-tooltip> </h5> <div ng-show="cliente.user_data.entidad.alias" class="alias-enti">{{cliente.user_data.entidad.alias}}</div> <h6 style="margin: 0px; font-size: 7pt">{{cliente.user_data.nombres}} {{cliente.user_data.apellidos}}</h6> </div> <div ng-if="cliente.logged" style="width: 150px; margin-right: -50px" class="opts-clt btn-group"> <div uib-dropdown dropdown-append-to-body class="btn-group"> <button type="button" ng-click="cerrar_sesion_a(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-sign-out"></icon> <md-tooltip>{{ \'CERRAR_SESION_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="registrar_a(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-registered"></icon> <md-tooltip>Registrar</md-tooltip> </button><a aria-label="Abrir menú categ" uib-dropdown-toggle class="btn btn-pink btn-xs right"><span>{{cliente.categsel_abrev}}</span> <div class="fa fa-chevron-right"></div></a> <ul uib-dropdown-menu aria-labelledby="simple-dropdown" class="dropdown-menu"> <li ng-repeat="categoriatrad in categorias_traducidas"><a ng-click="cambiarCategSel(cliente, categoriatrad)">{{ categoriatrad.nombre }}</a></li> <li class="divider"></li> <li><a ng-click="empezarExamenCliente(cliente)">{{ \'EMPEZAR_EXAMEN_TL\' | translate }} </a></li> <li><a ng-click="nextQuestionCliente(cliente)">{{ \'SIGUIENTE_PREGUNTA_TL\' | translate }} </a></li> </ul> </div> </div> <div ng-if="!cliente.logged" class="opts-clt btn-group"> <button type="button" ng-click="showSidenavSelectUsu(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-users"></icon> <md-tooltip>{{ \'SELECCIONAR_UN_USUARIO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="guardarNombrePunto(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-save"></icon> <md-tooltip>{{ \'GUARDAR_NOMBRE_PUNTO_TL\' | translate }} </md-tooltip> </button> <button type="button" ng-click="registrar_a(cliente)" class="btn btn-default btn-xs deseleccionador"> <icon class="fa fa-registered"></icon> <md-tooltip>Registrar</md-tooltip> </button> </div> </li> </ul> </div> </div> <div class="message-form"> <form ng-submit="enviarMensajeTo()"> <div class="row"> <div class="col-lg-10 col-md-9 col-sm-9 col-xs-12"> <md-input-container flex-gt-sm style="margin-bottom: -20px; padding-bottom: 0px" class="md-block"> <label>{{ \'MENSAJE_TL\' | translate }} </label> <input id="msg-especifico" type="text" ng-model="newMensaje"> <md-tooltip> {{ \'ENVIA_UN_MENSAJE_TL\' | translate }} </md-tooltip> </md-input-container> </div> <div class="col-lg-1 col-md-2 col-sm-2 col-xs-12"> <md-button aria-label="Enviar" type="submit" style="min-width:95%;  top: 7px" class="md-raised">{{ \'ENVIA_TL\' | translate }} </md-button> </div> </div> </form> </div> </div> </div> <sidenav-select-usu-dir></sidenav-select-usu-dir> <sidenav-edit-usu-dir></sidenav-edit-usu-dir> <div class="panel panel-default panel-hovered panel-stacked mb20 mr--15-sm ml--15-sm"> <div class="panel-heading"> {{ \'COMANDOS_TL\' | translate }} </div> <div class="panel-body"> <div class="row"> <div class="col-xs-12 col-md-7"> <select multiple style="width: 150px; height: 150px; font-size: 9pt"> <option ng-repeat="categoria in categorias_king" ng-model="cmdCategSelected" ng-click="cmdClickCategSelected(categoria)">{{categoria.nombre}} </select> <select multiple style="width: 250px; height: 150px; font-size: 9pt; overflow: scroll"> <option ng-repeat="pregunta in cmdPreguntasTraduc" ng-model="cmdPreguntaSelected" ng-click="cmdClickPreguntaSelected(pregunta, $index)" ng-bind-html="($index+1) + \'. \' + pregunta.enunciado">  </select><br><span style="font-weight: bold">{{ \'PREG_TL\' | translate }}: </span>{{ SocketData.config.info_evento.preg_actual }} <input ng-model="SocketData.config.info_evento.preg_actual" type="number" style="width: 60px"> <div uib-dropdown class="btn-group"> <button ng-click="showQuestion()" class="btn btn-default"> <i class="fa fa-question-circle"></i>{{ \'MOSTRAR_PREGUNTA_TL\' | translate }} </button><a aria-label="Abrir menú" uib-dropdown-toggle class="btn btn-default right"><span>{{cliente.categsel_abrev}}</span> <div class="fa fa-chevron-right"></div></a> <ul uib-dropdown-menu aria-labelledby="simple-dropdown" class="dropdown-menu"> <li><a ng-click="selec_opc_in_question(0)">Seleccionar A</a></li> <li><a ng-click="selec_opc_in_question(1)">Seleccionar B</a></li> <li><a ng-click="selec_opc_in_question(2)">Seleccionar C</a></li> <li><a ng-click="selec_opc_in_question(3)">Seleccionar D</a></li> <li><a ng-click="selec_opc_in_question(4)">Seleccionar E</a></li> <li><a ng-click="selec_opc_in_question(5)">Seleccionar F</a></li> <li class="divider"></li> <li><a ng-click="sc_reveal_answer()">Revelar correcta</a></li> </ul> <!--button.btn.btn-default(ng-click="showPuntajeParticip()") {{ \'MOSTRAR_PUNTAJE_TL\' | translate }} --> </div> <md-checkbox ng-click="toggleShowLogoEntidadParticipantes()" ng-true-value="1" ng-false-value="0" ng-model="cmdShowLogoEntidadPartici" aria-label="Mostrar logos">{{ \'MOSTRAR_LOGO_ENTIDADES_TL\' | translate }} </md-checkbox> </div> </div> <div style="margin-top: 10px" class="row"> <div class="col-xs-12 col-md-7"> <div class="btn-group"> <button ng-click="showParticipantes()" class="btn btn-default"> <i class="fa fa-users"></i>{{ \'MOSTRAR_PARTICIPANTES_TL\' | translate }} </button> <button ng-click="showBarras()" class="btn btn-default"> <i class="fa fa-bar-chart"></i>{{ \'MOSTRAR_BARRAS_TL\' | translate }} </button> </div><a href="" ng-click="configurar_imagenes()" style="display: block; margin-top: 12px; margin-bottom: 8px" ng-hide="imagenes">{{ \'CONFIGURAR_FONDO_TL\' | translate }} </a> </div> </div> <div style="margin-top: 10px" class="row"> <div class="col-xs-12 col-md-7"> <div style="padding-left: 15px" ng-if="imagenes" class="form-group"> <label>{{ \'IMAGEN_TL\' | translate }} </label> <button type="button" ng-click="misImagenes()" style="float: right;margin-right: 20px" class="btn btn-primary fa fa-image btn-xs"> Imágenes...</button> <ui-select ng-model="fondo.imagen_seleccionada" on-select="imagenSelect($item, $model)" theme="select2" style="width: 95%"> <ui-select-match placeholder="Imagen usuario"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> <ui-select-no-choice><img ng-src="{{imagesPath + \'perfil/system/avatars/no-photo.jpg\'}}" style="width:25px; height:25px"><small ng-bind-html="\' Sin foto \'"></small></ui-select-no-choice> </ui-select> <div class="btn-group"> <button ng-click="establecer_fondo()" class="btn btn-default"> <i class="fa fa-image"></i>{{ \'ESTABLECER_FONDO_TL\' | translate }} </button> <button ng-click="mostrar_solo_fondo()" class="btn btn-default"> <i class="fa fa-image"></i>{{ \'MOSTRAR_SOLO_FONDO_TL\' | translate }} </button> </div> </div> </div> </div> <div class="row"> <div class="col-xs-12 col-md-12"> <md-content> <div style="margin-top: 15px" class="form-group"> <div class="input-group"> <md-tooltip>{{ \'CAMBIAR_TELEPROMPTER_TL\' | translate }} </md-tooltip> <input placeholder="Escriba mensaje" ng-model="msg_teleprompter" style="border: 1px solid #ccc; border-right: 0px" class="form-control"> <div class="input-group-btn"> <button type="button" ng-click="cambiar_teleprompter()" style="height: 34px; border-left: 0px" class="btn btn-default"> <i class="fa fa-align-left"></i></button> </div> </div> </div> </md-content> </div> </div> <hr> <div class="btn-group"> <button ng-click="empezarExamen()" class="btn btn-primary">{{ \'EMPEZAR_EXAMEN_TL\' | translate }} <i class="fa fa-play"></i></button> <button ng-click="nextQuestion()" class="btn btn-danger">{{ \'SIGUIENTE_PREGUNTA_TL\' | translate }} <i class="fa fa-arrow-right"></i></button> </div> <div class="row"> <div class="col-xs-12 col-md-7"> <md-content> <div style="width: 200px;margin-top: 15px" class="form-group">{{ \'ENVIAR_CLIENTES_SELECCIONADOS_A_UNA_PREGUNTA_TL\' | translate }}: <div class="input-group"> <md-tooltip>{{ \'ENVIAR_CLIENTES_SELECCIONADOS_A_UNA_PREGUNTA_TL\' | translate }} </md-tooltip> <input type="number" min="1" placeholder="Número" ng-model="cmdNoPregunta" style="border: 1px solid #ccc; border-right: 0px" class="form-control"> <div class="input-group-btn"> <button type="button" ng-click="gotoNoQuestionClt()" style="height: 34px; border-left: 0px" class="btn btn-default">{{ \'IR_TL\' | translate }} </button> </div> </div> </div> </md-content> </div> </div> <div class="row"> <div class="col-xs-12 col-md-7"> <md-content> <div style="width: 200px;margin-top: 15px" class="form-group">{{ \'LIBERAR_HASTA_PREGUNTA_TL\' | translate }}: <div class="input-group"> <md-tooltip>Restrinja con 0 o -1</md-tooltip> <input type="number" min="-1" placeholder="Número" ng-model="SocketData.config.info_evento.free_till_question" style="border: 1px solid #ccc; border-right: 0px" class="form-control"> <div class="input-group-btn"> <button type="button" ng-click="liberar_hasta_pregunta()" style="height: 34px; border-left: 0px" class="btn btn-default">{{ \'IR_TL\' | translate }} </button> </div> </div> </div> </md-content> </div> </div> </div> </div> <!-- RESULTADOS, EXÁMENES, PUESTOS!!!!!!!--> <md-button ng-if="!show_result_table" ng-click="mostrar_result_table()" class="md-raised">{{ \'TABLA_DE_RESULTADOS_TL\' | translate }} </md-button> <puestos-dir ng-if="show_result_table"></puestos-dir> <!-- RESULTADOS, EXÁMENES, PUESTOS!!!!!!!--> <div class="panel panel-default panel-hovered panel-stacked mb20 mr--15-sm ml--15-sm"> <div class="panel-heading"> {{ \'CHAT_PUBLICO_TL\' | translate }} </div> <div class="panel-body"> <chat-container-dir></chat-container-dir> </div> </div>'),
a.put("views/control/crear_servidor.tpl.html",'<div class="page page-auth"> <div class="row"> <div ng-click="mostrarMensaje()" class="col-md-12"> <div ng-show="counter" class="titulo-3d">Espera: {{counter}} segundos</div> <div ng-hide="counter" class="titulo-3d">{{diagnostico}}</div> </div> </div> </div>'),a.put("views/control/sidenavEditUsuDir.tpl.html",'<md-sidenav md-component-id="sidenavEditusu" style="width: 600px" class="md-sidenav-right md-whiteframe-4dp"> <md-toolbar style="margin-top: 50px" class="md-theme-light"> <h1 class="md-toolbar-tools">Editar usuario</h1> </md-toolbar> <md-content layout-padding> <form ng-submit="guardar()" class="form-horizontal"> <div style="margin-top: 10px" class="row"> <md-input-container class="col-sm-6 col-xs-12"> <label>Nombre </label> <input type="text" ng-model="clt_to_edit.nombres" name="nombres" required> </md-input-container> <md-input-container class="col-sm-6 col-xs-12"> <label>Apellidos</label> <input type="text" ng-model="clt_to_edit.apellidos"> </md-input-container> </div> <div class="row"> <md-input-container class="col-sm-6 col-xs-12"> <label>Username</label> <input type="text" ng-model="clt_to_edit.username" required> </md-input-container> <md-button type="button" ng-click="cambiarPass($event)" class="md-raised">Contraseña</md-button> </div> <div class="row"> <md-input-container class="col-sm-4 col-xs-4"> <label>Email</label> <input type="text" ng-model="clt_to_edit.email"> </md-input-container> <md-input-container class="col-sm-4 col-xs-4"> <label>Celular</label> <input type="text" ng-model="clt_to_edit.cell"> </md-input-container> <md-input-container class="col-sm-4 col-xs-4"> <label>Edad</label> <input ng-model="clt_to_edit.edad" type="text"> </md-input-container> </div> <div class="row"> <div class="col-md-12"> <div class="form-group"> <label class="control-label col-md-2">Sexo</label> <div class="col-md-10"> <md-radio-group ng-model="clt_to_edit.sexo"> <md-radio-button ng-value="avatar.masculino.abrev" aria-label="{{avatar.masculino.def}}" class="rd-gender"><img ng-src="{{avatar.masculino.img}}" class="img-gender"> <md-tooltip>Masculino</md-tooltip> </md-radio-button> <md-radio-button ng-value="avatar.femenino.abrev" aria-label="{{avatar.femenino.def}}" class="rd-gender"><img ng-src="{{avatar.femenino.img}}" class="img-gender"> <md-tooltip>Femenino</md-tooltip> </md-radio-button> </md-radio-group> </div> </div> </div> <div class="col-md-12"> <div class="row"> <div class="col-sm-6"> <md-select ng-model="clt_to_edit.entidad_id" placeholder="Entidad"> <md-option ng-repeat="entidad in entidades" value="{{entidad.id}}">{{entidad.nombre}}</md-option> </md-select> </div> <div class="col-sm-6"> <md-select ng-model="clt_to_edit.nivel_id" placeholder="Niveles"> <md-option ng-value="nivel.nivel_king_id" ng-repeat="nivel in $parent.niveles_king | nivelesTraducidos:$parent.evento_actual.idioma_principal_id">{{nivel.nombre}}</md-option> <md-option value="">Todos</md-option> </md-select> </div> </div> </div> </div> <div class="row"> <div class="clearfix right"> <md-button type="button" ng-click="cancelar()" class="md-default md-raised">Cancelar</md-button> <md-button type="submit" ng-disabled="guardando" class="md-primary md-raised">Guardar</md-button> </div> </div> <div class="row"> <md-content> <md-list> <md-subheader class="md-no-sticky">Inscribir en:</md-subheader> <md-list-item ng-repeat="categoria in [clt_to_edit] | categsInscritas:categorias_king1:$parent.evento_actual.idioma_principal_id | filter: { nivel_id: clt_to_edit.nivel_id } "> <md-checkbox ng-model="categoria.selected" ng-change="cambiaInscripcion(categoria, clt_to_edit)" aria-label="Categoria" ng-disabled="categoria.cambiando"></md-checkbox> <p>{{categoria.nombre}} </p> </md-list-item> </md-list> </md-content> </div> </form> </md-content> </md-sidenav>'),a.put("views/control/sidenavSelectUsuDir.tpl.html",'<md-sidenav md-component-id="sidenavSelectusu" style="width: 600px" class="md-sidenav-right md-whiteframe-4dp"> <md-toolbar style="margin-top: 50px" class="md-theme-light"> <h1 class="md-toolbar-tools">Seleccione usuario</h1> </md-toolbar> <md-content layout-padding> <section> <md-subheader class="md-primary">Usuarios <md-input-container flex class="filtrarusuario"> <label>Filtrar</label> <input type="text" ng-model="filtro"> </md-input-container> <button type="button" ng-click="ingresar_seleccionado()" class="btn btn-primary">Ingresar</button> </md-subheader> <md-list class="md-dense"> <md-list-item ng-repeat="usuario in SocketClientes.usuarios_all | filter:filtro | orderBy:\'nombres\' " ng-click="seleccionarUsu(usuario)" ng-dblclick="ingresar_seleccionado(usuario)" class="md-2-line"><img ng-src="{{imagesPath + usuario.imagen_nombre}}" alt="{{usuario.username}}" class="md-avatar"> <div class="md-list-item-text"> <h3>{{ ($index+1) + \'. \' + usuario.nombres + \' \' + usuario.apellidos}}</h3> <h4>{{ usuario.nombre_entidad }}</h4> </div> <md-checkbox ng-model="usuario.seleccionado" ng-click="seleccionarCkUsu(usuario)" aria-label="Seleccionado" class="md-secondary"></md-checkbox> </md-list-item> </md-list> </section> </md-content> </md-sidenav>'),a.put("views/entidades/entidades.tpl.html",'<div class="row"> <div class="col-sm-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> {{\'ENTIDADES_MENU\' | translate}} </div> <div class="panel-body"> <md-button ng-show="!creando" ng-click="crearNuevo()" class="md-primary">Crear nuevo</md-button> <div layout layout-wrap layout-padding> <div flex-gt-md="60" flex-gt-xs="100" flex-md="100"> <div id="grid1" ui-grid="gridOptions" ui-grid-edit ui-grid-resize-columns style="min-height: 500px" class="grid"></div> </div> <!-- Formulario para crear--> <div flex-gt-md="40" flex-gt-xs="100" flex-md="100" ng-show="creando"> <form layout="column" ng-submit="guardar_nuevo()" layout-margin layout-wrap layout-padding> <div flex> <label>Nombre:</label> <input type="text" ng-model="newEntidad.nombre" class="form-control"> </div> <div flex="40" flex-gt-lg="20" flex-sm="100"> <md-checkbox ng-model="seleccionar_lider" aria-label="¿Traducido?">Seleccionar lider</md-checkbox> </div> <div flex ng-show="seleccionar_lider"> <md-select placeholder="Seleccione Lider" ng-model="newEntidad.lider_id"> <md-option ng-repeat="usuario in usuarios" value="{{usuario.id}}">{{usuario.nombres}} {{usuario.apellidos}}</md-option> </md-select> </div> <div flex ng-show="!seleccionar_lider"> <input placeholder="Escriba Nombre del lider" type="text" ng-model="newEntidad.lider_nombre" class="form-control"> </div> <div flex> <div class="form-group"> <label>Logo</label> <ui-select ng-model="newEntidad.imgUsuario" on-select="imagenSelect($item, $model)" style="width:100%"> <ui-select-match placeholder="Logo de entidad"> <img ng-src="{{ $select.selected.public?imgSystemPath:perfilPath }}{{ $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{ imagen.public?imgSystemPath:perfilPath }}{{ imagen.nombre }}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> </div> <div flex> <input placeholder="Teléfono" type="text" ng-model="newEntidad.telefono" class="form-control"> </div> <div flex> <input placeholder="Alias" type="text" ng-model="newEntidad.alias" class="form-control"> </div> <div class="clearfix right"> <md-button type="submit" ng-disabled="guardando" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelarNuevo()" class="md-default">Cancelar</md-button> </div> </form> </div> <!-- Formulario para editar--> <div flex-gt-md="40" flex-gt-xs="100" flex-md="100" ng-show="editando"> <form layout="column" ng-submit="guardar_cambios()" layout-margin layout-wrap layout-padding> <div flex> <label>Nombre:</label> <input type="text" ng-model="currentEntidad.nombre" class="form-control"> </div> <div flex="40" flex-gt-lg="20" flex-sm="100" style="padding-bottom: 0; margin-bottom: 0"> <md-checkbox ng-model="seleccionar_lider" aria-label="¿Traducido?">Seleccionar lider</md-checkbox> </div> <div flex ng-show="seleccionar_lider" style="padding-top: 0; margin-top: 0"> <md-select placeholder="Seleccione Lider" ng-model="currentEntidad.lider_id" style="margin-top: 0"> <md-option ng-repeat="usuario in usuarios" value="{{usuario.id}}">{{usuario.nombres}} {{usuario.apellidos}}</md-option> </md-select> </div> <div flex ng-show="!seleccionar_lider" style="padding-top: 0; margin-top: 0"> <input placeholder="Escriba Nombre del lider" type="text" ng-model="currentEntidad.lider_nombre" class="form-control"> </div> <div flex> <div class="form-group"> <label>Logo</label> <ui-select ng-model="currentEntidad.logo" style="width:100%" on-select="imagenSelect($item, $model)"> <ui-select-match placeholder="Logo de entidad"> <img ng-src="{{ $select.selected.public?imgSystemPath:perfilPath }}{{ $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre "></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{ imagen.public?imgSystemPath:perfilPath }}{{ imagen.nombre }}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> </div> <div flex> <input placeholder="Teléfono" type="text" ng-model="currentEntidad.telefono" class="form-control"> </div> <div flex> <input placeholder="Alias" type="text" ng-model="currentEntidad.alias" class="form-control"> </div> <div class="clearfix right"> <md-button type="submit" ng-disabled="guardando" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelarEdit()" class="md-default">Cancelar</md-button> </div> </form> </div> </div> </div> </div> </div> </div>'),a.put("views/entidades/removeEntidad.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Entidad: </h4> <div style="text-overflow: ellipsis">{{elemento.nombre}} - {{elemento.alias}}</div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/evaluaciones/evaluaciones.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> {{ \'EVALUACIONES_MENU\' | translate }} </div> <div class="panel-body"> <md-button ng-show="!creando" ng-click="crearNuevo()" class="md-default md-raised">Crear evaluación</md-button> <div layout layout-wrap layout-padding> <div flex-gt-md="60" flex-md="100"> <!-- Grilla con todas las evaluaciones--> <grid-evaluaciones evaluaciones="evaluaciones" idioma="idioma.selected" currenteval="currentEvalua" categoriasking="categorias_king"></grid-evaluaciones> </div> <!-- Formulario para crear--> <div flex-gt-md="40" flex-md="100" ng-show="creando"> <h2>Nueva evaluación</h2> <form layout="column" ng-submit="guardarNuevo()" layout-margin layout-wrap layout-padding> <div flex> <label>Descripción:</label> <input type="text" ng-model="newEvaluacion.descripcion" class="form-control"> </div> <div flex> <label>Categoría:</label> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: -10px"> <md-select placeholder="Categoría" ng-model="newEvaluacion.categoria_id"><span ng-repeat="catking in categorias_king"> <md-option ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idioma.selected" ng-show="cat_traduc.idioma_id==idioma.selected" value="{{cat_traduc.categoria_id}}"> {{cat_traduc.nombre}} </md-option></span></md-select> </md-input-container> </div> <div flex="40" flex-gt-lg="20" flex-sm="100"> <md-checkbox ng-model="newEvaluacion.actual" aria-label="Actual">Actual</md-checkbox> <md-tooltip>Será la evaluación que los participantes resolverán</md-tooltip> </div> <div flex> <label>Duración por pregunta:</label> <input placeholder="Duración pregunta" type="number" ng-model="newEvaluacion.duracion_preg" class="form-control"> <md-tooltip>Duración por pregunta cuando sea dirigido</md-tooltip> </div> <div flex> <label>Duración por examen:</label> <input placeholder="Duración exámen" type="number" ng-model="newEvaluacion.duracion_exam" class="form-control"> <md-tooltip>Duración por pregunta cuando sea dirigido</md-tooltip> </div> <div flex="40" flex-gt-lg="20" flex-sm="100"> <md-checkbox ng-model="newEvaluacion.dirigido" aria-label="Responder de una por una">Responder de una por una</md-checkbox> <md-tooltip>Responder de una en una o todas las preguntas a la vez</md-tooltip> </div> <div class="clearfix right"> <md-button type="button" ng-click="cancelarNuevo()" class="md-default md-raised">Cancelar</md-button> <md-button type="submit" ng-disabled="guardando" class="md-primary md-raised">Guardar</md-button> </div> </form> </div> <!-- Formulario para editar--> <div flex-gt-md="40" flex-md="100" ng-show="editando"> <h2>Editar evaluación</h2> <form layout="column" ng-submit="guardarEdicion()" layout-margin layout-wrap layout-padding> <div flex> <label>Descripción:</label> <input type="text" ng-model="currentEvalua.descripcion" class="form-control"> </div> <div flex> <label>Categoría:</label> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: -10px"> <md-select placeholder="Categoría" ng-model="currentEvalua.categoria_id"><span ng-repeat="catking in categorias_king"> <md-option ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idioma.selected" ng-show="cat_traduc.idioma_id==idioma.selected" value="{{cat_traduc.categoria_id}}"> {{cat_traduc.nombre}} </md-option></span></md-select> </md-input-container> </div> <div flex="40" flex-gt-lg="20" flex-sm="100"> <md-checkbox ng-model="currentEvalua.actual" aria-label="Actual">Actual</md-checkbox> <md-tooltip>Será la evaluación que los participantes resolverán</md-tooltip> </div> <div flex> <label>Duración por pregunta:</label> <input placeholder="Duración pregunta" type="number" ng-model="currentEvalua.duracion_preg" class="form-control"> <md-tooltip>Duración por pregunta cuando sea dirigido</md-tooltip> </div> <div flex> <label>Duración por examen:</label> <input placeholder="Duración exámen" type="number" ng-model="currentEvalua.duracion_exam" class="form-control"> <md-tooltip>Duración por pregunta cuando sea dirigido</md-tooltip> </div> <div flex="40" flex-gt-lg="20" flex-sm="100"> <md-checkbox ng-model="currentEvalua.dirigido" aria-label="Responder de una por una">Responder de una por una</md-checkbox> <md-tooltip>Responder de una en una o todas las preguntas a la vez</md-tooltip> </div> <div class="clearfix right"> <md-button type="button" ng-click="cancelarNuevo()" class="md-default md-raised">Cancelar</md-button> <md-button type="submit" ng-disabled="guardando" class="md-primary md-raised">Guardar</md-button> </div> </form> </div> </div> </div> </div>'),a.put("views/evaluaciones/gridEvaluacionesDir.tpl.html",'<div id="grid1" ui-grid="gridOptions" ui-grid-edit ui-grid-resize-columns style="min-height: 500px" class="grid"></div>'),a.put("views/evaluaciones/removeEvaluacion.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4 ng-bind-html="elemento.descripcion + \' \' + elemento.apellidos" flex="90"></h4> <div ng-bind-html="\'Entidad: \' + (elemento.entidad_id|nombreEntidad:entidades)" flex="90"></div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/eventos/eventos.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> {{ \'EVENTS_TITLE\' | translate }} </div> <div class="panel-body"> <md-button ng-show="!creando" ng-click="crear_evento()" class="md-default">Crear evento</md-button> <div ng-show="creando" class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Nuevo </div> <div class="panel-body"> <form ng-submit="guardar_evento()" name="frm" role="form" class="form-horizontal"> <div class="row"> <div class="col-md-8"> <div class="form-group"> <label class="control-label col-md-3">Nombre</label> <div class="col-md-9"> <input ng-model="newEvent.nombre" type="text" placeholder="Nombre" class="form-control"> <p class="text-danger text-right xsmall">Campo obligatorio</p> </div> </div> <div class="form-group"> <label class="control-label col-md-3">Alias</label> <div class="col-md-9"> <input ng-model="newEvent.alias" type="text" placeholder="Alias" class="form-control"> </div> </div> <div class="form-group"> <label class="control-label col-md-3">Descripción</label> <div class="col-md-9"> <input ng-model="newEvent.descripcion" type="text" placeholder="Descripción" class="form-control"> </div> </div> <div class="form-group"> <md-checkbox ng-model="newEvent.gran_final" ng-value="newEvent.gran_final">Gran final</md-checkbox> </div> <div style="display: none" class="form-group"> <label class="control-label col-md-3">Examen actual</label> <md-select ng-model="newEvent.examen_actual_id" placeholder="Selecciona... (no sirve)"> <md-option value="1">Para pruebas</md-option> <md-option value="2">Para la final</md-option> </md-select> </div> <div class="form-group"> <label class="control-label col-md-3">Con pago</label> <md-checkbox ng-model="newEvent.with_pay" ng-value="newEvent.with_pay" aria-label="Con pago"></md-checkbox> </div> <div ng-show="newEvent.with_pay" class="form-group"> <label class="control-label col-md-3">Precio 1</label> <div class="col-md-9"> <input ng-model="newEvent.precio1" type="number" placeholder="Precio1" class="form-control"> </div> <label class="control-label col-md-3">Precio 2</label> <div class="col-md-9"> <input ng-model="newEvent.precio2" type="number" placeholder="Precio2" class="form-control"> </div> <label class="control-label col-md-3">Precio 3</label> <div class="col-md-9"> <input ng-model="newEvent.precio3" type="number" placeholder="Precio3" class="form-control"> </div> <label class="control-label col-md-3">Precio 4</label> <div class="col-md-9"> <input ng-model="newEvent.precio4" type="number" placeholder="Precio4" class="form-control"> </div> <label class="control-label col-md-3">Precio 5</label> <div class="col-md-9"> <input ng-model="newEvent.precio5" type="number" placeholder="Precio5" class="form-control"> </div> <label class="control-label col-md-3">Precio 6</label> <div class="col-md-9"> <input ng-model="newEvent.precio6" type="number" placeholder="Precio6" class="form-control"> </div> </div> </div> <div class="col-md-4"> <div class="form-group"> <md-checkbox ng-model="newEvent.actual" ng-value="newEvent.actual">Evento actual</md-checkbox> </div> <div class="form-group"> <md-checkbox ng-model="newEvent.enable_public_chat" ng-value="newEvent.enable_public_chat">Habilitar chat público</md-checkbox> </div> <div class="form-group"> <md-checkbox ng-model="newEvent.enable_private_chat" ng-value="newEvent.enable_private_chat">Habilitar chat privado</md-checkbox> </div> <md-divider></md-divider> <div class="form-group"> <md-checkbox ng-model="newEvent.es_idioma_unico" ng-value="newEvent.es_idioma_unico">Solo usar un idioma</md-checkbox> <label class="control-label">Idioma principal:</label> <md-select placeholder="Seleccione idioma principal" ng-model="newEvent.idioma_principal_id"> <md-option ng-repeat="idioma in idiomas" value="{{idioma.id}}">{{idioma.original}} ({{idioma.abrev}}) - {{idioma.nombre}}</md-option> </md-select> <div ng-show="!newEvent.es_idioma_unico"> <label class="control-label">Idiomas extras:</label> <ui-select multiple style="width: 100%" ng-model="newEvent.idiomas_extras" theme="select2"> <ui-select-match allow-clear="true" placeholder="Idiomas a usar"> <small ng-bind-html=" $item.original + \' (\' + $item.abrev+ \')\' "></small></ui-select-match> <ui-select-choices repeat=" idioma in idiomas | filter: {nombre: $select.search}"><small ng-bind-html=" idioma.original + \' (\'+idioma.abrev+\') - \' + idioma.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="clearfix right"> <md-button type="submit" ng-disabled="guardando_nuevo" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelar_newevento()" class="md-default">Cancelar</md-button> </div> </form> </div> </div> </div> </div> <md-whiteframe layout ng-repeat="evento in USER.eventos" style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="10">{{$index+1}}.</span><span flex="90">{{evento.nombre}}</span> <div layout="row" class="btn-container-edit"> <md-button aria-label="Editar" ng-click="editarEvento(evento)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar evento</md-tooltip> </md-button> <md-button aria-label="Eliminar" ng-click="eliminarEvento(evento)" class="md-fab md-warn md-mini"> <md-icon class="fa fa-trash"></md-icon> <md-tooltip>Eliminar evento</md-tooltip> </md-button> </div> </md-whiteframe><br><br> <div ng-show="editando" class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Editar </div> <div class="panel-body"> <form ng-submit="update_evento()" name="frm" role="form" class="form-horizontal"> <div class="row"> <div class="col-md-8"> <div class="form-group"> <label class="control-label col-md-3">Nombre</label> <div class="col-md-9"> <input ng-model="currentEvent.nombre" type="text" placeholder="Nombre" class="form-control"> <p class="text-danger text-right xsmall">Campo obligatorio</p> </div> </div> <div class="form-group"> <label class="control-label col-md-3">Alias</label> <div class="col-md-9"> <input ng-model="currentEvent.alias" type="text" placeholder="Alias" class="form-control"> </div> </div> <div class="form-group"> <label class="control-label col-md-3">Descripción</label> <div class="col-md-9"> <input ng-model="currentEvent.descripcion" type="text" placeholder="Descripción" class="form-control"> </div> </div> <div class="form-group"> <md-checkbox ng-model="currentEvent.gran_final" ng-false-value="0" ng-true-value="1" class="ck-margin">Gran final</md-checkbox> </div> <div class="form-group"> <label class="control-label col-md-3">Examen actual</label> <md-select ng-model="currentEvent.examen_actual_id" placeholder="Selecciona..."> <md-option value="1">Para pruebas</md-option> <md-option value="2">Para la final</md-option> </md-select> </div> <div class="form-group"> <md-checkbox ng-model="currentEvent.with_pay" ng-value="currentEvent.with_pay" class="ck-margin">Con pago</md-checkbox> </div> <div ng-show="currentEvent.with_pay" class="form-group"> <label class="control-label col-md-3">Precio 1</label> <div class="col-md-9"> <input ng-model="currentEvent.precio1" type="number" placeholder="Precio1" class="form-control"> </div> <label class="control-label col-md-3">Precio 2</label> <div class="col-md-9"> <input ng-model="currentEvent.precio2" type="number" placeholder="Precio2" class="form-control"> </div> <label class="control-label col-md-3">Precio 3</label> <div class="col-md-9"> <input ng-model="currentEvent.precio3" type="number" placeholder="Precio3" class="form-control"> </div> <label class="control-label col-md-3">Precio 4</label> <div class="col-md-9"> <input ng-model="currentEvent.precio4" type="number" placeholder="Precio4" class="form-control"> </div> </div> </div> <div class="col-md-4"> <!-- Borrar esto:--> <!--.form-group--> <!--	label.control-label Permitir usuarios de otros eventos--> <!--	md-checkbox(ng-model="currentEvent.allow_cross_users" ng-value="currentEvent.allow_cross_users")--> <div class="form-group"> <md-checkbox ng-model="currentEvent.actual" ng-value="currentEvent.actual" class="ck-margin">Evento actual</md-checkbox> </div> <div class="form-group"> <md-checkbox ng-model="currentEvent.enable_public_chat" ng-value="currentEvent.enable_public_chat" class="ck-margin">Habilitar chat público</md-checkbox> </div> <div class="form-group"> <md-checkbox ng-model="currentEvent.enable_private_chat" ng-value="currentEvent.enable_private_chat" class="ck-margin">Habilitar chat privado</md-checkbox> </div> <md-divider></md-divider> <div class="form-group"> <md-checkbox ng-model="currentEvent.es_idioma_unico" ng-value="currentEvent.es_idioma_unico" class="ck-margin">Solo usar un idioma</md-checkbox> <md-select placeholder="Seleccione idioma principal" ng-model="currentEvent.idioma_principal_id"> <md-option ng-repeat="idioma in idiomas" value="{{idioma.id}}">{{idioma.original}} - {{idioma.nombre}}</md-option> </md-select> <div ng-show="!currentEvent.es_idioma_unico"> <label class="control-label">Idiomas extras:</label> <ui-select multiple style="width: 100%" on-remove="quitandoIdiomas($item, $model)" ng-model="currentEvent.idiomas_extras" theme="select2" on-select="idiomasSelect($item, $model)"> <ui-select-match allow-clear="true" placeholder="Idiomas a usar"> <small ng-bind-html=" $item.nombre"></small></ui-select-match> <ui-select-choices repeat=" idioma in idiomas | filter: {nombre: $select.search}"><small ng-bind-html=" idioma.original + \' - \' + idioma.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="clearfix right"> <md-button type="submit" ng-disabled="guardando_edit" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelar_currentEvento()" class="md-default">Cancelar</md-button> </div> </form> </div> </div> </div> </div> </div> </div>'),a.put("views/eventos/eventos_user.tpl.html",""),a.put("views/eventos/removeEvento.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Evento: </h4> <div style="text-overflow: ellipsis">{{elemento.nombre}} - {{elemento.alias}}</div> <h5>Id: {{elemento.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/examen_respuesta/examenRespuesta.tpl.html",'<div class="row pr0-sm pl0-sm"> <div class="col-sm-12 col-md-12 pr0-sm pl0-sm"> <div class="panel panel-default panel-hovered panel-stacked"> <div style="height: 90vh; overflow: auto" class="panel-body"> <timer-dir tiempomax="tiempo_max" class="timer-count"></timer-dir> <div ng-bind-html=" categoria_traducida.nombre " style="font-size: 40px" class="titulo-3d"></div><br><br> <div><b>Descripción: </b><span>{{ examen_actual.descripcion }}</span></div><br> <!--md-divider--> <div class="progreso-preguntas"><span style="color: #aaa">{{ pregunta_actual }}</span> <md-progress-linear md-mode="determinate" value="{{pregunta_actual_porc}}"></md-progress-linear> <div class="total-pregs">{{ total_preguntas }}</div> </div><br><br><span ng-if="!waiting_question"> <div ng-repeat="pregunta in examen_actual.preguntas | preguntaActual:pregunta_actual "> <view-pregunta-examen ng-if="(pregunta.tipo_pregunta || !examen_actual.one_by_one) &amp;&amp; !pregunta.terminado" preguntaking="pregunta" indice="pregunta_actual" idiomapreg="USER.idioma_main_id"></view-pregunta-examen> <view-grupo-examen ng-if="(!pregunta.tipo_pregunta || !examen_actual.one_by_one) &amp;&amp; !pregunta.terminado" grupoking="pregunta" indice="pregunta_actual" idiomapreg="USER.idioma_main_id"></view-grupo-examen> <h4 ng-show="pregunta.terminado">Examen terminado.</h4> </div></span><span ng-if="waiting_question" style="text-align: center"> <h4>Respuesta {{opcion_eligida}}</h4> <h4>Espera la siguiente pregunta</h4></span> <div ng-show="!examen_actual.one_by_one" style="text-align: center"> <md-button type="submit" ng-click="guardando()" class="md-default">Guardar y continuar</md-button> <md-button ng-click="finalizar_examen()" class="md-primary">Finalizar</md-button> </div> </div> <div class="panel-footer todo-foot clearfix">No salgas de esta ventana</div> </div> </div> </div>'),a.put("views/examen_respuesta/iniciarDir.tpl.html",'<div ng-if="$state.is(\'panel\')" class="row"> <div class="col-md-12 pl0-sm pr0-sm"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-body"> <div ng-bind-html=" evento_actual.nombre " class="titulo-3d"></div> <div ng-switch on="evento_actual.gran_final" style="text-align: center"><span ng-switch-when="1"> <h3 ng-bind-html="\'GRAN_FINAL\' | translate" class="text-light">¡Gran final!</h3> <md-whiteframe ng-show="USER.categsel" layout layout-align="center center" class="md-whiteframe-z2"> <h2 ng-bind-html="categoriaSelect().categsel_nombre" style="margin-bottom: 20px"></h2> </md-whiteframe></span> <h3 ng-switch-default ng-bind-html="\'ELIMINATORIAS\' | translate" class="text-light">Eliminatorias</h3> </div> </div> </div> </div> </div> <div ng-if="hasRoleOrPerm(\'Pantalla\')" class="row"> <div class="col-md-6 pl0-sm pr0-sm"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Proyectar </div> <div class="panel-body"> <md-button ng-click="iniciarProyeccion()" style="width: 100%" class="md-raised md-primary col-md-12">Iniciar proyección </md-button> </div> </div> </div> </div> <div ng-if="!hasRoleOrPerm(\'Pantalla\')" class="row"> <div class="col-md-6 pl0-sm pr0-sm"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> <div ng-switch on="USER.inscripciones.length &gt; 0"> <div ng-switch-when="true" ng-bind-html="(\'INSCRITO_EN\' | translate)"> </div> <div ng-switch-default ng-bind-html="(\'NO_ESTAS_INSCRITO\' | translate)"> </div> </div> </div> <div class="panel-body"> <md-button ng-click="iniciarExamen(categoriaking)" ng-repeat="categoriaking in USER.inscripciones | categsInscritasDeUsuario:categorias_king:USER.idioma_main_id:categoriaSelect().categsel_id " ng-class="{\'md-primary\': categoriaking.selected }" style="width: 100%" class="md-raised col-md-12">{{categoriaking.nombre}}</md-button> </div> </div> </div> <div class="col-md-6 pl0-sm pr0-sm"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> <div ng-bind-html="(\'EXAM_HECHOS\' | translate)"> </div> </div> <div class="panel-body"> <uib-accordion close-others="false" ng-repeat="examen in examenes_puntajes | orderBy:\'-id\'"> <uib-accordion-group heading="{{examen.categoria.nombre + \' - (Cod:\' + examen.id + \') \' }}" ng-init="status.open = $first" is-open="status.open" tooltip="{{examen.evaluacion.descripcion}}"> <div> <b> <span ng-show="examen.gran_final" style="text-decoration: underline">GRAN FINAL: </span><span ng-hide="examen.gran_final" style="text-decoration: underline">Eliminatoria: </span>{{examen.categoria.nombre}} ({{examen.evaluacion.descripcion}})</b></div> <div>Preguntas: {{examen.cantidad_pregs}} </div> <div>Correctas: {{examen.correctas}} </div> <div>Incorrectas: {{examen.cantidad_pregs-examen.correctas}} </div> <div>Terminado: <span ng-show="examen.terminado">Si </span><span ng-hide="examen.terminado">No </span></div> <div>Promedio: {{examen.promedio | number:1}}% </div> <div style="text-align:right" ng-hide="examen.terminado"><a ui-sref="panel.examen_respuesta({examen_respuesta_id: examen.id})" href="">Continuar</a></div> <hr> </uib-accordion-group> </uib-accordion> </div> </div> </div> </div>'),
a.put("views/examen_respuesta/seguroIniciarCtrl.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Inicar el examen</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>¿Deseas iniciar el examen de {{inscripcion.nombre}}? </h4> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">No</md-button> <md-button ng-click="ok()" class="md-raised md-primary">Iniciar <i class="fa fa-check"></i></md-button> </div>'),a.put("views/examen_respuesta/seguroRespuesta.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro de elegir esta opción?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4 style="text-align: center">{{opcion.letra}}. <span ng-bind-html="opcion.definicion"> </span></h4> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">No</md-button> <md-button ng-click="ok()" ng-disabled="guardando" class="md-raised md-primary">Si <i class="fa fa-check"></i></md-button> </div>'),a.put("views/examen_respuesta/timerDir.tpl.html",'<div class="progress-wrapper"> <div style="top: 37%; bottom: auto; left: 25%; font-size: 30px" class="timer-progress">{{tiempo_formateado}}</div> <div round-progress max="tiempomax" current="tiempo" color="#45ccce" bgcolor="#eaeaea" radius="70" stroke="15" semi="false" rounded="false" clockwise="true" responsive="false" duration="800" animation="easeInOutQuart"></div> </div>'),a.put("views/examen_respuesta/viewGrupoExamenDir.tpl.html",'<div ng-repeat="contenido in grupoking.contenidos_traducidos | porIdioma:idiomapreg" ng-class-odd="\'fondo-gris-odd\'"> <div> <md-whiteframe layout layout-wrap style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"> <!--span(flex="5" style="font-weight: bold") {{ indice }}.--><span ng-bind-html="contenido.definicion" flex="95"> </span><br><br> <div ng-repeat="pregunta_agrup in contenido.preguntas_agrupadas" flex="100"><br><br> <div> <md-whiteframe layout style="margin-left: 20px; padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{$index+indice}}.</span><span ng-bind-html="pregunta_agrup.enunciado" flex="95"></span> <div ng-show="pregunta_agrup.ayuda &amp;&amp; pregunta_agrup.showDetail" ng-click="toggleMostrarAyuda(pregunta_agrup)" ng-class="{\'ayuda-preg-showed\': pregunta_agrup.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta_agrup.mostrar_ayuda}"><a ng-show="!pregunta_agrup.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta_agrup.mostrar_ayuda">{{pregunta_agrup.ayuda}}</span></div> </md-whiteframe><span> <!-- Opciones checkbox para seleccionar varios--> <md-list ng-if="pregunta_agrup.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pregunta_agrup.opciones | filter:{id: \'!-1\'} "> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p>{{ opcion.definicion }}</p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <!-- Opciones de tipo ICFES con única respuesta--> <div layout="row" layout-wrap layout-fill ng-if="pregunta_agrup.tipo_pregunta==\'Test\'" style="padding-bottom: 32px; justify-content: center" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida}" ng-if="!opcion.nueva" flex="40" ng-click="elegirOpcion(pregunta_agrup, opcion, $index)" ng-repeat="opcion in pregunta_agrup.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span>{{ opcion.definicion }}</span></md-whiteframe> </div></span> </div> </div><br><br> </md-whiteframe> <div ng-show="examen_actual.one_by_one" style="text-align: center"> <md-button type="submit" ng-click="guardando()" class="md-default">Guardar y continuar</md-button> <md-button ng-click="save_and_next()" class="md-primary">Guardar pasar a la siguiente pregunta<i class="fa fa-arrow-right"></i></md-button> </div> </div> </div><br><br><br><br> <md-divider></md-divider><br><br>'),a.put("views/examen_respuesta/viewPreguntaExamenDir.tpl.html",'<div ng-repeat="pregunta in preguntaking.preguntas_traducidas | porIdioma:idiomapreg"> <md-whiteframe layout style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{indice}}.</span><span ng-bind-html="pregunta.enunciado" flex="95"></span> <div ng-show="pregunta.ayuda" ng-click="toggleMostrarAyuda(pregunta)" ng-class="{\'ayuda-preg-showed\': pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta.mostrar_ayuda}"><a ng-show="!pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta.mostrar_ayuda">{{pregunta.ayuda}}</span></div> </md-whiteframe> <!-- Opciones checkbox para seleccionar varios--> <md-list ng-if="preguntaking.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pregunta.opciones"> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p ng-bind-html="opcion.definicion"> </p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <!-- Opciones de tipo ICFES--> <div layout="row" layout-wrap layout-fill ng-if="preguntaking.tipo_pregunta==\'Test\'" style="padding-bottom: 32px; justify-content: center" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida}" ng-if="!opcion.nueva" flex="45" ng-click="elegirOpcion(pregunta, opcion, $index)" ng-repeat="opcion in pregunta.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span ng-bind-html="opcion.definicion"> </span></md-whiteframe> </div> </div><br><br><br><br> <md-divider></md-divider><br><br>'),a.put("views/fileManager/asignToUser.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Asignar imagen a usuario</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Asignar imagen a usuario</h4> <form> <md-input-container flex-gt-sm style="margin-bottom: -21px; padding-bottom: 0px" class="md-block"> <label>Buscar usuario</label> <input type="text" ng-model="busqueda"> <md-tooltip> Buscar usuario</md-tooltip> </md-input-container> <md-content style="height: 400px"> <section> <md-subheader class="md-primary">Usuarios:</md-subheader> <md-list> <md-list-item ng-click="asignar(usuario)" ng-repeat="usuario in usuarios | orderBy:\'nombres\' | filter:busqueda track by usuario.id" style="margin: 0px"> <div class="md-list-item-text"> <p>{{$index+1}}. <img ng-src="{{imagesPath + usuario.imagen_nombre}}" style="width:40px;height:40px"> {{usuario.nombres}} {{usuario.apellidos}}</p> </div> </md-list-item> </md-list> </section> </md-content> </form> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> </div>'),a.put("views/fileManager/fileManager.tpl.html",'<div class="row hidden-print"> <div class="col-lg-12"> <h4>Mis imágenes</h4> <div style="margin-bottom: 20px" class="btn-group"> <label ng-model="subirImagenes" uib-btn-radio="\'nada\'" class="btn btn-primary">No subir</label> <label ng-model="subirImagenes" uib-btn-radio="\'subir\'" class="btn btn-primary">Subir imágenes</label> <label ng-model="subirImagenes" uib-btn-radio="\'tomar\'" class="btn btn-primary">Tomar foto</label> </div> <div ng-if=" subirImagenes == \'subir\' "> <md-checkbox ng-model="subir_intacta.intacta" aria-label="No modificar imagen al subir" class="md-primary md-align-top-left"> No modificar imagen al subir </md-checkbox> <div class="row mb20"> <div ng-model="imgFiles" ngf-select="upload($files)" ngf-multiple="true" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB" class="col-md-5 mb15"> <div class="dropzone"> <div class="drop-info"><i class="fa fa-upload"></i> <h3 class="mt0 text-bold">Click aquí</h3> <p>para subir imágenes</p> </div> </div> <input type="file" multiple style="visibility: hidden; position: absolute"> </div> <div class="col-md-7"> <div ng-show="imgFiles.length==0" class="mb20 alert alert-info"><strong>No has seleccionado ningún archivo</strong></div> <div ng-show="errorMsg!=\'\' &amp;&amp; errorMsg!=null" class="mb20 alert alert-info"><strong>{{errorMsg}}</strong></div> <table ng-hide="imgFiles.length==0" style="background: #fff" class="table table-bordered table-condensed table-responsive table-hover"> <thead> <tr> <th>Imagen <th class="col-sm-4">Nombre <th>Peso <th class="col-sm-1">Proceso <th class="col-sm-1">    <tbody> <tr ng-repeat="file in imgFiles"> <td class="text-center"><img ng-src="{{file.dataUrl}}" class="imagen-thumb"> <td class="text-bold">{{file.name}} <td class="small">{{(file.size / 1000000) | number:1 }}MB <td><span ng-show="file.porcentaje==undefined" class="type">Hay problemas</span> <div value="file.porcentaje" type="primary" ng-class="{active: file.isUploading()}" class="progress-xs progress-striped progress"></div> <div ng-class="type &amp;&amp; \'progress-bar-\' + type" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" ng-style="{width: percent + \'%\'}" aria-valuetext="100%" style="width: 100%" class="progress-bar progress-bar-primary"></div>  <td><span ng-click="file.cancel()" role="button" tabindex="0" class="btn btn-xs btn-danger fa fa-times"></span>   </table> </div> </div> </div><span ng-if=" subirImagenes == \'tomar\' "> <div style="margin-bottom: 40px" class="row"> <div class="col-lg-4 col-sm-6"> <ng-camera capture-message="Sonrie!" output-height="320" output-width="426" crop-height="320" crop-width="426" image-format="jpeg" jpeg-quality="100" action-message="Tomar foto" snapshot="vm.picture" flash-fallback-url="/images/webcam.swf" shutter-url="/sounds/shutter.mp3" style="display: inline-block"></ng-camera> </div> <div class="col-lg-7 col-sm-6"> <div class="row"> <div class="col-lg-12 col-sm-12"> <image ng-src="{{vm.picture}}"></image> </div> </div> <div class="row"> <div class="col-lg-12 col-sm-12"> <md-button ng-show="vm.picture" type="button" ng-click="uploadFoto()" aria-label="guardar foto" class="md-raised">Guardar foto</md-button> </div> </div> </div> </div></span> </div> </div> <div class="row hidden-print"> <div style="max-height: 700px; overflow-y: scroll" class="col-lg-12"> <table style="background: #fff" class="table table-bordered table-condensed table-responsive table-hover"> <thead> <tr> <th class="col-sm-2">  <th class="col-sm-2">Imagen <th>Nombre   <tbody> <tr ng-repeat="file in imagenes"> <td style="padding: 0px; text-align: center"> <div class="btn-group"> <button ng-click="borrarImagen(file)" class="btn btn-xs btn-danger fa fa-times"> <md-tooltip>Eliminar imagen</md-tooltip> </button> <button ng-click="asignToUser($event, file)" class="btn btn-xs btn-info fa fa-angle-double-right"> Asignar <md-tooltip>Asinar imagen a usuario</md-tooltip> </button> <button ngclipboard data-clipboard-text="{{imagesPath + file.nombre}}" ngclipboard-success="onCopySuccess(e);" ngclipboard-error="onCopyError(e);" class="btn btn-xs btn-info fa fa-copy"> <md-tooltip>Copiar ruta absoluta de la imagen</md-tooltip> </button> </div>  <td style="padding: 0px"> <img ng-src="{{imagesPath + file.nombre}}" style="width:40px;height:40px" class="imagen-thumb"> <td style="padding: 0px" class="text-bold"> {{file.nombre}}   </table> </div> </div> <div style="margin-bottom: 100px" class="row hidden-print"> <div class="col-lg-12"> <div class="panel panel-default panel-hovered mb20"> <div class="panel-heading">Mis imágenes</div> <div class="panel-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <form ng-submit="pedirCambioUsuario(dato.imgUsuario)"> <div class="form-group"> <label>Imagen de usuario</label> <ui-select ng-model="dato.imgUsuario" on-select="imagenSelect($item, $model)" theme="select2" style="min-width: 200px"> <ui-select-match placeholder="Imagen usuario"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> <input type="submit" ng-submit="pedirCambioUsuario(dato.imgUsuario)" value="Cambiar perfil" class="btn btn-primary shiny"> </div> </form> <form ng-submit="cambiarLogo(dato.imgLogo)" ng-show="hasRoleOrPerm(\'admin\')"> <div class="form-group"> <label>Logo del evento actual</label> <ui-select ng-model="dato.imgLogo" on-select="imagenSelect($item, $model)" theme="select2" style="min-width: 200px"> <ui-select-match placeholder="Logo del evento actual"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> <input type="submit" value="Cambiar logo" class="btn btn-primary shiny"> </div> </form> </div> </div> </div> </div> </div> </div>'),a.put("views/fileManager/removeImage.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-8 col-xs-12 text-center"><img ng-src="{{imagesPath+imagen.nombre}}" style="width:200px; height:200px" class="img-thumbnail"></div> <div class="col-lg-4 col-xs-12"><span ng-show="datos_imagen.de_usuario.length &gt; 0"> <h5>Usuario:</h5> <ul> <li ng-repeat="de_usuario in datos_imagen.de_usuario"> <span>{{ de_usuario.username }}</span></li> </ul></span></div> </div> <div class="row"> <div class="col-lg-6 col-xs-12"> <div style="text-overflow: ellipsis">{{imagen.nombre}}</div> <h5> <span>Imagen subida por </span><span ng-show="imagen.user_id == User.id">mí.</span><span ng-hide="imagen.user_id == User.id">{{ imagen.user_id }}.</span></h5> </div> </div> </div> <div class="modal-footer"><span ng-show="(datos_imagen.de_usuario.length == 0 &amp;&amp; datos_imagen.oficiales == 0) || hasRoleOrPerm([\'admin\']) "> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button></span><span ng-hide="(datos_imagen.de_usuario.length == 0 &amp;&amp; datos_imagen.oficiales == 0) || hasRoleOrPerm([\'admin\']) ">Imagen asignada. no se puede borrar.</span> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/grupopreg/asignarGrupo.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Seleccione la evaluación a la que desea asignar esta pregunta</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta: {{pregunta.id}}</h4> <md-radio-group ng-model="selected"> <md-radio-button ng-repeat="evaluacion in evaluaciones" ng-value="evaluacion.id">{{evaluacion.descripcion}} ({{evaluacion.id}})</md-radio-button> </md-radio-group> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> <md-button ng-click="ok()" ng-disabled="asignando || !selected" class="md-primary md-raised">Asignar<i class="fa fa-check"></i></md-button> </div>'),a.put("views/grupopreg/editContenidoDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="height: 40px" class="panel-heading"><span> Editar en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="margin-left: 5px; margin-top: 0px; margin-right: 5px"> <md-select multiple placeholder="Idioma" ng-model="idiomaPreg"> <md-option ng-repeat="idioma in evento_actual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> </div> <div class="panel-body"> <form name="frm" role="form" ng-submit="finalizarEdicion()" class="form-horizontal"> <!-- Se muestra cuando aún no han cargado las traducciones--> <div ng-if="contenidoEdit.contenidos_traducidos.length &gt; 0" ng-repeat="contenido in contenidoEdit.contenidos_traducidos | porIdiomasEdit:idiomaPreg" ng-class-odd="\'fondo-odd\'" ng-class-even="\'fondo-even\'"><a md-ink-ripple class="btn-tag btn-tag-info">Contenido en {{contenido.idioma}}</a> <div class="definicion-preg"> <div text-angular ta-toolbar-group-class="btn-group btn-group-xs" ng-model="contenido.definicion"></div> </div> </div> <!-- Se muestra cuando ya cargaron--><span ng-if="!contenidoEdit.contenidos_traducidos"> <div class="definicion-preg"> <div text-angular ta-toolbar-group-class="btn-group btn-group-xs" ng-model="contenidoEdit.definicion"></div> </div></span><br> <md-button type="button" ng-click="finalizarEdicion()" class="md-raised md-primary right"> <md-tooltip>Guardar y finalizar edición</md-tooltip>Finalizar </md-button> <md-button type="button" ng-click="aplicarCambios()" aria-label="Aplicar" class="md-raised md-default right"> <md-tooltip>Guardar y continuar editando</md-tooltip>Aplicar </md-button> <md-button type="button" ng-click="cerrarEdicion()" aria-label="Cerrar" class="md-raised md-default right"> <md-tooltip>Cerrar edición</md-tooltip>Cerrar </md-button> </form> </div> </div>'),a.put("views/grupopreg/editPreguntaAgrupDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="height: 40px" class="panel-heading"><a href="" ng-click="mostrarConfig()" ng-show="!mostrarConfiguracion">Configurar</a><a href="" ng-click="mostrarConfig()" ng-show="mostrarConfiguracion">Ocultar</a></div> <div class="panel-body"> <form name="frm" role="form" ng-submit="finalizarEdicion()" class="form-horizontal"> <div ng-show="mostrarConfiguracion" layout layout-margin layout-wrap layout-padding> <md-input-container flex="40" class="margintb0 paddingtb0"> <label>Duración</label> <input type="number" ng-model="pregagrup.duracion"> <md-tooltip>En segundos. Solo para la gran final</md-tooltip> </md-input-container> <md-input-container flex="20" class="margintb0 paddingtb0"> <label>Puntos</label> <input type="number" ng-model="pregagrup.puntos"> <md-tooltip>Solo aplica si la evaluación es por puntos y no por promedio.</md-tooltip> </md-input-container> <md-input-container flex="30" layout="row" layout-align="start center" style="margin-top:-20px; height: 50px" class="margintb0 paddingtb0"> <md-select placeholder="Tipo pregunta" ng-model="pregagrup.tipo_pregunta" ng-change="cambiaTipoPregunta()" style="min-width: 150px"> <md-option>Test</md-option> <md-option>Multiple</md-option> <md-option>Texto</md-option> <md-option>Lista</md-option> <md-option>Ordenar</md-option> <!--md-option() Cuadrícula // No aplica para pregunta_king, sino para grupos_preguntas--> </md-select> </md-input-container> <div flex="50" style="margin-top:-10px" class="form-group"> <md-checkbox ng-model="pregagrup.aleatorias" ng-true-value="1" ng-false-value="0" aria-label="Opciones aleatorias">Opciones aleatorias</md-checkbox> <md-tooltip>No importará el orden en que ordene las opciones. Siempre saldrán aleatoriamente.</md-tooltip> </div> </div> <div class="definicion-preg"> <div text-angular ta-toolbar-group-class="btn-group btn-group-xs" ng-model="pregagrup.enunciado"></div> <div layout layout-sm="column"> <md-input-container flex> <label>Texto ayuda</label> <input type="text" ng-model="pregagrup.ayuda"> </md-input-container> </div> <div ui-sortable="sortableOptions" ng-model="pregagrup.opciones" class="opcionesedit"> <md-input-container flex ng-repeat="opcion in pregagrup.opciones | orderBy:\'orden\'" class="input-group margintb0 paddingtb0"> <label ng-show="!opcion.nueva"><i class="fa fa-sort"> </i>Opción {{$index+1}}:</label> <input type="text" ng-model="opcion.definicion" ng-class="{ \'textblue\':opcion.is_correct, \'add-opcion\':opcion.nueva }" ng-focus="addButtonNewOpcion(pregagrup, opcion)" ng-disable="opcion.creando" class="form-control"><span ng-show="!opcion.nueva" class="input-group-btn"> <md-button type="button" aria-label="Quitar" ng-click="deleteOption(pregagrup, opcion)" class="md-icon-button md-warn"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar opción</md-tooltip> </md-button> <md-button type="button" ng-class="{ 1:\'md-mini md-fab md-primary\', 0:\'\'}[opcion.is_correct]" aria-label="Correcta" ng-click="setAsCorrect(pregagrup, opcion)" class="md-icon-button"> <md-icon class="fa fa-check"></md-icon> <md-tooltip>Respuesta correcta</md-tooltip> </md-button></span> </md-input-container> </div><br> </div> <md-button type="button" ng-click="finalizarEdicion()" class="md-raised md-primary right"> <md-tooltip>Guardar y finalizar edición</md-tooltip>Finalizar </md-button> <md-button type="button" ng-click="aplicarCambios()" aria-label="Aplicar" class="md-raised md-default right"> <md-tooltip>Guardar y continuar editando</md-tooltip>Aplicar </md-button> <md-button type="button" ng-click="cerrarEdicion()" aria-label="Cerrar" class="md-raised md-default right"> <md-tooltip>Cerrar edición</md-tooltip>Cerrar </md-button> </form> </div> </div>'),a.put("views/grupopreg/removeGrupo.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Grupo en idiomaId: ({{grupoking.idioma_id}}): </h4><span ng-bind-html="grupoking.definicion" flex="90"></span> <h5>Id: {{grupoking.pg_id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/grupopreg/removePreguntaAgrup.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Códig Pregunta {{preg_agrup.pg_id}}: </h4><span ng-bind-html="preg_agrup.enunciado" flex="90"></span> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/grupopreg/viewGrupoDir.tpl.html",'<!--div(ng-repeat="contenido in grupoking.contenidos_traducidos" ng-class-odd="\'fondo-gris-odd\'")--> <md-whiteframe layout layout-wrap style="padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5" style="font-weight: bold">{{ $index+1}}.</span><span ng-bind-html="pg_pregunta.definicion" flex="95"></span> <div layout="row" class="btn-container-edit"> <md-button aria-label="Editar" ng-click="editarGrupo(pg_pregunta)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar contenido</md-tooltip> </md-button> <md-button ng-click="addNewPregunta(pg_pregunta)" aria-label="Nueva pregunta" ng-disabled="creandoGrupoPreg" class="md-fab md-success md-mini"> <md-icon class="fa fa-plus"></md-icon> <md-tooltip>Nueva pregunta</md-tooltip> </md-button> <md-menu style="padding:0"> <md-button aria-label="Opciones del contenido" ng-click="$mdOpenMenu($event)" class="md-icon-button"> <md-icon md-menu-origin class="fa fa-align-justify"></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="eliminarContenido(pg_pregunta)"> <md-icon md-menu-align-target class="fa fa-trash"></md-icon>Eliminar contenido </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="asignarAEvaluacion(pg_pregunta)"> <md-icon class="fa fa-clipboard"></md-icon>Asignar a Evaluación </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="asignarExamen()"> <md-icon class="fa fa-eye"></md-icon>notifications </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> <div ng-repeat="pregunta_agrup in pg_pregunta.pregs_agrupadas" flex="100"> <div ng-if="!pregunta_agrup.editando"> <md-whiteframe layout style="margin-left: 20px; padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{$index+1}}.</span><span ng-bind-html="pregunta_agrup.enunciado" flex="95"></span> <div ng-show="pregunta_agrup.ayuda &amp;&amp; pregunta_agrup.showDetail" ng-click="toggleMostrarAyuda(pregunta_agrup)" ng-class="{\'ayuda-preg-showed\': pregunta_agrup.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta_agrup.mostrar_ayuda}"><a ng-show="!pregunta_agrup.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta_agrup.mostrar_ayuda">{{pregunta_agrup.ayuda}}</span></div> <div layout="row" class="btn-container-edit-pregagrup"> <md-button ng-click="editarPreguntaAgrup(pregunta_agrup)" class="md-primary md-icon-button md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar</md-tooltip> </md-button> <md-button ng-click="eliminarPreguntaAgrup(pregunta_agrup, pg_pregunta)" class="md-warn md-icon-button md-mini"> <md-icon class="fa fa-trash"></md-icon> <md-tooltip>Eliminar</md-tooltip> </md-button> <md-button aria-label="Preview" ng-click="previewPreguntaAgrup(pregunta_agrup)" class="md-icon-button md-mini"> <md-icon class="fa fa-eye"></md-icon> <md-tooltip>Preview</md-tooltip> </md-button> </div> </md-whiteframe><span ng-show="pregunta_agrup.showDetail || showOptions"> <md-list ng-if="pregunta_agrup.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pregunta_agrup.opciones | filter:{id: \'!-1\'} "> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p>{{ opcion.definicion }}</p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <div layout="row" layout-wrap layout-fill ng-if="pregunta_agrup.tipo_pregunta==\'Test\'" style="padding-bottom: 32px" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida, \'correcta-revelada\':opcion.is_correct &amp;&amp; showCorrects}" ng-if="!opcion.nueva" flex="40" ng-click="elegirOpcion(pregunta_agrup, opcion)" ng-repeat="opcion in pregunta_agrup.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span>{{ opcion.definicion }}</span></md-whiteframe> </div></span> </div> <edit-pregunta-agrupada pregagrup="pregunta_agrup" ng-if="pregunta_agrup.editando"></edit-pregunta-agrupada> </div> </md-whiteframe> <edit-contenido grupoking="grupoking" ng-show="grupoking.editando" eventoactual="eventoactual" idiomaactualselec="idiomaactualselec"></edit-contenido>'),a.put("views/grupopreg/viewGrupoEvalDir.tpl.html",'<md-whiteframe layout layout-wrap style="padding: 10px" ng-class-odd="\'fondo-gris-odd\'" class="md-whiteframe-z2 definicion-frame"><span flex="5" style="font-weight: bold">{{ $parent.$parent.$index+1}}.</span><span ng-bind-html="grupoking.definicion" flex="95"></span> <div layout="row" style="margin-left: -50px" class="btn-container-edit"> <md-button aria-label="Quitar grupo" ng-click="quitarPregunta(grupoking)" class="md-icon-button md-mini"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar</md-tooltip> </md-button> </div> <div ng-repeat="pregunta_agrup in grupoking.pregs_agrupadas" flex="100"> <div> <md-whiteframe layout style="margin-left: 20px; padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{$index+1}}.</span><span ng-bind-html="pregunta_agrup.enunciado" flex="95"></span></md-whiteframe> </div> </div> </md-whiteframe>'),a.put("views/informes/informes.tpl.html",'<div class="row hidden-print"> <div class="col-lg-12"> <div class="panel panel-default panel-hovered mb20"> <div class="panel-heading">Informes</div> <div class="panel-body"> <md-content style="overflow: visible"> <md-tabs md-selected="config.informe_tab_actual" md-dynamic-height md-border-bottom> <md-tab label="Exámenes" md-selected="config.tab_seleccionado" md-on-select="tabSeleccionado(0)"> <md-content style="overflow-y: visible; height: 800px" class="md-padding"> <md-select placeholder="Elija un evento" ng-model="selected.evento_id" ng-change="cargar_entidades_categorias()"> <md-option ng-repeat="event in eventos_infor" ng-value="event.id">Evento: <b>{{event.nombre}} ({{event.alias}})</b></md-option> </md-select> <md-checkbox ng-model="config.gran_final" aria-label="Gran final">Solo exámenes hechos en \'Gran final\'</md-checkbox> <div style="text-align: center"> <md-button ng-click="traerTodosLosExamenes()" class="md-raised">Traer todos los exámenes</md-button> </div> <!-- Select Entidades--> <div class="row"> <div class="col-sm-12 col-md-12"> <div> <md-checkbox ng-model="config.todas_entidades" style="margin-bottom: 5px; font-size: 9pt" aria-label="Todas las entidades">Todas las entidades </md-checkbox> </div> <select multiple ng-disabled="config.todas_entidades" ng-model="selected.entidades" style="width: 100%; height: 150px; font-size: 9pt"> <option ng-repeat="entidad in selected.evento.entidades" ng-value="{{entidad.id}}">{{entidad.nombre}} </select> </div> </div> <div style="text-align: center"> <md-button ng-click="traerTodosLosExamenesPorEntidades()" class="md-raised">Todos por entidades</md-button> </div><br> <!-- Select Categorías--> <div class="row"> <div class="col-sm-4 col-md-4"> <div md-tooltip="La evaluación actual de cada categoría"> <md-checkbox ng-model="config.todas_categorias" style="margin-bottom: 5px; font-size: 9pt" aria-label="Todas las categorías">Todas las categorías </md-checkbox> </div> <select multiple ng-disabled="config.todas_categorias" ng-model="selected.categorias" style="width: 150px; height: 150px; font-size: 9pt"> <option ng-repeat="categoria in selected.categorias_cargadas" ng-click="cargar_evaluaciones(categoria)" ng-value="{{categoria.id}}">{{categoria.nombre}} </select> </div> <div ng-hide="config.todas_categorias || selected.categoria_id.length &gt; 1" style="padding-left: 0px" class="col-sm-8 col-md-8"> <div style="height: 26px; font-size: 9pt; padding-top: 5px">Elija evaluación: </div> <div class="div-lista"> <div ng-repeat="evaluacion in selected.evaluaciones" ng-click="cargar_preguntas(evaluacion, $index)" ng-class="{\'opcion-seleccionada\': evaluacion.selected}"> <span ng-hide="evaluacion.actual">{{ ($index+1) + \'. \' + evaluacion.descripcion }}</span><span ng-show="evaluacion.actual">{{ ($index+1) }}. <b> ACTUAL: </b> {{ evaluacion.descripcion }}</span></div> </div> </div> </div> <!--\n                select(multiple="true" style="width: 250px; height: 150px; font-size: 9pt; overflow: scroll")\n                	option(ng-repeat="pregunta in selected.preguntas" ng-model="selected.pregunta_id" \n                		ng-click="cmdClickPreguntaSelected(pregunta, $index)" ng-bind-html="($index+1) + \'. \' + pregunta.enunciado") \n                \n                \n                \n                \n                \n                \n                \n                --> <md-button ng-click="traerExamenesEntidadesCategorias()" class="md-raised">Por entidades-categorías</md-button> <md-button ng-click="traerExamenesCategorias()" class="md-raised">Por categorías</md-button> <form> <div style="width: 300px;margin-top: 15px" class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="fa fa-search"></i></div> <input type="text" placeholder="Buscar" ng-model="searchExam" style="border-top: 1px solid #ccc; border-right: 1px solid #ccc" class="form-control"> </div> </div> </form> </md-content> </md-tab> <md-tab label="Usuarios" md-selected="config.tab_seleccionado" md-on-select="tabSeleccionado(1)"> <md-content style="overflow-y: visible; height: 600px" class="md-padding"> <md-select placeholder="Elija un evento" ng-model="selected.evento_id" ng-change="cargar_entidades_categorias()"> <md-option ng-repeat="event in eventos_infor" ng-value="event.id">Evento: <b>{{event.nombre}} ({{event.alias}})</b></md-option> </md-select> <!-- Select Entidades--> <div class="row"> <div class="col-sm-12 col-md-12"> <div> <md-checkbox ng-model="config.todas_entidades" style="margin-bottom: 5px; font-size: 9pt" aria-label="Todas las entidades">Todas las entidades </md-checkbox> </div> <select multiple ng-disabled="config.todas_entidades" ng-model="selected.entidades" style="width: 100%; height: 150px; font-size: 9pt"> <option ng-repeat="entidad in selected.evento.entidades" ng-value="{{entidad.id}}">{{entidad.nombre}} </select> </div> </div> <div style="text-align: center"> <md-button ng-click="traerTodosLosExamenesPorEntidades()" class="md-raised">Todos por entidades</md-button> </div><br> <!-- Select Categorías--> <div class="row"> <div class="col-sm-4 col-md-4"> <div md-tooltip="La evaluación actual de cada categoría"> <md-checkbox ng-model="config.todas_categorias" style="margin-bottom: 5px; font-size: 9pt" aria-label="Todas las categorías">Todas las categorías </md-checkbox> </div> <select multiple ng-disabled="config.todas_categorias" ng-model="selected.categorias" style="width: 150px; height: 150px; font-size: 9pt"> <option ng-repeat="categoria in selected.categorias_cargadas" ng-click="cargar_evaluaciones(categoria)" ng-value="{{categoria.id}}">{{categoria.nombre}} </select> </div> </div> <md-button ng-click="traerExamenesEntidadesCategorias()" class="md-raised">Por entidades-categorías</md-button> <md-button ng-click="traerExamenesCategorias()" class="md-raised">Por categorías</md-button> <md-button ng-click="traerIncritosEnt()" class="md-raised">Ver inscritos</md-button> <form> <div style="width: 300px;margin-top: 15px" class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="fa fa-search"></i></div> <input type="text" placeholder="Buscar" ng-model="searchExam" style="border-top: 1px solid #ccc; border-right: 1px solid #ccc" class="form-control"> </div> </div> </form> </md-content> </md-tab> </md-tabs> </md-content> <hr class="wide"> <h5>Orientación de la página:</h5> <div class="control-group"> <div class="radio"> <label> <input type="radio" ng-model="config.orientacion" value="oficio_horizontal"> <div class="text">Oficio Horizontal</div> </label> </div> <div class="radio"> <label> <input type="radio" ng-model="config.orientacion" value="carta_horizontal"> <div class="text">Carta horizontal</div> </label> </div> <div class="radio"> <label> <input type="radio" ng-model="config.orientacion" value="vertical"> <div class="text">Vertical</div> </label> </div> </div> <hr class="wide"> <h5>{{descripcion_informe}}</h5> </div> </div> </div> </div> <div ui-view="report_content" class="informes-pages page-wrap margen0"> <h5 style="text-align: center">Aquí saldrán tus reportes</h5> </div>'),
a.put("views/informes/popoverEntidadInfo.tpl.html",'<div><img ng-src="{{perfilPath + examen.logo_nombre}}" alt="Imagen de entidad" style="width: 100px; height: 100px"><br>Entidad: <b>{{examen.alias_entidad}}</b></div>'),a.put("views/informes/puestosDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20 mr--15-sm ml--15-sm"> <div class="panel-heading"> Puestos </div> <div class="panel-body"> <md-checkbox ng-model="gran_final" aria-label="Gran final">Gran final</md-checkbox> <md-button ng-click="traerTodosLosExamenes()" class="md-raised">Traer todos</md-button> <md-button ng-click="traerExamenesEntidades()" class="md-raised">Por entidades</md-button> <md-button ng-click="traerExamenesEntidadesCategorias()" class="md-raised">Por entidades-categorías</md-button> <md-button ng-click="traerExamenesCategorias()" class="md-raised">Por categorías</md-button> <md-button ng-click="traerExamenesCategoria()" class="md-raised">Traer categoría</md-button> <form> <div style="width: 300px;margin-top: 15px" class="form-group"> <div class="input-group"> <div class="input-group-addon"><i class="fa fa-search"></i></div> <input type="text" placeholder="Buscar" ng-model="searchExam" style="border-top: 1px solid #ccc; border-right: 1px solid #ccc" class="form-control"> </div> </div> </form> <div ng-if="mostrando==\'todos\'" class="puestos-table-content"> <table class="table table-striped table-hover table-bordered"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Ent <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Malas <md-tooltip>Incorrectas</md-tooltip>  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <img ng-src="{{ imagesPath + examen.imagen_nombre }}" style="width: 25px">{{ examen.nombres + \' \' + examen.apellidos }} <td> <img ng-src="{{ imagesPath + examen.logo_nombre }}" style="width: 25px">{{ examen.alias_entidad }} <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.cantidad_pregs - examen.resultados.correctas }} <md-tooltip>Incorrectas</md-tooltip>  <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> <div ng-if="mostrando==\'por_entidades\'" class="puestos-table-content"> <div ng-repeat="entidad in entidades"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block" class="md-whiteframe-z2 definicion-frame"> <h3 class="center"><img ng-src="{{ imagesPath + entidad.logo_nombre }}" style="width: 35px"> {{ entidad.nombre_entidad }} - {{ entidad.alias_entidad }} <md-tooltip>{{ entidad.lider_nombre }}</md-tooltip> </h3> </md-whiteframe> <table class="table table-striped table-hover table-bordered"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Malas <md-tooltip>Incorrectas</md-tooltip>  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in entidad.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <img ng-src="{{ imagesPath + examen.imagen_nombre }}" style="width: 25px">{{ examen.nombres + \' \' + examen.apellidos }} <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.cantidad_pregs - examen.resultados.correctas }} <md-tooltip>Incorrectas</md-tooltip>  <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1, entidad)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> </div> <div ng-if="mostrando==\'por_entidades_categorias\'" class="puestos-table-content"> <div ng-repeat="entidad in entidades"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block" class="md-whiteframe-z2 definicion-frame"> <h3 class="center"><img ng-src="{{ imagesPath + entidad.logo_nombre }}" style="width: 35px"> {{ entidad.nombre_entidad }} - {{ entidad.alias_entidad }} <md-tooltip>{{ entidad.lider_nombre }}</md-tooltip> </h3> </md-whiteframe> <div ng-repeat="categoria in entidad.categorias" ng-init="sortType = \'promedio\'; sortReverse = true"> <h4 style="margin-top: 10px" class="center"> {{ categoria.nombre_categ }} - {{ categoria.abrev_categ }} <md-tooltip>{{ categoria.descripcion_categ }}</md-tooltip> </h4> <table class="table table-striped table-hover table-bordered"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Malas <md-tooltip>Incorrectas</md-tooltip>  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in categoria.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <img ng-src="{{ imagesPath + examen.imagen_nombre }}" style="width: 25px">{{ examen.nombres + \' \' + examen.apellidos }} <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.cantidad_pregs - examen.resultados.correctas }} <md-tooltip>Incorrectas</md-tooltip>  <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1, entidad)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> </div> </div> <div ng-if="mostrando==\'por_categorias\'" class="puestos-table-content"> <div ng-repeat="categoria in categorias" ng-init="sortType = \'promedio\'; sortReverse = true"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block" class="md-whiteframe-z2 definicion-frame"> <h3 class="center">{{ categoria.nombre_categ }} - {{ categoria.abrev_categ }} <md-tooltip>{{ categoria.descripcion_categ }}</md-tooltip> </h3> </md-whiteframe> <table class="table table-striped table-hover table-bordered"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Ent <th> <a href="" ng-click="sortType = \'categorias\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categorias\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categorias\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Malas <md-tooltip>Incorrectas</md-tooltip>  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <!--tr(ng-repeat="examen in categoria.examenes | filter:searchExam | orderBy:sortType:sortReverse" )--> <tr ng-repeat="examen in categoria.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <img ng-src="{{ imagesPath + examen.imagen_nombre }}" style="width: 25px">{{ examen.nombres + \' \' + examen.apellidos }} <td> <img ng-src="{{ imagesPath + examen.logo_nombre }}" style="width: 25px">{{ examen.alias_entidad }} <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.cantidad_pregs - examen.resultados.correctas }} <md-tooltip>Incorrectas</md-tooltip>  <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> </div> </div> </div>'),a.put("views/informes/seguroEliminExam.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Eliminar examen</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>¿Seguro que deseas eliminar el examen de <u> {{examen.nombres + \' \' + examen.apellidos}} </u> , categoría: <u> {{ examen.nombre_categ }} </u> ? </h4> </div> </div> </div> <div class="modal-footer"> <button ng-click="cancel()" class="btn btn-default">No</button> <button ng-click="ok()" class="btn btn-danger">Eliminar <i class="fa fa-times"></i></button> </div>'),a.put("views/informes/verExamenesPorEntCateg.tpl.html",'<div style="margin-bottom: 20px" class="row hidden-print"> <textarea ng-model="texto_informativo" ng-model-options="{ updateOn: \'blur\' }" style="width: 100%; height: 100px" ng-change="cambia_texto_informativo()"></textarea> </div> <div ng-class="{\'page-carta-horizontal\': config.orientacion==\'carta_horizontal\', \'page-oficio-horizontal\': config.orientacion==\'oficio_horizontal\',\'page-vertical\': config.orientacion==\'vertical\', \'salto-pagina\': $parent.$last==false }" class="row body"> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0 text-center"> <h2 style="margin-top: 5px; margin-bottom: 0px">Exámenes por Entidades - Categorías</h2> </div> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0"> <div ng-repeat="entidad in entidades"> <h3 style="margin-top: 0px; margin-bottom: 0px" class="text-center">{{$parent.selected.evento.nombre}} ({{ $parent.selected.evento.alias }})</h3> <hr style="margin: 0"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block; page-break-after: always; padding-top: 0px" class="md-whiteframe-z2 definicion-frame"> <h4 style="margin-bottom: 0px" class="center"><img ng-src="{{ imagesPath + entidad.logo_nombre }}" style="width: 35px"> {{ entidad.nombre_entidad }} - {{ entidad.alias_entidad }} <md-tooltip>{{ entidad.lider_nombre }}</md-tooltip> </h4> <div ng-repeat="categoria in entidad.categorias" ng-init="sortType = \'promedio\'; sortReverse = true"> <h5 style="margin-top: 0px" class="center"> {{ categoria.nombre_categ }} - {{ categoria.abrev_categ }} <md-tooltip>{{ categoria.descripcion_categ }}</md-tooltip> </h5> <table style="width: 100%; margin-bottom: 10px" class="table-bordered table-bordered2 table-striped table-striped2"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> Pregs  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in categoria.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <div uib-popover-template="views+\'usuarios/popoverUsuarioInfo.tpl.html\'" popover-title="{{examen.nombres + \' \' + examen.apellidos}}" popover-trigger="\'mouseenter\'" popover-popup-delay="500" class="ellipsis200 usuario-listado"> {{ examen.nombres + \' \' + examen.apellidos }} </div>  <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam hidden-print"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1, entidad)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> <h5 style="margin-top: 0px" class="center"> FINALISTAS <table style="width: 100%" class="table-bordered table-bordered2 table-striped table-striped2"> <thead> <th style="padding-right: 15px" class="center"> No  <th style="padding-right: 15px" class="center"> <a href="">Categ</a> <th class="center"> <a href="">Participante</a> <th class="center"> <a href="">Fecha</a> <md-tooltip>Fecha realizado</md-tooltip>  <th class="center"> <a href="">Tiempo</a> <md-tooltip>Duración del examen</md-tooltip>  <th class="center"> Pregs  <th class="center">Buenas <md-tooltip>Correctas</md-tooltip>  <th class="center"> <a href="">Puntaje</a>  <tbody> <tr ng-repeat="examen in entidad.finalistas"> <td style="font-size: 7pt" class="center">{{ $index +1 }} <td style="font-size: 7pt" class="center">{{ examen.abrev_categ }} <td class="center"> <div class="ellipsis200 usuario-listado"> {{ examen.nombres + \' \' + examen.apellidos }} </div>  <td style="font-size: 7pt" class="center">{{ examen.examen_at }} <td style="font-size: 7pt" class="center">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td class="center">{{ examen.resultados.cantidad_pregs }} <td class="center">{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="center td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam hidden-print"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1, entidad)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </h5> <div style="border: 1px solid #ccc; padding: 10px; font-size: 14pt"><span ng-bind-html="texto_informativo" style="border: 0px; width: 100%" class="center"></span></div> </md-whiteframe> </div> </div> </div>'),a.put("views/informes/verExamenesPorEntidades.tpl.html",'<div ng-class="{\'page-carta-horizontal\': config.orientacion==\'carta_horizontal\', \'page-oficio-horizontal\': config.orientacion==\'oficio_horizontal\',\'page-vertical\': config.orientacion==\'vertical\', \'salto-pagina\': $parent.$last==false }" class="row body"> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0 text-center"> <h2>Exámenes por entidad</h2> <h3>{{$parent.selected.evento}}</h3> </div> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0"> <div ng-repeat="entidad in entidades"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block" class="md-whiteframe-z2 definicion-frame"> <h3 class="center"><img ng-src="{{ imagesPath + entidad.logo_nombre }}" style="width: 35px"> {{ entidad.nombre_entidad }} - {{ entidad.alias_entidad }} <md-tooltip>{{ entidad.lider_nombre }}</md-tooltip> </h3> </md-whiteframe> <table class="table table-striped table-hover table-bordered"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Malas <md-tooltip>Incorrectas</md-tooltip>  <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in entidad.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <img ng-src="{{ imagesPath + examen.imagen_nombre }}" style="width: 25px">{{ examen.nombres + \' \' + examen.apellidos }} <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.cantidad_pregs - examen.resultados.correctas }} <md-tooltip>Incorrectas</md-tooltip>  <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1, entidad)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> </div> </div>'),a.put("views/informes/verTodosLosExamenes.tpl.html",'<div ng-class="{\'page-carta-horizontal\': config.orientacion==\'carta_horizontal\', \'page-oficio-horizontal\': config.orientacion==\'oficio_horizontal\',\'page-vertical\': config.orientacion==\'vertical\', \'salto-pagina\': $parent.$last==false }" class="row body"> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0 text-center"> <h2 style="margin-top: 5px; margin-bottom: 0px">Exámenes por Entidades - Categorías</h2> <h3 style="margin-top: 0px; margin-bottom: 0px">{{$parent.selected.evento.nombre}} ({{ $parent.selected.evento.alias }})</h3> <hr> </div> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0"> <table class="table-bordered table-bordered2 table-striped table-striped2"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Ent <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <div uib-popover-template="views+\'usuarios/popoverUsuarioInfo.tpl.html\'" popover-title="{{examen.nombres + \' \' + examen.apellidos}}" popover-trigger="\'mouseenter\'" popover-popup-delay="500" class="ellipsis200 usuario-listado"> {{ examen.nombres + \' \' + examen.apellidos }} </div>  <td> <div uib-popover-template="views+\'informes/popoverEntidadInfo.tpl.html\'" popover-title="{{examen.nombre_entidad}}" popover-trigger="\'mouseenter\'" popover-popup-delay="500" style="width: 80px" class="ellipsis200 usuario-listado"> {{ examen.alias_entidad }} </div>  <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </div> </div>'),
a.put("views/informes/verTodosLosExamenesPorEnt.tpl.html",'<div ng-class="{\'page-carta-horizontal\': config.orientacion==\'carta_horizontal\', \'page-oficio-horizontal\': config.orientacion==\'oficio_horizontal\',\'page-vertical\': config.orientacion==\'vertical\', \'salto-pagina\': $parent.$last==false }" class="row body"> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0 text-center"> <h2 style="margin-top: 5px; margin-bottom: 0px">TODOS los Exámenes por Entidades</h2> <h3 style="margin-top: 0px; margin-bottom: 0px">{{$parent.selected.evento.nombre}} ({{ $parent.selected.evento.alias }})</h3> <hr> </div> <div class="col-lg-12 col-sm-12 col-xs-12 marg-pad-0"> <div ng-repeat="entidad in entidades"> <md-whiteframe layout style="padding: 10px; margin: 15px; display: block" class="md-whiteframe-z2 definicion-frame"> <h4 class="center"><img ng-src="{{ imagesPath + entidad.logo_nombre }}" style="width: 35px"> {{ entidad.nombre_entidad }} - {{ entidad.alias_entidad }} <md-tooltip>{{ entidad.lider_nombre }}</md-tooltip> </h4> <table class="table-bordered table-bordered2 table-striped table-striped2"> <thead> <th style="padding-right: 15px"> <a href="" ng-click="sortType = \'examen_id\'; sortReverse = !sortReverse">Id<span ng-show="sortType == \'examen_id\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_id\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Código de examen</md-tooltip>  <th style="padding-right: 15px"> No <md-tooltip>Indice</md-tooltip>  <th> <a href="" ng-click="sortType = \'nombres\'; sortReverse = !sortReverse">Participante<span ng-show="sortType == \'nombres\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'nombres\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th> <a href="" ng-click="sortType = \'categoria\'; sortReverse = !sortReverse">Categ<span ng-show="sortType == \'categoria\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'categoria\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Categoría</md-tooltip>  <th> <a href="" ng-click="sortType = \'examen_at\'; sortReverse = !sortReverse">Fecha<span ng-show="sortType == \'examen_at\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'examen_at\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Fecha realizado</md-tooltip>  <th> <a href="" ng-click="sortType = \'tiempo\'; sortReverse = !sortReverse">Tiempo<span ng-show="sortType == \'tiempo\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'tiempo\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <md-tooltip>Duración del examen</md-tooltip>  <th> <a href="" ng-click="sortType = \'cantidad_pregs\'; sortReverse = !sortReverse">Pregs<span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'cantidad_pregs\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a> <th>Buenas <md-tooltip>Correctas</md-tooltip>  <th> <a href="" ng-click="sortType = \'promedio\'; sortReverse = !sortReverse">Puntaje<span ng-show="sortType == \'promedio\' &amp;&amp; !sortReverse" class="fa fa-caret-down"></span><span ng-show="sortType == \'promedio\' &amp;&amp; sortReverse" class="fa fa-caret-up"></span></a>  <tbody> <tr ng-repeat="examen in entidad.examenes | filter:searchExam | orderObjectBy:sortType:sortReverse"> <td style="font-size: 7pt">{{ examen.examen_id }} <td style="font-size: 7pt">{{ $index +1 }} <md-tooltip>Orden</md-tooltip>  <td> <div uib-popover-template="views+\'usuarios/popoverUsuarioInfo.tpl.html\'" popover-title="{{examen.nombres + \' \' + examen.apellidos}}" popover-trigger="\'mouseenter\'" popover-popup-delay="500" class="ellipsis200 usuario-listado"> {{ examen.nombres + \' \' + examen.apellidos }} </div>  <td>{{ examen.abrev_categ }} <td style="font-size: 7pt">{{ examen.examen_at }} <td style="font-size: 7pt">{{ examen.resultados.tiempo | secondsToDateTime:true }} <td>{{ examen.resultados.cantidad_pregs }} <td>{{ examen.resultados.correctas }} <md-tooltip>Correctas</md-tooltip>  <td class="td-contenedora">{{ examen.resultados.promedio | decimales_if:1 }}% <div class="menu-puesto-exam"> <div class="btn-group"><a href="" ng-click="mostrarPuesto(examen, $index +1)" class="btn btn-default btn-xs"><i class="fa fa-child"></i> <md-tooltip>Mostrar en pantalla</md-tooltip></a><a href="" ng-click="eliminarExamen(examen)" class="btn btn-danger btn-xs"><i class="fa fa-times"></i> <md-tooltip>Eliminar examen</md-tooltip></a></div> </div>    </table> </md-whiteframe> </div> </div> </div>'),a.put("views/login/login.tpl.html",'<div class="page page-auth"><span ng-show="in_evento_actual.mostrar_nombre_punto"> <div ng-hide="editando_nombre_punto" class="row"> <div id="nombre_punto" ng-click="editarNombrePunto($event)" class="col-md-12"> <div ng-bind-html=" in_evento_actual.ip " class="titulo-3d"></div> </div> </div> <div style="margin-bottom: 50px" ng-show="editando_nombre_punto" class="auth-container"> <div class="form-container"> <form ng-submit="guardarNombrePunto()" class="form-horizontal"> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Nombre de equipo</label> <input type="text" ng-model="in_evento_actual.ip"> <md-tooltip> Ingresa un nombre fácil de identificar</md-tooltip> </md-input-container> </form> <div ng-show="bring_registered_boolean()"> <h4 style="text-align: center; background-color: #d4d4ff">Registrado</h4> <md-button ng-click="desregistrar()">Desregistrar <md-tooltip>Que ya no sea equipo oficial</md-tooltip> </md-button> </div> <div ng-hide="bring_registered_boolean()"> <h4 style="text-align: center; color: red">NO Registrado</h4> <md-button ng-click="registrar()">Registrar <md-tooltip>Registrar como equipo oficial</md-tooltip> </md-button> </div> </div> </div></span> <div class="auth-container"> <div class="form-head mb20"> <h1 class="site-logo h2 mb5 mt5 text-center text-uppercase text-bold"><a href="">Wissen <span ng-show="!MySocket.readyState() &amp;&amp; in_evento_actual.gran_final" style="color: red"> <icon style="font-size: 30px" class="fa fa-warning"></icon> <md-tooltip>Desconectado del chat...</md-tooltip></span><span ng-show="MySocket.readyState()"> <icon style="font-size: 30px" class="fa fa-fighter-jet"></icon> <md-tooltip>Conectado al chat</md-tooltip></span></a></h1> <h5 class="text-normal h5 text-center">Pon a prueba tu conocimiento</h5> </div> <div class="form-container"> <form ng-submit="login()" class="form-horizontal"> <md-input-container flex-gt-sm style="padding-bottom: 0px" class="md-block"> <label>Nombre de usuario</label> <input type="text" ng-model="credentials.username" name="usuario"> <md-tooltip> Ingresa tu nombre de usuario</md-tooltip> </md-input-container> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Password</label> <input type="password" ng-model="credentials.password" name="password"> <md-tooltip> Ingresa tu password</md-tooltip> </md-input-container> <div ng-if="false" class="clearfix"> <div class="ui-checkbox ui-checkbox-primary right"> <label> <input type="checkbox"><span>Remember me</span> </label> </div> </div> <div class="btn-group btn-group-justified mb15"> <div class="btn-group"> <button type="button" ng-click="entrar_como_invitado()" class="btn btn-facebook"><span class="fa fa-smile-o"> Soy invitado</span></button> </div> <div class="btn-group"> <button type="submit" class="btn btn-success">Entrar</button> </div> </div> <div ng-show="false" class="clearfix mb15"><a href="" ng-click="recuperar_password()" class="text-success small">¿Olvidaste cómo ingresar?</a></div> </form> <div class="clearfix text-center small"> <p>Modificar <a href="" ng-click="mostrar_modificar_servidor()"> el equipo servidor</a></p> <form ng-submit="guardar_servidor()" ng-show="modificando_servidor" class="form-horizontal"> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Equipo servidor</label> <input type="text" ng-model="dominio"> <md-tooltip> Ingresa el equipo principal, el servidor Apache y de Base de datos</md-tooltip> </md-input-container> <div class="btn-group btn-group-justified mb15"> <div class="btn-group"> <button type="button" ng-click="borrar_servidor()" class="btn btn-default"><span class="fa fa-eraser"> Borrar</span></button> </div> <div class="btn-group"> <button type="submit" class="btn btn-purple"><span class="fa fa-check"> Aplicar</span></button> </div> </div> </form> </div> <div class="clearfix text-center small"> <h4 ng-show="bring_registered_boolean()">Registrado</h4> <h4 ng-hide="bring_registered_boolean()" style="color: red">NO Registrado</h4> </div> </div> </div> <div style="margin-top: 150px; max-width: 450px;padding-left: 0px;padding-right: 0px" class="auth-container"><span ng-show="SocketClientes.usuarios_all.length == 0"> <div class="form-head mb20"> <h1 class="site-logo h2 mb5 mt5 text-center text-uppercase text-bold"><a href="">Código QR</a></h1> <h5 class="text-normal h5 text-center">Escanea este código desde un dispositivo con privilegios:</h5> </div> <div style="text-align: center" class="form-container"> <qr text="in_evento_actual.qr" size="300" ng-if="in_evento_actual.qr"></qr> </div></span><span ng-show="SocketClientes.usuarios_all.length &gt; 0"> <section> <md-subheader class="md-primary">Usuarios <md-input-container flex class="filtrarusuario"> <label>Filtrar</label> <input type="text" ng-model="filtro"> </md-input-container> <button type="button" ng-click="ingresar_seleccionado()" class="btn btn-primary">Ingresar</button> </md-subheader> <md-list class="md-dense"> <md-list-item ng-repeat="usuario in SocketClientes.usuarios_all | filter:filtro | orderBy:\'nombres\' " ng-click="seleccionarUsu(usuario)" class="md-2-line"><img ng-src="{{imagesPath + usuario.imagen_nombre}}" alt="{{usuario.username}}" class="md-avatar"> <div class="md-list-item-text"> <h3>{{ ($index+1) + \'. \' + usuario.nombres + \' \' + usuario.apellidos}}</h3> <h4>{{ usuario.nombre_entidad }}</h4> </div> <md-checkbox ng-model="usuario.seleccionado" ng-click="seleccionarCkUsu(usuario)" aria-label="Seleccionado" class="md-secondary"></md-checkbox> </md-list-item> </md-list> </section></span></div> </div>'),a.put("views/login/passwordNombrePunto.tpl.html",'<md-dialog aria-label="Contraseña" ng-cloak> <form ng-submit="validar(pass)"> <md-dialog-content> <div class="md-dialog-content"> <h4>Se requiere contraseña para proseguir</h4> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Contraseña</label> <input type="password" ng-model="pass"> <md-tooltip> Contraseña alterna del evento actual</md-tooltip> </md-input-container> </div> </md-dialog-content> <md-dialog-actions layout="row"> <md-button ng-click="cancelar()">Cancelar</md-button> <md-button type="submit">Continuar</md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("views/login/password_nombre_punto.tpl.html",'<md-dialog aria-label="Contraseña" ng-cloak> <form ng-submit="validar(pass)"> <md-dialog-content> <div class="md-dialog-content"> <h4>Se requiere contraseña para proseguir</h4> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Contraseña</label> <input type="password" ng-model="pass"> <md-tooltip> Contraseña alterna del evento actual</md-tooltip> </md-input-container> </div> </md-dialog-content> <md-dialog-actions layout="row"> <md-button ng-click="cancelar()">Cancelar</md-button> <md-button type="submit">Continuar</md-button> </md-dialog-actions> </form> </md-dialog>'),a.put("views/main/landing.tpl.html",'<style>.lead {\n      font-size: 18px;\n      font-weight: 400;\n  }\n  \n  .intro-header {\n      padding-top: 50px; /* If you\'re making other pages, make sure there is 50px of padding to make sure the navbar doesn\'t overlap content! */\n      padding-bottom: 50px;\n      text-align: center;\n      color: #f8f8f8;\n      background: url(http://localhost/wissenLaravel/public/images/system/landing/intro-bg.jpg) no-repeat center center;\n      background-size: cover;\n  }\n  \n  .intro-message {\n      position: relative;\n      padding-top: 20%;\n      padding-bottom: 20%;\n  }\n  \n  .intro-message > h1 {\n      margin: 0;\n      text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n      font-size: 5em;\n  }\n  \n  .intro-divider {\n      width: 400px;\n      border-top: 1px solid #f8f8f8;\n      border-bottom: 1px solid rgba(0,0,0,0.2);\n  }\n  \n  .intro-message > h3 {\n      text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n  }\n  \n  @media(max-width:767px) {\n      .intro-message {\n          padding-bottom: 15%;\n      }\n  \n      .intro-message > h1 {\n          font-size: 3em;\n      }\n  \n      ul.intro-social-buttons > li {\n          display: block;\n          margin-bottom: 20px;\n          padding: 0;\n      }\n  \n      ul.intro-social-buttons > li:last-child {\n          margin-bottom: 0;\n      }\n  \n      .intro-divider {\n          width: 100%;\n      }\n  }\n  \n  .network-name {\n      text-transform: uppercase;\n      font-size: 14px;\n      font-weight: 400;\n      letter-spacing: 2px;\n  }\n  \n  .content-section-a {\n      padding: 50px 0;\n      background-color: #f8f8f8;\n  }\n  \n  .content-section-b {\n      padding: 50px 0;\n      border-top: 1px solid #e7e7e7;\n      border-bottom: 1px solid #e7e7e7;\n  }\n  \n  .section-heading {\n      margin-bottom: 30px;\n  }\n  \n  .section-heading-spacer {\n      float: left;\n      width: 200px;\n      border-top: 3px solid #e7e7e7;\n  }\n  \n  .banner {\n      padding: 100px 0;\n      color: #f8f8f8;\n      background: url(http://localhost/wissenLaravel/public/images/system/landing/banner-bg.jpg) no-repeat center center;\n      background-size: cover;\n  }\n  \n  .banner h2 {\n      margin: 0;\n      text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n      font-size: 3em;\n  }\n  \n  .banner ul {\n      margin-bottom: 0;\n  }\n  \n  .banner-social-buttons {\n      float: right;\n      margin-top: 0;\n  }\n  \n  @media(max-width:1199px) {\n      ul.banner-social-buttons {\n          float: left;\n          margin-top: 15px;\n      }\n  }\n  \n  @media(max-width:767px) {\n      .banner h2 {\n          margin: 0;\n          text-shadow: 2px 2px 3px rgba(0,0,0,0.6);\n          font-size: 3em;\n      }\n  \n      ul.banner-social-buttons > li {\n          display: block;\n          margin-bottom: 20px;\n          padding: 0;\n      }\n  \n      ul.banner-social-buttons > li:last-child {\n          margin-bottom: 0;\n      }\n  }\n  \n  footer {\n      padding: 50px 0;\n      background-color: #f8f8f8;\n  }\n  \n  p.copyright {\n      margin: 15px 0 0;\n  }</style> <!-- Navigation--> <nav role="navigation" class="navbar navbar-default navbar-fixed-top topnav"> <div class="container topnav"> <!-- Brand and toggle get grouped for better mobile display--> <div class="navbar-header"> <button type="button" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" class="navbar-toggle"><span class="sr-only">Toggle navigation</span><span class="icon-bar"> </span><span class="icon-bar"> </span><span class="icon-bar"></span></button><a href="./Landing Page - Start Bootstrap Theme_files/Landing Page - Start Bootstrap Theme.html" class="navbar-brand topnav">Start Bootstrap</a> </div> <!-- Collect the nav links, forms, and other content for toggling--> <div id="bs-example-navbar-collapse-1" class="collapse navbar-collapse"> <ul class="nav navbar-nav navbar-right"> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#about">About</a></li> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#services">Services</a></li> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#contact">Contact</a></li> </ul> </div> </div> </nav><a name="about"> </a> <div class="intro-header"> <div class="container"> <div class="row"> <div class="col-lg-12"> <div class="intro-message"> <h1>Landing Page </h1> <h3>A Template by Start Bootstrap </h3> <hr class="intro-divider"> <ul class="list-inline intro-social-buttons"> <li><a href="https://twitter.com/SBootstrap" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i><span class="network-name">Twitter</span></a></li> <li><a href="https://github.com/IronSummitMedia/startbootstrap" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i><span class="network-name">Github</span></a></li> <li><a href="./Landing Page - Start Bootstrap Theme_files/Landing Page - Start Bootstrap Theme.html" class="btn btn-default btn-lg"><i class="fa fa-linkedin fa-fw"></i><span class="network-name">Linkedin</span></a></li> </ul> </div> </div> </div> </div> </div><a name="services"> <div class="content-section-a"> <div class="container"> <div class="row"> <div class="col-lg-5 col-sm-6"> <hr class="section-heading-spacer"> <div class="clearfix"> </div> <h2 class="section-heading">Death to the Stock Photo:<br>Special Thanks </h2> <p class="lead">A special thanks to <a target="_blank" href="http://join.deathtothestockphoto.com/">Death to the Stock Photo</a> for providing the photographs that you see in this template. Visit their website to become a member.</p> </div> <div class="col-lg-5 col-lg-offset-2 col-sm-6"><img src="http://localhost/wissenLaravel/public/images/system/landing/ipad.png" alt="" class="img-responsive"></div> </div> </div> </div> <div class="content-section-b"> <div class="container"> <div class="row"> <div class="col-lg-5 col-lg-offset-1 col-sm-push-6 col-sm-6"> <hr class="section-heading-spacer"> <div class="clearfix"></div> <h2 class="section-heading">3D Device Mockups<br>by PSDCovers</h2> <p class="lead">Turn your 2D designs into high quality, 3D product shots in seconds using free Photoshop actions by <a target="_blank" href="http://www.psdcovers.com/">PSDCovers</a>! Visit their website to download some of their awesome, free photoshop actions!</p> </div> <div class="col-lg-5 col-sm-pull-6 col-sm-6"><img src="http://localhost/wissenLaravel/public/images/system/landing/dog.png" alt="" class="img-responsive"></div> </div> </div> </div> <div class="content-section-a"> <div class="container"> <div class="row"> <div class="col-lg-5 col-sm-6"> <hr class="section-heading-spacer"> <div class="clearfix"></div> <h2 class="section-heading">Google Web Fonts and<br>Font Awesome Icons </h2> <p class="lead">This template features the &apos;Lato&apos; font, part of the <a target="_blank" href="http://www.google.com/fonts">Google Web Font library, as well as </a><a target="_blank" href="http://fontawesome.io/">icons from Font Awesome</a></p> </div> <div class="col-lg-5 col-lg-offset-2 col-sm-6"><img src="http://localhost/wissenLaravel/public/images/system/landing/phones.png" alt="" class="img-responsive"></div> </div> </div> </div><a name="contact"></a> <div class="banner"> <div class="container"> <div class="row"> <div class="col-lg-6"> <h2>Connect to Start Bootstrap:</h2> </div> <div class="col-lg-6"> <ul class="list-inline banner-social-buttons"> <li><a href="https://twitter.com/SBootstrap" class="btn btn-default btn-lg"><i class="fa fa-twitter fa-fw"></i><span class="network-name">Twitter</span></a></li> <li><a href="https://github.com/IronSummitMedia/startbootstrap" class="btn btn-default btn-lg"><i class="fa fa-github fa-fw"></i><span class="network-name">Github</span></a></li> <li><a href="./Landing Page - Start Bootstrap Theme_files/Landing Page - Start Bootstrap Theme.html" class="btn btn-default btn-lg"><i class="fa fa-linkedin fa-fw"></i><span class="network-name">Linkedin</span></a></li> </ul> </div> </div> </div> </div> <footer> <div class="container"> <div class="row"> <div class="col-lg-12"> <ul class="list-inline"> <li><a href="./Landing Page - Start Bootstrap Theme_files/Landing Page - Start Bootstrap Theme.html">Home</a></li> <li class="footer-menu-divider">&sdot;</li> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#about">About</a></li> <li class="footer-menu-divider">&sdot;</li> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#services">Services</a></li> <li class="footer-menu-divider">&sdot;</li> <li><a href="http://ironsummitmedia.github.io/startbootstrap-landing-page/#contact">Contact</a></li> </ul> <p class="copyright text-muted small">Copyright &copy; Your Company 2014. All Rights Reserved</p> </div> </div> </div> </footer></a>'),a.put("views/main/main.tpl.html",'<h1>Bienvenido a Wissen</h1> <md-button ui-sref="login">Loguear...</md-button> <md-button ui-sref="panel">Panel</md-button>'),a.put("views/panel/chatContainerDir.tpl.html",'<div class="row pane-chat-tile-container"> <div class="col-md-12 pane-chat-msgs"> <div class="message-container"> <div class="pane-chat-tile"></div> <div class="message-list"> <div ng-repeat="mensaje in SocketClientes.mensajes" class="msg"> <div ng-class="{\'message-in\': mensaje.from.user_data.id!=$parent.$parent.USER.id, \'message-out\': mensaje.from.user_data.id==$parent.$parent.USER.id}" class="message-chat"> <div ng-show="mensaje.from.user_data.id!=$parent.$parent.USER.id" class="message-author"> <div class="pointer">{{ mensaje.from.user_data.nombres }} {{ mensaje.from.user_data.apellidos }} </div> </div> <div class="message-text"> <div class="emojitext selectable-text"> {{ mensaje.texto }} </div> </div> <div class="message-meta"> <div ng-show="mensaje.from.user_data.entidad.nombre" class="message-entidad">{{ mensaje.from.user_data.entidad.nombre }}</div><img ng-src="{{ imagesPath + mensaje.from.user_data.entidad.logo}}" class="message-entilogo"> </div> </div> </div> </div> </div> <div class="message-form"> <form ng-submit="enviarMensaje()"> <div class="row"> <div class="col-lg-10 col-md-9 col-sm-9 col-xs-12"> <md-input-container flex-gt-sm style="margin-bottom: -20px; padding-bottom: 0px" class="md-block"> <label>Mensaje</label> <input type="text" ng-model="newMensaje"> <md-tooltip> Envía un mensaje</md-tooltip> </md-input-container> </div> <div class="col-lg-1 col-md-2 col-sm-2 col-xs-12"> <md-button aria-label="Enviar" type="submit" style="min-width:95%;  top: 7px" class="md-raised">Enviar</md-button> </div> </div> </form> </div> </div> </div>'),a.put("views/panel/header.tpl.html",'<ul class="list-unstyled left-elems"> <!-- nav trigger/collapse--> <li><a href="" ng-click="toggleNav()" class="nav-trigger fa fa-bars"></a></li> <!--  Search box --> <!-- li\n  .form-search.hidden-xs\n  	form#site-search(action="na")\n  		input.form-control(type="search" placeholder="Type here for search...")\n  		button.fa.fa-searchf(type="submit")\n  \n  \n  --> <!-- site-logo for mobile nav--> <li> <div class="site-logo visible-xs"><a ui-sref="panel" class="text-uppercase h3"><span class="text">Wissen</span></a></div> </li> <!-- fullscreen--> <li ng-click="goFullScreen()" class="fullscreen hidden-xs"><a href="" ng-click="reload(setFullScreen())"><i class="fa fa-arrows-alt"></i> <md-tooltip>Ver en pantalla completa</md-tooltip></a></li> <!-- notification drop--> <li dropdown="" ng-if="hasRoleOrPerm(\'admin\', \'tecnico\', \'profesor\')" class="notify-drop hidden-xs dropdown"> <md-menu><a href="" ng-click="openMenu($mdOpenMenu, $event)"><i class="fa fa-laptop"></i><span ng-bind=" evento_actual.alias"></span></a> <md-menu-content style="margin-top: 40px" width="3"> <md-menu-item ng-repeat="evento in USER.eventos"> <md-button ng-click="set_user_event(evento)"><span ng-class="(evento.id==USER.evento_selected_id) ? \'bg-primary\': \'bg-success\' " class="fa fa-laptop left icono-submenu"></span> <div class="desc"><strong>{{ evento.nombre }}</strong> <p ng-show="evento.actual" style="color: #3f51b5; font-weight: bold" class="small text-muted">Actual</p> </div> </md-button><a href="" ng-click="set_system_event(evento)" style="color: #fff; width: 60px; margin-top: 10px; height: 30px;line-height: 25px" ng-hide="evento.actual" class="right btn btn-xs btn-purple">Actual <md-tooltip>Establecer como evento actual</md-tooltip></a> </md-menu-item> </md-menu-content> </md-menu> </li> <!-- Idiomas--> <li dropdown="" class="notify-drop hidden-xs dropdown"> <md-menu><a href="" ng-click="openMenu($mdOpenMenu, $event)"><i class="fa fa-flag-checkered"></i></a> <md-menu-content style="margin-top: 40px" width="3"> <md-menu-item ng-repeat="idioma in idiomas_usados"> <md-button ng-click="cambiarIdioma(idioma)"><span ng-class="(idioma.actual) ? \'bg-primary\': \'bg-success\' " class="fa fa-flag left icono-submenu"></span> <div class="desc"><strong>{{idioma.original}} ({{idioma.abrev}}) - {{idioma.nombre}}</strong> <p ng-show="idioma.actual" class="small text-muted">Actual</p> </div> </md-button> </md-menu-item> </md-menu-content> </md-menu> </li> </ul> <ul class="list-unstyled right-elems ng-scope"> <li dropdown="" style="padding-right: 8px" class="profile-drop hidden-xs dropdown"> <md-menu> <a href="" ng-click="openMenu($mdOpenMenu, $event)"><img ng-src="{{imagesPath + USER.imagen_nombre}}" alt="{{USER.username}}" class="imagen-perfil"></a> <md-menu-content style="margin-top: 40px" width="3"> <md-menu-item> <md-button ng-click="ctrl.redial($event)"><a ui-sref="panel.perfil" style="color: currentColor"><i style="font-size: 16px; margin-right: 8px" class="fa fa-user"></i>Perfil</a></md-button> </md-menu-item> <md-menu-item> <md-button> <!--md-icon.fa(md-font-icon="fa-image" )--><a ui-sref="panel.filemanager()" style="color: currentColor"><i style="font-size: 16px; margin-right: 8px" class="fa fa-image"></i>Imágenes</a> </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="logout()"><i style="font-size: 16px; margin-right: 8px" class="fa fa-sign-out"></i>{{ \'SALIR\' | translate }}</md-button> </md-menu-item> </md-menu-content> </md-menu> </li> <li class="profile-drop hidden-xs dropdown"><a href="" ng-click="logout()" style="color: #fff"><i ng-bind-html="(\'SALIR\' | translate)" class="fa fa-sign-out"> </i></a></li> <li ng-class="{\'open\': floatingSidebar}" ng-if="hasRoleOrPerm(\'admin\')" class="floating-sidebar"><a href="" ng-click="toggleFloatingSidebar()"><i class="fa fa-th"></i> <md-tooltip>Exportar datos</md-tooltip></a> <div style="width: 450px; overflow-y: auto" class="sidebar-wrap ps-container ps-active-y"> <md-content> <md-tabs md-dynamic-height md-border-bottom md-autoselect> <md-tab> <md-tab-label>Exportar</md-tab-label> <md-tab-body> <div class="chat-tab clearfix"> <h5 style="padding-left: 10px" class="title mt0">Elija rango de fechas</h5> <div class="row"> <div style="padding-right: 0px; margin-left: 5px" class="col-xs-4"> <p class="xsmall">Fecha inicial</p> </div> <div style="padding: 0px" class="col-xs-7"> <input type="datetime-local" ng-model="dataExport.fecha_ini" style="max-width: 210px"> </div> </div> <div class="row"> <div style="padding-right: 0px; margin-left: 5px" class="col-xs-4"> <p class="xsmall">Fecha final</p> </div> <div style="padding: 0px" class="col-xs-7"> <input type="datetime-local" ng-model="dataExport.fecha_fin" style="max-width: 210px"> </div> </div> <div style="margin-top: 5px" class="row"> <button ng-click="cargarExamenesExport()" style="float: right; margin-right: 30px" class="btn btn-primary"> Ver exámenes </button> </div> </div> <div class="info-tab clearfix"> <h5 style="padding-left: 10px" class="title mt0 mb30">Participantes</h5> <div ng-repeat="participante in export_participantes" style="margin-left: 10px" class="clearfix mb15"> <div class="left"> <div>{{ ($index+1) + \'. \' + participante.nombres + \' \' + participante.apellidos }} ({{ participante.alias_entidad }})</div> </div> <div class="right"> <div class="ui-toggle ui-toggle-success ui-toggle-xs"> <label> <input type="checkbox" ng-model="participante.exportar" ng-true-value="1" ng-false-value="0"><span></span> </label> </div> </div><br><span ng-repeat="examen in participante.examenes" style="margin-left: 15px">{{examen.abrev_categ}} <!--.progress-xs.progress.ng-isolate-scope(value=\'80\', type=\'primary\')\n                    .progress-bar.progress-bar-primary(ng-class="type && \'progress-bar-\' + type", role=\'progressbar\', aria-valuenow=\'80\', aria-valuemin=\'0\', aria-valuemax=\'100\', ng-style="{width: percent + \'%\'}" aria-valuetext=\'80%\' style=\'width: 80%;\')\n                    \n                    --></span> </div> </div> <div class="info-tab clearfix"> <h5 style="padding-left: 10px" class="title mt0 mb30">Exportar</h5> <div style="margin-top: 5px" class="row"> <button ng-click="exportarArchivo()" style="float: right; margin-right: 30px" class="btn btn-primary"> Exportar a archivo </button> </div> </div> </md-tab-body> </md-tab> <md-tab> <md-tab-label>Importar</md-tab-label> <md-tab-body> <hr> <div>Copie aquí el texto del archivo exportado:</div> <textarea ng-model="datos_json" style="min-height: 450px; overflow: auto; font-size: 8pt" class="form-control"></textarea> <div class="clearfix"> <input type="button" ng-click="cargar_datos_json(datos_json)" style="float: right; margin-right: 30px" value="Verificar..." class="btn btn-primary"> </div> <hr> <div ng-show="array_usuarios.length &gt; 0" class="info-tab clearfix"> <h5 style="padding-left: 10px" class="title mt0 mb30">Hay nombres de usuario repetidos:</h5> <div style="text-align: center" class="clearfix mb15"> <div style="width: 49%; font-weight: bold" class="left">Ya en base de datos:</div> <div style="width: 49%; margin-left: 5px; border-left: 1px solid #ccc; font-weight: bold" class="left">A importar:</div> </div> <div ng-repeat="comparativa in array_usuarios" style="margin-left: 10px" class="clearfix mb15"> <div style="width: 49%" class="left"> <div class="left"> <div>{{ ($index+1) + \'. \' + comparativa.en_db.nombres + \' \' + comparativa.en_db.apellidos }} ({{ comparativa.en_db.alias_entidad }}) - <b> {{comparativa.en_db.username}}</b></div> </div><br><span ng-repeat="examen in comparativa.en_db.examenes" style="margin-left: 15px">{{examen.abrev_categ}}</span> </div> <div style="width: 49%; margin-left: 5px; border-left: 1px solid #ccc" class="left"> <div class="left"> <div>{{ ($index+1) + \'. \' + comparativa.a_importar.nombres + \' \' + comparativa.a_importar.apellidos }} ({{ comparativa.a_importar.alias_entidad }}) - <b> {{comparativa.a_importar.username}}</b></div> </div><br><span ng-repeat="examen in comparativa.a_importar.examenes" style="margin-left: 15px">{{examen.abrev_categ}}</span> </div> </div> </div> <div class="info-tab clearfix"> <h5 style="padding-left: 10px" class="title mt0 mb30">Importar</h5> <div style="margin-top: 5px" class="row"> <div style="margin-left: 25px">{{ array_usuarios_import.length }} usuarios a importar</div> <button ng-click="importarDatos()" style="float: right; margin-right: 30px" class="btn btn-primary"> Importar datos creando usuarios y modificando repetidos </button> </div> <div style="margin-bottom: 20px" class="clearfix"></div> </div> </md-tab-body> </md-tab> </md-tabs> </md-content> </div> </li> </ul>'),a.put("views/panel/nav.tpl.html",'<div class="nav-head"> <!-- site logo--><a href="" ng-click="toggleNav()" class="site-logo text-uppercase"><i class="fa fa-globe"></i><span class="text">Wissen</span></a> </div> <!-- Site nav (vertical) --> <nav role="navigation" class="site-nav clearfix"> <div ng-if="!hasRoleOrPerm(\'admin\', \'tecnico\', \'profesor\')" class="container-entidad clearfix mb15"><img ng-src="{{ imagesPath + USER.entidad.logo}}" alt="{{USER.username}}" class="img-thumbnail img-entidad"> <md-tooltip>{{USER.entidad.nombre}}</md-tooltip> </div> <div class="profile clearfix mb15"><img ng-src="{{imagesPath + USER.imagen_nombre}}" alt="{{USER.username}}"> <div class="group"> <h5 class="name">{{USER.nombres}}</h5><small class="desig">{{USER.apellidos}}</small> </div> </div> <!-- navigation--> <ul highlight-active="" class="list-unstyled clearfix nav-list mb15"> <li ng-class="{active: $state.is(\'panel\') }"><a href="" ui-sref="panel" md-ink-ripple=""><i class="fa fa-home"></i><span class="text">{{ \'INICIO_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\'])"><a href="" ui-sref="panel.eventos" md-ink-ripple=""><i class="fa fa-laptop"></i><span class="text">{{ \'EVENTS_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\'])"><a href="" ui-sref="panel.categorias" md-ink-ripple=""><i class="fa fa-map-marker"></i><span class="text">{{ \'CATEGS_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'Asesor\'])"><a href="" ui-sref="panel.entidades" md-ink-ripple=""><i class="fa fa-bank"></i><span class="text">{{ \'ENTIDADES_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'profesor\'])"><a href="" ui-sref="panel.preguntas" md-ink-ripple=""><i class="fa fa-question"></i><span class="text">{{ \'PREGUNTAS_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\'])"><a href="" ui-sref="panel.evaluaciones" md-ink-ripple=""><i class="fa fa-clipboard"></i><span class="text">{{ \'EVALUACIONES_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'Asesor\'])"><a href="" ui-sref="panel.usuarios" md-ink-ripple=""><i class="fa fa-users"></i><span class="text">{{ \'USERS_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'Asesor\', \'profesor\'])"><a href="" ui-sref="panel.control" md-ink-ripple=""><i class="fa fa-desktop"></i><span class="text">{{ \'CONTROL_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'Asesor\', \'profesor\'])"><a href="" ui-sref="panel.informes" md-ink-ripple=""><i class="fa fa-print"></i><span class="text">{{ \'INFORMES_MENU\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="hasRoleOrPerm([\'admin\', \'Asesor\', \'profesor\'])"><a href="" ui-sref="qrscanner" md-ink-ripple=""><i class="fa fa-camera"></i><span class="text">{{ \'SCANNER_MENU\' | translate }}</span></a></li> <li><a href="" ng-click="logout()" md-ink-ripple=""><i class="fa fa-sign-out"></i><span class="text">{{ \'SALIR\' | translate }}</span></a></li> <li ui-sref-active="active" ng-if="false"><a href="" md-ink-ripple=""><i class="fa fa-asterisk"></i><span class="text">Construcción</span><i class="arrow fa fa-angle-left"></i><span class="badge badge-xs badge-primary">2</span></a> <ul class="inner-drop nested list-unstyled"> <li> <a href="" md-ink-ripple="">Font Awesome</a></li> <li> <a href="" md-ink-ripple="">Ionicons</a></li> </ul> </li> </ul> </nav><!-- nav-foot --> <footer class="nav-foot"> <p>2015 © <span>Wissen</span></p> </footer>'),
a.put("views/panel/panel.tpl.html",'<header id="site-head" ng-class="{\'fixedHeader\': fixedHeader}" ng-include=" \'views/panel/header.tpl.html\' " style="z-index: 90" class="hidden-print site-head fixedHeader"></header> <!-- main-container--> <div ng-class="{\'nav-expand\': navFull, \'nav-horizontal\': navHorizontal}" class="main-container clearfix nav-expand"> <aside id="site-nav" ng-class="{\'nav-expand\': navFull, \'nav-offcanvas\': navOffCanvas}" custom-scrollbar="" ng-include=" \'views/panel/nav.tpl.html\' " style="overflow-y: scroll" class="hidden-print nav-wrap ps-container nav-expand ps-active-y"> <div class="nav-head"></div> </aside> <div ng-class="{\'nav-expand\': navFull, \'fixedHeader\': fixedHeader}" id="content" class="content-container fixedHeader"> <div class="page page-dashboard"> <div ui-view="contenido_panel" class="page-wrap"> <iniciar-dir></iniciar-dir> <chat-container-dir></chat-container-dir> </div> </div> </div><!-- settings --> <!--.site-settings.clearfix.hidden-xs(ng-class="{\'open\': isSettingsOpen}")\n  .settings.clearfix\n  	.trigger.ion.ion-settings.left(ng-click="toggleSettingsBox()" role="button" tabindex="0")\n  	.wrapper.left\n  		ul.list-unstyled.other-settings\n  			li.clearfix.mb10\n  				.left.small Nav Horizontal\n  				md-switch.right.md-default-theme(aria-label="Mensajito" ng-model="navHorizontal" style="margin: 0" ng-change="onNavHorizontal()" role="checkbox")\n  					.md-container\n  						.md-bar\n  						.md-thumb-container \n  						.md-thumb(md-ink-ripple="" md-ink-ripple-checkbox="")\n  					.md-label\n  		hr\n  		ul.themes.list-unstyled\n  			li(ng-class="{active: theme-zero}" ng-model="themeModel" btn-radio="\'theme-zero\'" ng-change="onThemeChange(themeModel)" tabindex="0" aria-invalid="false")\n  --> </div>'),a.put("views/perfil/perfil.tpl.html",'<div class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading">Cambiar contraseña</div> <div class="panel-body"> <form ng-submit="cambiarPass(newpass, newpassverif, passantiguo)"> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Contraseña anterior</label> <input type="text" ng-model="passantiguo"> <md-tooltip>Ingresa tu contraseña anterior</md-tooltip> </md-input-container> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Contraseña</label> <input type="text" ng-model="newpass"> <md-tooltip>Ingresa tu nueva contraseña</md-tooltip> </md-input-container> <md-input-container flex-gt-sm style="margin-bottom: 0px" class="md-block"> <label>Ingrésala otra vez</label> <input type="text" ng-model="newpassverif"> <md-tooltip>Repítela</md-tooltip> </md-input-container> <md-button type="submit" ng-enabled="!status.passCambiado">Cambiar</md-button> </form> </div> </div> </div> </div>'),a.put("views/preguntas/addPreguntaDir.tpl.html",'<md-button ng-click="addNewPregunta()" ng-disabled="creando" class="md-raised md-primary"> <md-tooltip>{{ \'TIP_BTN_NUEVA_PREGUNTA\' | translate }}</md-tooltip>{{ \'BTN_NUEVA_PREGUNTA\' | translate }} </md-button> <md-button ng-click="addNewPreguntaGrupo()" ng-disabled="creando" class="md-raised md-primary"> <md-tooltip>Para crear cuadrículas o preguntas basadas en un contenido común.</md-tooltip>Nuevo grupo preguntas </md-button>'),a.put("views/preguntas/asignarPregunta.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Seleccione el examen al que desea asignar esta pregunta</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta: {{pregunta.preguntas_traducidas[0].idioma}}</h4> <md-radio-group ng-model="selected"> <md-radio-button ng-repeat="evaluacion in evaluaciones" ng-value="evaluacion.id">{{evaluacion.descripcion}} ({{evaluacion.id}})</md-radio-button> </md-radio-group> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> <md-button ng-click="ok()" ng-disabled="asignando || !selected" class="md-primary md-raised">Asignar<i class="fa fa-check"></i></md-button> </div>'),a.put("views/preguntas/asignarPreguntasRandom.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Asignar preguntas a la Evaluación</h3> </div> <div class="modal-body"> <div ng-hide="examenes.length == 0" class="row"> <div class="col-lg-12 col-xs-12"> <h3 class="alert alert-danger">¡Cuidado! YA existen exámenes realizado en esta evaluación</h3> <div style="max-height: 200px; overflow: scroll; border: solid 1px #ccc"> <div ng-repeat="exam in examenes"><span>{{ exam.usuario.nombres + \' \' + exam.usuario.apellidos }}. </span><span><b> Correctas: </b>{{ exam.puntajes.correctas }} de {{ exam.puntajes.cantidad_pregs }}. <b> Puntos: </b>{{ exam.puntajes.promedio }}</span></div> </div> </div> </div> <div class="row"> <div class="col-lg-12 col-xs-12"> <form name="asignar-aleatoriamente"> <div flex="50" style="margin-top:10px" class="form-group"> <md-checkbox ng-model="pregNoAsignadas" aria-label="Opciones aleatorias">Usar preguntas NO asignadas</md-checkbox> <md-tooltip>Usar preguntas que NO estén asignadas a otras evaluaciones</md-tooltip> </div> <md-input-container> <label>Cantidad preguntas</label> <input required type="number" step="any" name="cantidad" ng-model="cantPregRandom" min="0" max="999"> <div ng-messages="asignar-aleatoriamente.cantidad.$error" multiple md-auto-hide="false"> <div ng-message="required">Debes poner un valor</div> </div> </md-input-container> </form> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-success">Asignar preguntas aleatoriamente<i class="btn-label fa fa-check"></i></button> <button ng-click="cancel()" class="btn btn-default">Cancelar</button> </div>'),a.put("views/preguntas/cambiarCategoria.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Cambiar la categoria</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta: {{pregunta.preguntas_traducidas[0].idioma}} - {{pregunta.preguntas_traducidas[0].definicion}}</h4> <md-radio-group ng-model="categoria"><span ng-repeat="catking in categorias"> <md-radio-button ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idiomaPreg.selected" value="{{cat_traduc.categoria_id}}" aria-label="{{cat_traduc.categoria_id}}"> <div ng-bind-html="cat_traduc.nombre"></div> </md-radio-button></span></md-radio-group> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> <md-button ng-click="ok()" ng-disabled="cambiando || !categoria" class="md-primary md-raised">Cambiar<i class="fa fa-check"></i></md-button> </div>'),a.put("views/preguntas/cambiarRutaImagenes.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Cambiar ruta de imágenes en las preguntas.</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <p>Haga backup primero. Esta operación es delicada. Podría dañar no solo las rutas de las imágenes, sino las mimas preguntas.</p> <h4>Ruta anterior:</h4> <input type="text" ng-model="ruta_anterior"> <h4>Ruta nueva:</h4> <input type="text" ng-model="ruta_nueva"><br> <h4>Preguntas con la etiqueta img:</h4> <div style="max-height	:300px; overflow:scroll"> <textarea ng-repeat="preg in preguntas" ng-model="preg.enunciado" class="form-control"></textarea> </div> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-primary">Cambiar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/preguntas/editPregTraducDir.tpl.html",'<a md-ink-ripple ng-if="!pregunta_traduc.is_preg" class="btn-tag btn-tag-info">Pregunta en {{pregunta_traduc.idioma}}</a> <div class="definicion-preg"> <button type="button" ng-click="misImagenes()" style="float: right" class="btn btn-primary fa fa-image btn-xs"> Imágenes...</button> <text-angular-toolbar name="mytoolbar" ta-toolbar-group-class="btn-group btn-group-xs"></text-angular-toolbar> <text-angular ng-model="pregunta_traduc.enunciado" ta-target-toolbars="mytoolbar" ta-show-html="true"></text-angular> <!--div(text-angular ta-toolbar-group-class="btn-group btn-group-xs" ng-model="pregunta_traduc.enunciado")--> <div ng-show="!pregunta_traduc.mostrar_ayuda"><a ng-click="pregunta_traduc.mostrar_ayuda=true" class="pointer"><i class="fa fa-anchor"></i> <md-tooltip>Mostrar ayuda</md-tooltip></a></div> <div layout layout-sm="column" ng-show="pregunta_traduc.mostrar_ayuda"> <md-input-container flex class="txtayuda"> <label>Texto ayuda</label> <input type="text" ng-model="pregunta_traduc.ayuda"> </md-input-container> </div> <div ui-sortable="sortableOptions" ng-model="pregunta_traduc.opciones" class="opcionesedit"> <md-input-container flex ng-repeat="opcion in pregunta_traduc.opciones | orderBy:\'orden\'" class="input-group margintb0 paddingtb0"> <label ng-show="!opcion.nueva"><i class="fa fa-sort"> </i> Opción {{$index+1}}:</label> <!--input.form-control(type="text" ng-model="opcion.definicion" ng-class="{ \'textblue\':opcion.is_correct, \'add-opcion\':opcion.nueva }" \n      ng-focus="addButtonNewOpcion(pregunta_traduc, opcion)" ng-disable="opcion.creando")\n      \n      --> <text-angular ng-model="opcion.definicion" ta-show-html="true" ng-if="!opcion.nueva" ta-target-toolbars="mytoolbar" ng-class="{ \'textblue\':opcion.is_correct }" ng-focus="addButtonNewOpcion(pregunta_traduc, opcion)" ta-text-editor-class="form-control editor-height" ta-html-editor-class="form-control editor-height" ng-disable="opcion.creando"></text-angular> <text-angular ng-model="opcion.definicion" ta-show-html="false" ng-if="opcion.nueva" ta-target-toolbars="mytoolbar" ng-focus="addButtonNewOpcion(pregunta_traduc, opcion)" ta-text-editor-class="form-control editor-height add-opcion" ta-html-editor-class="form-control editor-height add-opcion" ng-disable="opcion.creando"></text-angular><span ng-show="!opcion.nueva" class="input-group-btn"> <md-button type="button" aria-label="Quitar" ng-click="deleteOption(pregunta_traduc, opcion)" class="md-icon-button md-warn"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar opción</md-tooltip> </md-button> <md-button type="button" ng-class="{ 1:\'md-mini md-fab md-primary\', 0:\'\'}[opcion.is_correct]" aria-label="Correcta" ng-click="setAsCorrect(pregunta_traduc, opcion)" class="md-icon-button"> <md-icon class="fa fa-check"></md-icon> <md-tooltip>Respuesta correcta</md-tooltip> </md-button></span> </md-input-container> </div> </div>'),a.put("views/preguntas/editPreguntaDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="height: 40px" class="panel-heading"><span> Editar en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="margin-left: 5px; margin-top: 0px; margin-right: 5px"> <md-select multiple placeholder="Idioma" ng-model="idiomaPreg"> <md-option ng-repeat="idioma in evento_actual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container><a href="" ng-click="mostrarConfig()" ng-show="!mostrarConfiguracion">Configurar</a><a href="" ng-click="mostrarConfig()" ng-show="mostrarConfiguracion">Ocultar</a> </div> <div class="panel-body"> <form name="frm" role="form" ng-submit="finalizarEdicion()" class="form-horizontal"> <div ng-show="mostrarConfiguracion" layout layout-margin layout-wrap layout-padding class="margin0 padding0"> <md-input-container flex="40" class="margintb0 paddingtb0"> <label>Descripción</label> <input type="text" ng-model="preguntaEdit.descripcion"> </md-input-container> <md-input-container flex="20" class="margintb0 paddingtb0"> <label>Duración</label> <input type="number" ng-model="preguntaEdit.duracion"> <md-tooltip>En segundos. Solo para la gran final</md-tooltip> </md-input-container> <md-input-container flex="20" class="margintb0 paddingtb0"> <label>Puntos</label> <input type="number" ng-model="preguntaEdit.puntos"> <md-tooltip>Solo aplica si la evaluación es por puntos y no por promedio.</md-tooltip> </md-input-container> <md-input-container flex="30" layout="row" layout-align="start center" style="margin-top:-20px; height: 50px" class="margintb0 paddingtb0"> <md-select placeholder="Tipo pregunta" ng-model="preguntaEdit.tipo_pregunta" ng-change="cambiaTipoPregunta()" style="min-width: 150px"> <md-option>Test</md-option> <md-option>Multiple</md-option> <md-option>Texto</md-option> <md-option>Lista</md-option> <md-option>Ordenar</md-option> <!--md-option() Cuadrícula // No aplica para pregunta_king, sino para grupos_preguntas--> </md-select> </md-input-container> <div flex="50" style="margin-top:-10px" class="form-group"> <md-checkbox ng-model="preguntaEdit.aleatorias" ng-true-value="1" ng-false-value="0" aria-label="Opciones aleatorias">Opciones aleatorias</md-checkbox> <md-tooltip>No importará el orden en que ordene las opciones. Siempre saldrán aleatoriamente.</md-tooltip> </div> </div> <div ng-if="preguntaEdit.preguntas_traducidas.length &gt; 0" ng-repeat="pregunta_traduc in preguntaEdit.preguntas_traducidas | porIdiomasEdit:idiomaPreg" ng-class-odd="\'fondo-odd\'" ng-class-even="\'fondo-even\'"> <edit-preg-traduc-dir></edit-preg-traduc-dir> </div><span ng-if="!preguntaEdit.preguntas_traducidas"> <edit-preg-traduc-dir></edit-preg-traduc-dir><br></span> <md-button type="button" ng-click="finalizarEdicion()" class="md-raised md-primary right"> <md-tooltip>Guardar y finalizar edición</md-tooltip>Finalizar </md-button> <md-button type="button" ng-click="aplicarCambios()" aria-label="Aplicar" class="md-raised md-default right"> <md-tooltip>Guardar y continuar editando</md-tooltip>Aplicar </md-button> <md-button type="button" ng-click="cerrarEdicion()" aria-label="Cerrar" class="md-raised md-default right"> <md-tooltip>Cerrar edición</md-tooltip>Cerrar </md-button> </form> </div> </div>'),a.put("views/preguntas/misImagenes.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Mis imágenes</h3> </div> <div class="modal-body"> <div class="row hidden-print"> <div class="col-lg-12"> <h4>Mis imágenes</h4> <div style="margin-bottom: 20px" class="btn-group"> <label ng-model="subirImagenes" uib-btn-radio="\'nada\'" class="btn btn-primary">No subir</label> <label ng-model="subirImagenes" uib-btn-radio="\'subir\'" class="btn btn-primary">Subir imágenes</label> <label ng-model="subirImagenes" uib-btn-radio="\'tomar\'" class="btn btn-primary">Tomar foto</label> </div> <div ng-if=" subirImagenes == \'subir\' "> <md-checkbox ng-model="subir_intacta.intacta" aria-label="No modificar imagen al subir" class="md-primary md-align-top-left"> No modificar imagen al subir </md-checkbox> <div class="row mb20"> <div ng-model="imgFiles" ngf-select="upload($files)" ngf-multiple="true" ngf-pattern="\'image/*\'" ngf-accept="\'image/*\'" ngf-max-size="20MB" class="col-md-5 mb15"> <div class="dropzone"> <div class="drop-info"><i class="fa fa-upload"></i> <h3 class="mt0 text-bold">Click aquí</h3> <p>para subir imágenes</p> </div> </div> <input type="file" multiple style="visibility: hidden; position: absolute"> </div> <div class="col-md-7"> <div ng-show="imgFiles.length==0" class="mb20 alert alert-info"><strong>No has seleccionado ningún archivo</strong></div> <div ng-show="errorMsg!=\'\' &amp;&amp; errorMsg!=null" class="mb20 alert alert-info"><strong>{{errorMsg}}</strong></div> <table ng-hide="imgFiles.length==0" style="background: #fff" class="table table-bordered table-condensed table-responsive table-hover"> <thead> <tr> <th>Imagen <th class="col-sm-4">Nombre <th>Peso <th class="col-sm-1">Proceso <th class="col-sm-1">    <tbody> <tr ng-repeat="file in imgFiles"> <td class="text-center"><img ng-src="{{file.dataUrl}}" class="imagen-thumb"> <td class="text-bold">{{file.name}} <td class="small">{{(file.size / 1000000) | number:1 }}MB <td><span ng-show="file.porcentaje==undefined" class="type">Hay problemas</span> <div value="file.porcentaje" type="primary" ng-class="{active: file.isUploading()}" class="progress-xs progress-striped progress"></div> <div ng-class="type &amp;&amp; \'progress-bar-\' + type" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" ng-style="{width: percent + \'%\'}" aria-valuetext="100%" style="width: 100%" class="progress-bar progress-bar-primary"></div>  <td><span ng-click="file.cancel()" role="button" tabindex="0" class="btn btn-xs btn-danger fa fa-times"></span>   </table> </div> </div> </div><span ng-if=" subirImagenes == \'tomar\' "> <div style="margin-bottom: 40px" class="row"> <div class="col-lg-4 col-sm-6"> <ng-camera capture-message="Sonrie!" output-height="320" output-width="426" crop-height="320" crop-width="426" image-format="jpeg" jpeg-quality="100" action-message="Tomar foto" snapshot="vm.picture" flash-fallback-url="/images/webcam.swf" shutter-url="/sounds/shutter.mp3" style="display: inline-block"></ng-camera> </div> <div class="col-lg-7 col-sm-6"> <div class="row"> <div class="col-lg-12 col-sm-12"> <image ng-src="{{vm.picture}}"></image> </div> </div> <div class="row"> <div class="col-lg-12 col-sm-12"> <md-button ng-show="vm.picture" type="button" ng-click="uploadFoto()" aria-label="guardar foto" class="md-raised">Guardar foto</md-button> </div> </div> </div> </div></span> </div> </div> <div class="row hidden-print"> <div style="max-height: 700px; overflow-y: scroll" class="col-lg-12"> <table style="background: #fff" class="table table-bordered table-condensed table-responsive table-hover"> <thead> <tr> <th class="col-sm-3">  <th class="col-sm-1">Imagen <th>Nombre   <tbody> <tr ng-repeat="file in imagenes"> <td style="padding: 0px; text-align: center"> <div class="btn-group"> <button ng-click="borrarImagen(file)" class="btn btn-xs btn-danger fa fa-times"> <md-tooltip>Eliminar imagen</md-tooltip> </button> <button ng-click="asignToUser($event, file)" class="btn btn-xs btn-info fa fa-angle-double-right"> Asignar <md-tooltip>Asinar imagen a usuario</md-tooltip> </button> <button ngclipboard data-clipboard-text="{{imagesPath + file.nombre}}" ngclipboard-success="onCopySuccess(e);" ngclipboard-error="onCopyError(e);" class="btn btn-xs btn-info fa fa-copy"> <md-tooltip>Copiar ruta absoluta de la imagen</md-tooltip> </button> <button ng-click="elegirImagen(file)" class="btn btn-xs btn-primary fa fa-check">Elegir <md-tooltip>Elegir imágen</md-tooltip> </button> </div>  <td style="padding: 0px"> <img ng-src="{{imagesPath + file.nombre}}" style="width:40px;height:40px" class="imagen-thumb"> <td style="padding: 0px" class="text-bold"> {{file.nombre}}   </table> </div> </div> <div style="margin-bottom: 100px" class="row hidden-print"> <div class="col-lg-12"> <div class="panel panel-default panel-hovered mb20"> <div class="panel-heading">Mis imágenes</div> <div class="panel-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <form ng-submit="pedirCambioUsuario(dato.imgUsuario)"> <div class="form-group"> <label>Imagen de usuario</label> <ui-select ng-model="dato.imgUsuario" on-select="imagenSelect($item, $model)" theme="select2" style="min-width: 200px"> <ui-select-match placeholder="Imagen usuario"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> <input type="submit" ng-submit="pedirCambioUsuario(dato.imgUsuario)" value="Cambiar perfil" class="btn btn-primary shiny"> </div> </form> <form ng-submit="cambiarLogo(dato.imgLogo)" ng-show="hasRoleOrPerm(\'admin\')"> <div class="form-group"> <label>Logo del evento actual</label> <ui-select ng-model="dato.imgLogo" on-select="imagenSelect($item, $model)" theme="select2" style="min-width: 200px"> <ui-select-match placeholder="Logo del evento actual"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> <input type="submit" value="Cambiar logo" class="btn btn-primary shiny"> </div> </form> </div> </div> </div> </div> </div> </div> </div> <div class="modal-footer"> <button ng-click="cancel()" class="btn btn-default">Cancelar</button> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> </div>'),a.put("views/preguntas/preguntas.tpl.html",'<div class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="padding: 0; padding-bottom: 5px" class="panel-heading"> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Idioma" ng-model="idiomaPreg.selected"> <md-option ng-repeat="idioma in evento_actual.idiomas" value="{{idioma.id}}"> En {{idioma.original}}</md-option> </md-select> </md-input-container> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Categoría" ng-model="categoria" ng-change="traerPreguntasYEvaluaciones()" class="categoria"><span ng-repeat="catking in categorias"> <md-option ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idiomaPreg.selected" ng-show="cat_traduc.idioma_id==idiomaPreg.selected" value="{{cat_traduc.categoria_id}}"> {{cat_traduc.nombre}} </md-option></span></md-select> </md-input-container> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Evaluaciones" ng-model="evaluacion_id" ng-change="traerPreguntasDeEvaluacion()"> <md-option ng-repeat="evalu in evaluaciones" value="{{evalu.id}}"> {{evalu.id}} - {{evalu.descripcion}} </md-option> <md-option value="0"> Todas </md-option> <md-option value="sin_asignar"> Sin asignar </md-option> </md-select> </md-input-container> <!--md-checkbox(ng-model="showDetail" style="display:inline-block") Detalles--> <input type="text" ng-model="preg_buscar" placeholder="{{ \'BUSCAR_PLACEHOLDER\' | translate }}" class="form-control ancho-200"> </div> <div ng-show="evaluacion_id!=\'sin_asignar\'" class="panel-body"> <div class="row"> <div class="col-lg-12"> <div style="margin-bottom: 20px" class="btn-group"> <label ng-model="showOptions" uib-btn-checkbox class="btn btn-primary">Ver opciones</label> <label ng-model="showCorrects" uib-btn-checkbox class="btn btn-primary">Revelar correctas</label> </div> <button ng-click="cambiarRutaImagenes()" style="margin-bottom: 20px" class="btn btn-default">Rutas</button> </div> </div> <div id="edicionking"> <!-- Editar una pregunta--> <edit-pregunta ng-if="editando"></edit-pregunta> <!-- Editar un grupo--> <edit-contenido ng-if="editandoContenido"></edit-contenido> </div> <div ng-repeat="pg_pregunta in pg_preguntas | filter:preg_buscar " ng-class-odd="\'fondo-gris-odd\'" style="position: relative"> <view-pregunta ng-if="pg_pregunta.is_preg"></view-pregunta> <view-grupo ng-if="!pg_pregunta.is_preg"></view-grupo> </div> <add-pregunta ng-show="inicializado"></add-pregunta> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-4"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout class="panel-heading">Evaluaciones</div> <div class="panel-body"> <md-list-item ng-repeat="evalu in evaluaciones" ng-click="selectEvaluacion(evalu, $event)" ng-class="{\'bg-success\': evalu.selected==true}"> <p> {{evalu.id}} - {{evalu.descripcion}}</p> </md-list-item> </div> </div> </div> <div class="col-sm-12 col-md-8"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout class="panel-heading">Preguntas</div> <div class="panel-body"> <div class="row"> <button ng-click="asignarPreguntasRandom()" style="margin-bottom: 20px; margin-left: 20px" class="btn btn-default">Asignar preguntas</button> </div> <div ng-repeat="pregunta_king in pg_preguntas | pregsByCatsAndEvaluacion:categoria:preguntas_evaluacion2:evalu_seleccionada.id | orderBy:\'orden\' " style="position: relative"> <view-pregunta-eval ng-if="pregunta_king.tipo_pregunta" preguntaking="pregunta_king"></view-pregunta-eval> <view-grupo-eval ng-if="!pregunta_king.tipo_pregunta" grupoking="pregunta_king"></view-grupo-eval> </div> </div> </div> </div> </div>'),a.put("views/preguntas/removePregunta.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta:</h4><span ng-bind-html="pregunta.enunciado" flex="90"></span> <h5>Id: {{pregunta.pg_id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/preguntas/viewPreguntaDir.tpl.html",'<md-whiteframe layout style="padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{$index+1}}.</span><span ng-bind-html="pg_pregunta.enunciado" flex="95"></span> <div ng-show="pg_pregunta.ayuda &amp;&amp; pg_pregunta.showDetail" ng-click="toggleMostrarAyuda(pg_pregunta)" ng-class="{\'ayuda-preg-showed\': pg_pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!pg_pregunta.mostrar_ayuda}"><a ng-show="!pg_pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pg_pregunta.mostrar_ayuda">{{pg_pregunta.ayuda}}</span></div> <div layout="row" class="btn-container-edit"> <div aria-label="..." class="btn-group"> <button type="button" ng-click="editarPregunta(pg_pregunta)" class="btn btn-default"> <i class="fa fa-pencil"></i> <md-tooltip>Editar pregunta</md-tooltip> </button> <button type="button" ng-click="previewPregunta(pg_pregunta)" class="btn btn-default"><i class="fa fa-eye"></i> <md-tooltip>Preview</md-tooltip> </button> <button type="button" ng-click="enviar_pregunta_pantalla(pg_pregunta)" class="btn btn-default"><i class="fa fa-tv"></i> <md-tooltip>Enviar pregunta a pantalla</md-tooltip> </button> <div class="btn-group"> <button type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" class="btn btn-default dropdown-toggle"><i class="fa fa-align-justify"></i><span class="caret"></span></button> <ul class="dropdown-menu dropdown-menu-right"> <li><a href="" ng-click="eliminarPregunta(pg_pregunta)"><i class="fa fa-trash"></i> Eliminar pregunta</a></li> <li><a href="" ng-click="asignarAEvaluacion(pg_pregunta)"><i class="fa fa-clipboard"></i> Asignar a Evaluación</a></li> <li role="separator" class="divider"></li> <li><a href="" ng-click="cambiarCategoria(pg_pregunta)"><i class="fa fa-eye"></i> Cambiar categoría</a></li> <li role="separator" class="divider"></li> <li><a ng-click="selec_opc_in_question(0)">Seleccionar A</a></li> <li><a ng-click="selec_opc_in_question(1)">Seleccionar B</a></li> <li><a ng-click="selec_opc_in_question(2)">Seleccionar C</a></li> <li><a ng-click="selec_opc_in_question(3)">Seleccionar D</a></li> <li><a ng-click="selec_opc_in_question(4)">Seleccionar E</a></li> <li><a ng-click="selec_opc_in_question(5)">Seleccionar F</a></li> <li class="divider"> </li><li><a ng-click="sc_reveal_answer()">Revelar correcta</a></li>  </ul> </div> </div> </div> </md-whiteframe><span ng-show="pg_pregunta.showDetail || showOptions"> <md-list ng-if="pg_pregunta.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pg_pregunta.opciones | filter:{id: \'!-1\'} "> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p ng-bind-html="opcion.definicion"></p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <div layout="row" layout-wrap layout-fill ng-if="pg_pregunta.tipo_pregunta==\'Test\'" style="padding-bottom: 32px" class="opciones"> <md-whiteframe ng-class="{\'elegida\': opcion.elegida, \'correcta-revelada\':opcion.is_correct &amp;&amp; showCorrects}" ng-if="!opcion.nueva" flex="40" ng-click="elegirOpcion(pg_pregunta, opcion)" ng-repeat="opcion in pg_pregunta.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span ng-bind-html="opcion.definicion"> </span></md-whiteframe> </div></span>'),a.put("views/preguntas/viewPreguntaEvalDir.tpl.html",'<md-whiteframe layout style="padding: 10px" ng-class-odd="\'fondo-gris-odd\'" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{$parent.$index+1}}.</span><span ng-bind-html="preguntaking.enunciado" flex="95"></span> <div layout="row" style="margin-left: -50px" class="btn-container-edit"> <md-button aria-label="Preview" ng-click="quitarPregunta(preguntaking)" class="md-icon-button md-mini"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar</md-tooltip> </md-button> </div> </md-whiteframe>'),a.put("views/preguntasAnterior/addPreguntaDir.tpl.html",'<md-button ng-click="addNewPregunta()" ng-disabled="creando" ng-if="tipo==\'king\'" class="md-raised md-primary"> <md-tooltip>{{ \'TIP_BTN_NUEVA_PREGUNTA\' | translate }}</md-tooltip>{{ \'BTN_NUEVA_PREGUNTA\' | translate }} </md-button> <md-button ng-click="addNewPreguntaGrupo()" ng-disabled="creando" ng-if="tipo==\'grupo\'" class="md-raised md-primary"> <md-tooltip>Para crear cuadrículas o preguntas basadas en un contenido común.</md-tooltip>Nuevo grupo preguntas </md-button>'),a.put("views/preguntasAnterior/asignarPregunta.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Seleccione el examen al que desea asignar esta pregunta</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta: {{pregunta.preguntas_traducidas[0].idioma}}</h4> <md-radio-group ng-model="selected"> <md-radio-button ng-repeat="evaluacion in evaluaciones" ng-value="evaluacion.id">{{evaluacion.descripcion}} ({{evaluacion.id}})</md-radio-button> </md-radio-group> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> <md-button ng-click="ok()" ng-disabled="asignando || !selected" class="md-primary md-raised">Asignar<i class="fa fa-check"></i></md-button> </div>'),a.put("views/preguntasAnterior/cambiarCategoria.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Cambiar la categoria</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta: {{pregunta.preguntas_traducidas[0].idioma}} - {{pregunta.preguntas_traducidas[0].definicion}}</h4> <md-radio-group ng-model="categoria"><span ng-repeat="catking in categorias"> <md-radio-button ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idiomaPreg.selected" value="{{cat_traduc.categoria_id}}" aria-label="{{cat_traduc.categoria_id}}"> <div ng-bind-html="cat_traduc.nombre"></div> </md-radio-button></span></md-radio-group> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="cancel()" class="md-raised">Cancelar</md-button> <md-button ng-click="ok()" ng-disabled="cambiando || !categoria" class="md-primary md-raised">Cambiar<i class="fa fa-check"></i></md-button> </div>'),a.put("views/preguntasAnterior/editPregTraducDir.tpl.html",'<a md-ink-ripple class="btn-tag btn-tag-info">Pregunta en {{preguntatraduc.idioma}}</a> <div class="definicion-preg"> <div text-angular ta-toolbar-group-class="btn-group btn-group-xs" ng-model="preguntatraduc.enunciado"></div> <div layout layout-sm="column"> <md-input-container flex class="txtayuda"> <label>Texto ayuda</label> <input type="text" ng-model="preguntatraduc.ayuda"> </md-input-container> </div> <div ui-sortable="sortableOptions" ng-model="preguntatraduc.opciones" class="opcionesedit"> <md-input-container flex ng-repeat="opcion in preguntatraduc.opciones | orderBy:\'orden\'" class="input-group"> <label ng-show="!opcion.nueva"><i class="fa fa-sort"> </i>Opción {{$index+1}}:</label> <input type="text" ng-model="opcion.definicion" ng-class="{ \'textblue\':opcion.is_correct, \'add-opcion\':opcion.nueva }" ng-focus="addButtonNewOpcion(preguntatraduc, opcion)" ng-disable="opcion.creando" class="form-control"><span ng-show="!opcion.nueva" class="input-group-btn"> <md-button type="button" aria-label="Quitar" ng-click="deleteOption(preguntatraduc, opcion)" class="md-icon-button md-warn"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar opción</md-tooltip> </md-button> <md-button type="button" ng-class="{ 1:\'md-mini md-fab md-primary\', 0:\'\'}[opcion.is_correct]" aria-label="Correcta" ng-click="setAsCorrect(preguntatraduc, opcion)" class="md-icon-button"> <md-icon class="fa fa-check"></md-icon> <md-tooltip>Respuesta correcta</md-tooltip> </md-button></span> </md-input-container> </div> </div>'),
a.put("views/preguntasAnterior/editPreguntaDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="height: 40px" class="panel-heading"><span> Editar en idiomas: </span> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: -10px"> <md-select multiple placeholder="Idioma" ng-model="idiomaPreg"> <md-option ng-repeat="idioma in eventoactual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container><a href="" ng-click="mostrarConfig()" ng-show="!mostrarConfiguracion">Configurar</a><a href="" ng-click="mostrarConfig()" ng-show="mostrarConfiguracion">Ocultar</a> </div> <div class="panel-body"> <form name="frm" role="form" ng-submit="finalizarEdicion()" class="form-horizontal"> <div ng-show="mostrarConfiguracion" layout layout-margin layout-wrap layout-padding> <md-input-container flex="40"> <label>Descripción</label> <input type="text" ng-model="preguntaking.descripcion"> </md-input-container> <md-input-container flex="20"> <label>Duración</label> <input type="number" ng-model="preguntaking.duracion"> <md-tooltip>En segundos. Solo para la gran final</md-tooltip> </md-input-container> <md-input-container flex="20"> <label>Puntos</label> <input type="number" ng-model="preguntaking.puntos"> <md-tooltip>Solo aplica si la evaluación es por puntos y no por promedio.</md-tooltip> </md-input-container> <md-input-container flex="30" layout="row" layout-align="start center"> <md-select placeholder="Tipo pregunta" ng-model="preguntaking.tipo_pregunta" ng-change="cambiaTipoPregunta()"> <md-option>Test</md-option> <md-option>Multiple</md-option> <md-option>Texto</md-option> <md-option>Lista</md-option> <md-option>Ordenar</md-option> <!--md-option() Cuadrícula // No aplica para pregunta_king, sino para grupos_preguntas--> </md-select> </md-input-container> <div flex="50" class="form-group"> <md-checkbox ng-model="preguntaking.aleatorias" ng-true-value="1" ng-false-value="0" aria-label="Opciones aleatorias">Opciones aleatorias</md-checkbox> <md-tooltip>No importará el orden en que ordene las opciones. Siempre saldrán aleatoriamente.</md-tooltip> </div> </div> <div ng-repeat="pregunta_traduc in preguntaking.preguntas_traducidas | porIdiomasEdit:idiomaPreg" ng-class-odd="\'fondo-odd\'" ng-class-even="\'fondo-even\'"> <edit-preg-traduc-dir preguntatraduc="pregunta_traduc" preguntaking="preguntaking" eventoactual="eventoactual"></edit-preg-traduc-dir><br> </div> <md-button type="button" ng-click="finalizarEdicion()" class="md-raised md-primary right"> <md-tooltip>Guardar y finalizar edición</md-tooltip>Finalizar </md-button> <md-button type="button" ng-click="aplicarCambios()" aria-label="Aplicar" class="md-raised md-default right"> <md-tooltip>Guardar y continuar editando</md-tooltip>Aplicar </md-button> <md-button type="button" ng-click="cerrarEdicion()" aria-label="Cerrar" class="md-raised md-default right"> <md-tooltip>Cerrar edición</md-tooltip>Cerrar </md-button> </form> </div> </div>'),a.put("views/preguntasAnterior/preguntas.tpl.html",'<div class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout style="padding: 0; padding-bottom: 5px" class="panel-heading"> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Idioma" ng-model="idiomaPreg.selected"> <md-option ng-repeat="idioma in evento_actual.idiomas" value="{{idioma.id}}">{{idioma.original}}</md-option> </md-select> </md-input-container> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Categoría" ng-model="categoria" ng-change="traerPreguntasYEvaluaciones()" class="categoria"><span ng-repeat="catking in categorias"> <md-option ng-repeat="cat_traduc in catking.categorias_traducidas | catsByIdioma:idiomaPreg.selected" ng-show="cat_traduc.idioma_id==idiomaPreg.selected" value="{{cat_traduc.categoria_id}}"> {{cat_traduc.nombre}} </md-option></span></md-select> </md-input-container> <md-input-container layout="row" layout-align="start center" style="padding-bottom: 0px; margin-top: 2px;    margin-bottom: 4px"> <md-select placeholder="Evaluaciones" ng-model="evaluacion_id" ng-change="traerPreguntasDeEvaluacion()"> <md-option ng-repeat="evalu in evaluaciones" value="{{evalu.id}}"> {{evalu.id}} - {{evalu.descripcion}} </md-option> <md-option value="0"> Todas </md-option> <md-option value="sin_asignar"> Sin asignar </md-option> </md-select> </md-input-container> <!--md-checkbox(ng-model="showDetail" style="display:inline-block") Detalles--> <input type="text" ng-model="preg_buscar" placeholder="{{ \'BUSCAR_PLACEHOLDER\' | translate }}" class="form-control ancho-200"> </div> <div ng-show="evaluacion_id!=\'sin_asignar\'" class="panel-body"> <div ng-repeat="pregunta_king in preguntas_king | filter:preg_buscar | pregsByCatsAndEvaluacion:categoria:preguntas_evaluacion:evaluacion_id "> <div ng-show="pregunta_king.editando"><br><br></div> <view-pregunta ng-show="pregunta_king.tipo_pregunta" preguntaking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" eventoactualselec="idiomaPreg.selected" evaluaciones="evaluaciones"></view-pregunta> <view-grupo ng-show="!pregunta_king.tipo_pregunta" grupoking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" idiomaactualselec="idiomaPreg.selected" evaluaciones="evaluaciones"></view-grupo> </div> <add-pregunta preguntasking="preguntas_king" categoria="categoria" tipo="king" ng-show="inicializado"></add-pregunta> <add-pregunta preguntasking="preguntas_king" categoria="categoria" tipo="grupo" ng-show="inicializado"></add-pregunta> </div> <div ng-show="evaluacion_id==\'sin_asignar\'" class="panel-body"> <div ng-repeat="pregunta_king in preguntas_king | filter:preg_buscar | orderBy:\'orden\' "> <div ng-show="pregunta_king.editando"><br><br></div> <view-pregunta ng-show="pregunta_king.tipo_pregunta" preguntaking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" eventoactualselec="idiomaPreg.selected" evaluaciones="evaluaciones"></view-pregunta> <view-grupo ng-show="!pregunta_king.tipo_pregunta" grupoking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" idiomaactualselec="idiomaPreg.selected" evaluaciones="evaluaciones"></view-grupo> <md-divider></md-divider> </div> <add-pregunta preguntasking="preguntas_king" categoria="categoria" tipo="king" ng-show="inicializado"></add-pregunta> <add-pregunta preguntasking="preguntas_king" categoria="categoria" tipo="grupo" ng-show="inicializado"></add-pregunta> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-4"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout class="panel-heading">Evaluaciones</div> <div class="panel-body"> <md-list-item ng-repeat="evalu in evaluaciones" ng-click="selectEvaluacion(evalu, $event)" ng-class="{\'bg-success\': evalu.selected==true}"> <p> {{evalu.id}} - {{evalu.descripcion}}</p> </md-list-item> </div> </div> </div> <div class="col-sm-12 col-md-8"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div layout class="panel-heading">Preguntas</div> <div class="panel-body"> <div ng-repeat="pregunta_king in preguntas_king2 | pregsByCatsAndEvaluacion:categoria:preguntas_evaluacion2:evalu_seleccionada.id | orderBy:\'orden\' "> <view-pregunta-eval ng-if="pregunta_king.tipo_pregunta" preguntaking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" eventoactualselec="idiomaPreg.selected" evaluaciones="evaluaciones" preguntasevaluacion2="preguntas_evaluacion2"></view-pregunta-eval> <view-grupo-eval ng-if="!pregunta_king.tipo_pregunta" grupoking="pregunta_king" indice="$index" idiomapreg="idiomaPreg" eventoactual="evento_actual" idiomaactualselec="idiomaPreg.selected" evaluaciones="evaluaciones" preguntasevaluacion2="preguntas_evaluacion2"></view-grupo-eval> </div> </div> </div> </div> </div>'),a.put("views/preguntasAnterior/removePregunta.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Pregunta ({{pregunta.preguntas_traducidas[0].idioma}}): </h4><span ng-bind-html="pregunta.preguntas_traducidas[0].enunciado" flex="90"></span> <h5>Id: {{pregunta.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-yellow">Cancelar</button> </div>'),a.put("views/preguntasAnterior/viewPreguntaDir.tpl.html",'<div ng-repeat="pregunta in preguntaking.preguntas_traducidas | porIdioma:idiomapreg.selected" ng-class-odd="\'fondo-gris-odd\'"> <div ng-show="!preguntaking.editando"> <md-whiteframe layout style="padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{indice+1}}.</span><span ng-bind-html="pregunta.enunciado" flex="95"></span> <div ng-show="pregunta.ayuda &amp;&amp; preguntaking.showDetail" ng-click="toggleMostrarAyuda(pregunta)" ng-class="{\'ayuda-preg-showed\': pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta.mostrar_ayuda}"><a ng-show="!pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta.mostrar_ayuda">{{pregunta.ayuda}}</span></div> <div layout="row" class="btn-container-edit"> <!--md-button.md-default.md-raised(ng-click="editarPregunta(preguntaking)") Editar--> <md-button aria-label="Editar" ng-click="editarPregunta(preguntaking)" class="md-fab md-primary md-mini"> <md-icon class="fa fa-pencil"></md-icon> <md-tooltip>Editar pregunta</md-tooltip> </md-button> <md-button aria-label="Preview" ng-click="previewPregunta(preguntaking)" class="md-icon-button md-mini"> <md-icon class="fa fa-eye"></md-icon> <md-tooltip>Preview</md-tooltip> </md-button> <md-menu style="padding:0"> <md-button aria-label="Opciones de la pregunta" ng-click="$mdOpenMenu($event)" class="md-icon-button"> <md-icon md-menu-origin class="fa fa-align-justify"></md-icon> </md-button> <md-menu-content> <md-menu-item> <md-button ng-click="eliminarPregunta(preguntaking)"> <md-icon md-menu-align-target class="fa fa-trash"></md-icon>Eliminar pregunta </md-button> </md-menu-item> <md-menu-item> <md-button ng-click="asignarAEvaluacion(preguntaking)"> <md-icon class="fa fa-clipboard"></md-icon>Asignar a Evaluación </md-button> </md-menu-item> <md-menu-divider></md-menu-divider> <md-menu-item> <md-button ng-click="cambiarCategoria(preguntaking)"> <md-icon class="fa fa-eye"></md-icon>Cambiar categoría </md-button> </md-menu-item> </md-menu-content> </md-menu> </div> </md-whiteframe><span ng-show="preguntaking.showDetail"> <md-list ng-if="preguntaking.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pregunta.opciones | filter:{id: \'!-1\'} "> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p ng-bind-html="opcion.definicion"> </p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <div layout="row" layout-wrap layout-fill ng-if="preguntaking.tipo_pregunta==\'Test\'" style="padding-bottom: 32px" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida}" ng-if="!opcion.nueva" flex="40" ng-click="elegirOpcion(pregunta, opcion)" ng-repeat="opcion in pregunta.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span ng-bind-html="opcion.definicion"> </span></md-whiteframe> </div></span> </div> <edit-pregunta preguntaking="preguntaking" ng-show="preguntaking.editando" eventoactual="eventoactual" eventoactualselec="{{eventoactualselec}}"></edit-pregunta> </div>'),a.put("views/preguntasAnterior/viewPreguntaEvalDir.tpl.html",'<div ng-repeat="pregunta in preguntaking.preguntas_traducidas | porIdioma:idiomapreg.selected" ng-class-odd="\'fondo-gris-odd\'"> <div ng-show="!preguntaking.editando"> <md-whiteframe layout style="padding: 10px" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{indice+1}}.</span><span ng-bind-html="pregunta.enunciado" flex="95"></span> <div ng-show="pregunta.ayuda &amp;&amp; preguntaking.showDetail" ng-click="toggleMostrarAyuda(pregunta)" ng-class="{\'ayuda-preg-showed\': pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta.mostrar_ayuda}"><a ng-show="!pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta.mostrar_ayuda">{{pregunta.ayuda}}</span></div> <div layout="row" style="margin-left: -50px" class="btn-container-edit"> <md-button aria-label="Preview" ng-click="quitarPregunta(preguntaking)" class="md-icon-button md-mini"> <md-icon class="fa fa-times"></md-icon> <md-tooltip>Quitar</md-tooltip> </md-button> </div> </md-whiteframe> </div> </div>'),a.put("views/proyectando/grafico_barras.tpl.html",'<div class="grafico-container"> <div layout="column" class="wrapper-grafico"> <h1 class="txt-borde-blanco">Progreso de participantes</h1> <div id="chart" layout="row" layout-align="space-around end"> <div style="height: {{ calc_porcentaje(cliente.respondidas) }}%" ng-repeat="cliente in participantes_actuales()" class="bar barc{{ calc_indice($index+1) }}"> <text>{{cliente.respondidas}}</text> </div> </div> <div layout="row" layout-align="space-around start" class="labels-barchart"> <text ng-repeat="cliente in SocketClientes.clientes | filter:participantes_en_categorias()"> <div class="etiqueta-grafico">{{cliente.usuario.nombres}}</div> </text> </div> </div> </div>'),a.put("views/proyectando/participantes.tpl.html",'<div class="categorias-container"> <div ng-repeat="categoria_traduc in $parent.categorias_traducidas " ng-class="{\'categ-retirada\': participantesDeCategoria(categoria_traduc).length == 0}" class="categ-container"> <div class="title-categ-container txt-borde-blanco">{{ categoria_traduc.nombre }}</div> <div class="participantes-container"> <ul style="display: inline-flex;writing-mode: vertical-lr;flex-wrap: wrap;align-content: flex-start;height: 100%"> <li ng-repeat="cliente in SocketClientes.clientes | filter:{\'logged\':true, \'categsel\':categoria_traduc.categoria_id }:true | orderParticipantes " ng-class="{\'correct\': cliente.answered==\'correct\', \'incorrect\': cliente.answered==\'incorrect\' }" style="writing-mode: horizontal-tb; width: auto; border-radius: 8px; margin-right: 4px; max-height: 60px" class="md-whiteframe-1dp sc-cliente"> <div style="border-radius: 8px 0 0 8px" class="sc-cliente-imgs"><img ng-src="{{imagesPath + cliente.user_data.imagen_nombre}}" alt="{{cliente.user_data.username}}" class="img-perfil"><img ng-class="{\'showing-logo-ent-part\': SocketData.config.show_logo_entidad_partici}" ng-src="{{ imagesPath + cliente.user_data.entidad.logo}}" alt="{{cliente.user_data.username}}" class="img-entidad"> <md-tooltip>{{ cliente.user_data.entidad.nombre }}</md-tooltip> </div> <div ng-class="{\'ancho-sc-info\': $parent.categorias_traducidas.length&lt;3 }" class="sc-info"> <h5 style="font-weight: 700; font-size: 14pt; margin-bottom: 4px; margin-left: -4px" class="name nombresellipsis">{{ ($index+1) + \'. \' + cliente.user_data.nombres}} {{cliente.user_data.apellidos}} <md-tooltip>{{ ($index+1) + \'. \' + cliente.user_data.nombres}} {{cliente.user_data.apellidos}}</md-tooltip> </h5> <div class="alias-enti">{{cliente.user_data.entidad.alias}}</div> </div> </li> </ul> </div> </div> </div>'),a.put("views/proyectando/proyectando.tpl.html",'<div class="container-proyector"> <header id="site-head" ng-include=" \'views/panel/header.tpl.html\' " class="hidden-print proyector-head site-head"></header> <!-- main-container--> <div class="main-container clearfix nav-expand"> <div style="width: 100%; margin-left: 0px; margin-top: -70px" class="content-container fixedHeader"> <div style="padding: 0px; background-color: white; height: 102vh; overflow: auto" class="page page-dashboard"> <div ui-view="contenido_panel" style="height: 100%; text-align:center; background-size: 100% 100%; background-position: center; background-size: cover; background-image: url(\'{{imagesPath + SocketData.config.info_evento.img_name}}\')" class="page-wrap proyectando"> <h2 style="padding: 8px; margin-top: 70px" ng-bind-html="SocketData.config.info_evento.msg_teleprompter" class="txt-borde-blanco"> </h2> </div> </div> </div> </div> </div>'),a.put("views/proyectando/puntajeParticip.tpl.html",'<div class="puntaje-container"> <header class="row"> <div style="text-align: center" ng-show="SocketData.config.puntaje_to_show" class="col-md-12 col-sm-12"><img ng-src="{{ imagesPath + SocketData.config.puntaje_to_show.logo_nombre }}" style="width: 120px; margin-left: 7px; margin-top: 30px"> <!--div(style="font-size: 15pt; font-weight: bold; position: absolute; left: calc(50% - 20px);")\n      | {{ SocketData.config.puntaje_to_show.alias_entidad }}\n      \n      --> </div> </header> <div style="" class="puntaje-content"> <div class="indexHead"></div> <div ng-show="SocketData.config.puntaje_to_show"> <div class="row"> <div style="text-align: center" class="col-md-12 col-sm-12"> <h2 style="margin-left:10px; font-size: 30pt"> <span style="font-size: 70pt">{{ SocketData.config.puntaje_to_show.puesto }}º </span><span style="margin-left: -40px">puesto - {{ SocketData.config.puntaje_to_show.nombre_categ }}</span></h2> </div> </div> <div class="row"> <div class="col-md-7 col-sm-7 col-xs-7"> <h1 style="margin-top: 50px; color: blue; margin-bottom: 0px; width: 140%; text-overflow: ellipsis; white-space: nowrap; overflow: hidden; font-weight: 900" class="txt-borde-blanco">{{ SocketData.config.puntaje_to_show.nombres + \' \' + SocketData.config.puntaje_to_show.apellidos }}</h1> <h1 style="width: 140%; margin-top: 0px; text-overflow: ellipsis; white-space: nowrap; overflow: hidden" class="txt-borde-blanco">{{ SocketData.config.puntaje_to_show.alias_entidad }}</h1> </div> <div class="col-md-5 col-sm-5 col-xs-5 center"><img ng-src="{{ imagesPath + SocketData.config.puntaje_to_show.imagen_nombre }}" style="width: 200px"></div> </div> <div class="row"> <div style="font-size:20pt; line-height: 1.2" class="col-md-6 col-sm-6 col-xs-6 txt-borde-blanco">Preguntas: {{ SocketData.config.puntaje_to_show.resultados.cantidad_pregs }}<br>Incorrectas: {{ SocketData.config.puntaje_to_show.resultados.cantidad_pregs - SocketData.config.puntaje_to_show.resultados.correctas }}<br>Correctas: {{ SocketData.config.puntaje_to_show.resultados.correctas }}<br>Tiempo: {{ SocketData.config.puntaje_to_show.resultados.tiempo | secondsToDateTime:true }}</div> <div class="col-md-6 col-sm-6 col-xs-6 center"> <h1 style="font-size:80pt; color: white; text-shadow: 4px 4px 2px rgb(21, 33, 33); margin-top: 10px">{{ SocketData.config.puntaje_to_show.resultados.promedio | decimales_if:1 }}%</h1> </div> </div> </div> </div> </div>'),a.put("views/proyectando/question.tpl.html",'<h2 ng-show="SocketData.config.pregunta.cantidad_pregs == -1" style="text-align: center; color: blue" class="txt-borde-blanco">{{ SocketData.config.pregunta.nombre_categ }}</h2> <h2 ng-hide="SocketData.config.pregunta.cantidad_pregs == -1" style="text-align: center; color: blue" class="txt-borde-blanco">{{ SocketData.config.pregunta.nombre_categ + \' (\' + SocketData.config.no_question + \' de \' + SocketData.config.pregunta.cantidad_pregs + \')\' }}</h2> <div style="font-size: 25pt"> <md-whiteframe layout style="padding: 10px; position: relative; background: white; opacity: 0.9" class="md-whiteframe-z2 definicion-frame"><span style="font-weight: bold" ng-hide="SocketData.config.no_question == -1">{{SocketData.config.no_question}}. </span><span ng-bind-html="SocketData.config.pregunta.enunciado"></span> <div ng-show="SocketData.config.pregunta.ayuda" ng-click="toggleMostrarAyuda(SocketData.config.pregunta)" ng-class="{\'ayuda-preg-showed\': SocketData.config.pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!SocketData.config.pregunta.mostrar_ayuda}"><a ng-show="!SocketData.config.pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="SocketData.config.pregunta.mostrar_ayuda">{{SocketData.config.pregunta.ayuda}}</span></div> </md-whiteframe> <!-- Opciones checkbox para seleccionar varios--> <md-list ng-if="SocketData.config.pregunta.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in SocketData.config.pregunta.opciones"> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p ng-bind-html="opcion.definicion"> </p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <!-- Opciones de tipo ICFES--> <div layout="row" layout-wrap layout-fill ng-if="SocketData.config.pregunta.tipo_pregunta==\'Test\'" style="padding-bottom: 32px; justify-content: center; opacity: 0.9" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida, \'revelada_acertada\': opcion.revelada_acertada, \'revelada_no_acertada\': opcion.revelada_no_acertada }" flex="45" ng-click="elegirOpcion(SocketData.config.pregunta, opcion, $index)" ng-repeat="opcion in SocketData.config.pregunta.opciones" style="font-size: 20pt" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span ng-bind-html="opcion.definicion"> </span></md-whiteframe> </div> </div><br><br><br><br> <md-divider></md-divider><br><br>'),a.put("views/proyectando/viewPreguntaShow.tpl.html",'<div ng-repeat="pregunta in preguntaking.preguntas_traducidas | porIdioma:idiomapreg"> <md-whiteframe layout style="padding: 10px; position: relative" class="md-whiteframe-z2 definicion-frame"><span flex="5">{{indice}}.</span><span ng-bind-html="pregunta.enunciado" flex="95"></span> <div ng-show="pregunta.ayuda" ng-click="toggleMostrarAyuda(pregunta)" ng-class="{\'ayuda-preg-showed\': pregunta.mostrar_ayuda, \'ayuda-preg-hidded\':!pregunta.mostrar_ayuda}"><a ng-show="!pregunta.mostrar_ayuda"><i class="fa fa-anchor"></i></a><span ng-show="pregunta.mostrar_ayuda">{{pregunta.ayuda}}</span></div> </md-whiteframe> <!-- Opciones checkbox para seleccionar varios--> <md-list ng-if="preguntaking.tipo_pregunta==\'Multiple\'"> <md-list-item ng-repeat="opcion in pregunta.opciones"> <md-checkbox ng-model="topping.wanted"></md-checkbox> <p ng-bind-html="opcion.definicion"> </p> <md-icon ng-click="" aria-label="Chat" class="md-secondary fa fa-comment"></md-icon> </md-list-item> </md-list> <!-- Opciones de tipo ICFES--> <div layout="row" layout-wrap layout-fill ng-if="preguntaking.tipo_pregunta==\'Test\'" style="padding-bottom: 32px; justify-content: center" class="opciones"> <md-whiteframe ng-class="{\'elegida\':opcion.elegida}" ng-if="!opcion.nueva" flex="45" ng-click="elegirOpcion(pregunta, opcion, $index)" ng-repeat="opcion in pregunta.opciones" class="pointer md-whiteframe-z2 btn"> <span style="font-weight: bold">{{ indexChar($index) }}. </span><span ng-bind-html="opcion.definicion"> </span></md-whiteframe> </div> </div><br><br><br><br> <md-divider></md-divider><br><br>'),a.put("views/qrcode/qrScanner.tpl.html",'<div class="page page-auth"> <div style="max-width: 450px;padding-left: 0px;padding-right: 0px" class="auth-container"> <div class="form-head mb20"> <h1 class="site-logo h2 mb5 mt5 text-center text-uppercase text-bold"><a href="">QR Scanner </a></h1> <h5 class="text-normal h5 text-center">Coloca el código frente a la cámara</h5> </div> <div style="text-align: center" class="form-container"> <section> <md-subheader class="md-primary">Usuarios <md-input-container flex class="filtrarusuario"> <label>Filtrar</label> <input type="text" ng-model="filtro"> </md-input-container> </md-subheader> <md-list style="max-height: 500px; overflow-y: auto" class="md-dense"> <md-list-item ng-repeat="usuario in usuarios | filter:filtro | orderBy:\'nombres\' " ng-click="seleccionarUsu(usuario)" class="md-2-line"><img ng-src="{{imagesPath + usuario.imagen_nombre}}" alt="{{usuario.username}}" class="md-avatar"> <div aria-label="Seleccionado{{ ($index+1) + usuario.nombres}}" class="md-list-item-text"> <h3>{{ ($index+1) + \'. \' + usuario.nombres + \' \' + usuario.apellidos}}</h3> <h4>{{ usuario.nombre_entidad }}</h4> </div> <md-checkbox ng-model="usuario.seleccionado" ng-click="seleccionarCkUsu(usuario)" aria-label="Seleccionado{{ ($index+1) + usuario.nombres}}"></md-checkbox> </md-list-item> </md-list> </section> <md-divider></md-divider> <qr-scanner width="400" height="300" ng-success="onSuccess(data)" ng-error="onError(error)"></qr-scanner> </div> </div> </div>'),a.put("views/usuarios/cambiarEntidadUsuario.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Cambiar entidad de {{usuario.nombres}}</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Actual: {{usuario.entidad_id | nombreEntidad:entidades:false}} ({{usuario.entidad_id | nombreEntidad:entidades:true}})</h4> <md-radio-group ng-model="usuario.entidad_id"> <md-radio-button ng-repeat="entidad in entidades_extras" ng-value="entidad.id" ng-click="seleccionar(entidad)">{{entidad.nombre}} ({{entidad.alias}})</md-radio-button> </md-radio-group> </div> </div> </div> <div class="modal-footer"> <button ng-click="cancel()" class="btn btn-default">Cancelar</button> </div>'),a.put("views/usuarios/gridUsuariosDir.tpl.html",'<div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Usuarios </div> <div class="panel-body"> <div class="row"> <div class="col-md-9"> <div id="grid1" ui-grid="gridOptions" ui-grid-selection ui-grid-edit ui-grid-resize-columns style="height: 600px" class="grid"></div> </div> <div class="col-md-3"><span ng-show="currentusers.length == 1"> <md-select ng-model="currentusers[0].nivel_id" placeholder="Niveles"> <md-option ng-value="nivel.nivel_id" ng-repeat="nivel in nivelesking | nivelesTraducidos:idioma">{{nivel.nombre}}</md-option> <md-option value="-1">Todos</md-option> </md-select></span> <md-content style="max-height: 520px" class="alto-inscribir"> <md-list> <md-subheader class="md-no-sticky">Inscripción rápida</md-subheader> <md-list-item ng-repeat="categoriaking in categorias_inscripcion | listaCategsDelUsuarioSegunNivel:currentusers[0].nivel_id "> <md-checkbox ng-model="categoriaking.selected" ng-change="cambiaInscripcion(categoriaking, currentusers)" aria-label="Categoria" ng-disabled="categoriaking.cambiando"></md-checkbox><span ng-show="categoriaking.algunos">*</span><span>{{categoriaking.abrev }}</span> <div aria-label="Comentario inútil" ng-click="" class="fa fa-comments-o md-secondary"></div> </md-list-item> </md-list> </md-content> </div> </div> </div> </div>'),a.put("views/usuarios/popoverUsuarioInfo.tpl.html",'<div><img ng-src="{{perfilPath + examen.imagen_nombre}}" alt="Imagen de usuario" style="width: 100px; height: 100px"><br>Usuario: <b>{{examen.username}}</b></div>'),a.put("views/usuarios/removeUsuario.tpl.html",'<div class="modal-header"> <h3 class="modal-title">¿Seguro que deseas eliminar?</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4 ng-bind-html="usuario.nombres + \' \' + usuario.apellidos" flex="90"></h4> <div ng-bind-html="\'Entidad: \' + (usuario.entidad_id|nombreEntidad:entidades)" flex="90"></div> <h5>Id: {{usuario.id}}</h5> </div> </div> </div> <div class="modal-footer"> <button ng-click="ok()" class="btn btn-labeled btn-danger">Eliminar<i class="btn-label fa fa-times"></i></button> <button ng-click="cancel()" class="btn btn-default">Cancelar</button> </div>'),a.put("views/usuarios/sidenavSelectPCDir.tpl.html",'<md-sidenav md-component-id="sidenavSelectPC" style="width: 600px" class="md-sidenav-right md-whiteframe-4dp"> <md-toolbar style="margin-top: 50px" class="md-theme-light"> <h1 class="md-toolbar-tools">Seleccione equipo</h1> </md-toolbar> <md-content layout-padding> <section> <md-subheader class="md-primary"> <md-input-container flex class="filtrarusuario"> <label>Filtrar</label> <input type="text" ng-model="filtro"> </md-input-container> <button type="button" ng-click="ingresar_seleccionado()" class="btn btn-primary">Ingresar</button> </md-subheader> <md-list class="md-dense"> <span ng-repeat="cliente in SocketClientes.clientes | filter:filtro | orderBy:\'nombre_punto\'"> <md-list-item ng-if="cliente.registrado" class="md-2-line itemselectpc-busy"> <header class="fotoselectpc"><img ng-src="{{imagesPath + cliente.usuario.imagen_nombre}}" alt="{{cliente.usuario.username}}" class="img-perfil nodrag"><img ng-src="{{ imagesPath + cliente.usuario.entidad.logo}}" alt="{{cliente.usuario.username}}" class="img-entidad nodrag"> <md-tooltip>{{cliente.usuario.entidad.nombre}}</md-tooltip> </header> <div class="info"> <h5 class="name text-center nombresellipsis">{{cliente.usuario.nombres}} {{cliente.usuario.apellidos}} <md-tooltip>{{cliente.usuario.username}}</md-tooltip> </h5> <div class="alias-enti">{{ cliente.nombre_punto }} - {{cliente.usuario.entidad.alias}} <md-tooltip>Nombre de punto y Entidad</md-tooltip> </div> </div> </md-list-item> <md-list-item ng-dblclick="ingresar_seleccionado(cliente)" ng-if="!cliente.registrado" class="md-2-line"> <div class="info"> <h5 ng-model="cliente.nombre_punto" contenteditable guardar-nombre-punto="guardarNombrePunto">{{ cliente.nombre_punto }} <md-tooltip>Nombre de punto</md-tooltip> </h5> </div> </md-list-item></span></md-list> </section> </md-content> </md-sidenav>'),a.put("views/usuarios/usuarios.tpl.html",'<md-button ng-click="empezarCrear()" ng-show="!creando" class="md-raised md-primary">Nuevo usuario</md-button> <sidenav-select-pc-dir id="sidenavSelectPC"></sidenav-select-pc-dir> <div ng-show="creando" class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Nuevo </div> <div style="padding-top: 30px" class="panel-body"> <form ng-submit="guardarNuevo()" name="frm" role="form" class="form-horizontal"> <div class="row"> <div class="col-md-8"> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Nombre</label> <input type="text" ng-model="newUsu.nombres" name="nombres" required> </md-input-container> <md-input-container flex class="margintb0"> <label>Apellidos</label> <input type="text" ng-model="newUsu.apellidos"> </md-input-container> </div> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Username</label> <input type="text" ng-model="newUsu.username" required> </md-input-container> <md-input-container flex class="margintb0"> <label>Contraseña</label> <input type="text" ng-model="newUsu.password" required> </md-input-container> </div> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Email</label> <input type="text" ng-model="newUsu.email"> </md-input-container> <md-input-container flex class="margintb0"> <label>Celular</label> <input type="text" ng-model="newUsu.cell"> </md-input-container> <md-input-container flex class="margintb0"> <label>Edad</label> <input ng-model="newUsu.edad" type="text"> </md-input-container> </div> <div class="row"> <div class="col-md-8"> <div class="form-group"> <label class="control-label col-md-3">Sexo</label> <div class="col-md-9"> <md-radio-group ng-model="newUsu.sexo"> <md-radio-button ng-value="avatar.masculino.abrev" aria-label="{{avatar.masculino.def}}" class="rd-gender"><img ng-src="{{avatar.masculino.img}}" class="img-gender"> <md-tooltip>Masculino</md-tooltip> </md-radio-button> <md-radio-button ng-value="avatar.femenino.abrev" aria-label="{{avatar.femenino.def}}" class="rd-gender"><img ng-src="{{avatar.femenino.img}}" class="img-gender"> <md-tooltip>Femenino</md-tooltip> </md-radio-button> </md-radio-group> </div> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div style="padding-left: 15px" class="form-group"> <label>Imagen</label> <button type="button" ng-click="misImagenes()" style="float: right;margin-right: 20px" class="btn btn-primary fa fa-image btn-xs"> Imágenes...</button> <ui-select ng-model="newUsu.imgUsuario" on-select="imagenSelect($item, $model)" theme="select2" style="width: 95%"> <ui-select-match placeholder="Imagen usuario"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> <ui-select-no-choice><img ng-src="{{imagesPath + \'perfil/system/avatars/no-photo.jpg\'}}" style="width:25px; height:25px"><small ng-bind-html="\' Sin foto \'"></small></ui-select-no-choice> </ui-select> </div> </div> </div> </div> <div class="col-md-4"> <div style="padding-left: 15px" class="form-group"> <label>Entidad</label> <ui-select ng-model="newUsu.entidad" theme="select2" style="width: 95%"> <ui-select-match placeholder="Entidad"> <img ng-src="{{perfilPath + $select.selected.logo_nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="entidad in entidades"><img ng-src="{{perfilPath + entidad.logo_nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + entidad.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> <md-select ng-model="newUsu.nivel_id" placeholder="Niveles" ng-change="cambiaNivelNewUsu()"> <md-option ng-value="nivel.nivel_king_id" ng-repeat="nivel in niveles_king | nivelesTraducidos:$parent.evento_actual.idioma_principal_id">Nivel {{nivel.nombre}}</md-option> <md-option value="-1">Todos</md-option> </md-select> <md-content class="alto-inscribir"> <md-list> <md-subheader class="md-no-sticky">Inscribir en:</md-subheader> <md-list-item ng-repeat="categoria in categorias_king1 | categoriasTraducidas:$parent.evento_actual.idioma_principal_id:newUsu.nivel_id"> <md-checkbox ng-checked="checkeandoCategorias(categoria, newUsu.inscripciones)" ng-click="toggle(categoria, newUsu.inscripciones)"></md-checkbox> <p>{{categoria.nombre}}</p> </md-list-item> </md-list> </md-content> </div> </div> <div class="clearfix right"> <md-button type="button" ng-click="guardarNuevoYLogin()" ng-disabled="guardando" class="md-primary">Guardar y enviar</md-button> <md-button type="submit" ng-disabled="guardando" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelarNuevo()" class="md-default">Cancelar</md-button> </div> </form> </div> </div> </div> </div> <div ng-show="editando" class="row"> <div class="col-sm-12 col-md-12"> <div class="panel panel-default panel-hovered panel-stacked mb20"> <div class="panel-heading"> Editar a {{currentUser.nombres}} </div> <div style="padding-top: 30px" class="panel-body"> <form ng-submit="guardarEdicion()" name="frmEdit" role="form" class="form-horizontal"> <div class="row"> <div class="col-md-8"> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Nombre</label> <input type="text" ng-model="currentUser.nombres" name="nombres" required> </md-input-container> <md-input-container flex class="margintb0"> <label>Apellidos</label> <input type="text" ng-model="currentUser.apellidos"> </md-input-container> </div> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Username</label> <input type="text" ng-model="currentUser.username" required> </md-input-container> <md-input-container flex class="margintb0"> <label>Contraseña</label> <input type="text" ng-model="currentUser.password"> </md-input-container> </div> <div layout layout-sm="column"> <md-input-container flex class="margintb0"> <label>Email</label> <input type="text" ng-model="currentUser.email"> </md-input-container> <md-input-container flex class="margintb0"> <label>Celular</label> <input type="text" ng-model="currentUser.cell"> </md-input-container> <md-input-container flex class="margintb0"> <label>Edad</label> <input ng-model="currentUser.edad" type="text"> </md-input-container> </div> <div class="row"> <div class="col-md-8"> <div class="form-group"> <label class="control-label col-md-3">Sexo</label> <div class="col-md-9"> <md-radio-group ng-model="currentUser.sexo"> <md-radio-button ng-value="avatar.masculino.abrev" aria-label="{{avatar.masculino.def}}" class="rd-gender"><img ng-src="{{avatar.masculino.img}}" class="img-gender"> <md-tooltip>Masculino</md-tooltip> </md-radio-button> <md-radio-button ng-value="avatar.femenino.abrev" aria-label="{{avatar.femenino.def}}" class="rd-gender"><img ng-src="{{avatar.femenino.img}}" class="img-gender"> <md-tooltip>Femenino</md-tooltip> </md-radio-button> </md-radio-group> </div> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div style="padding-left: 15px" class="form-group"> <label>Imagen</label> <button type="button" ng-click="misImagenes()" style="float: right;margin-right: 20px" class="btn btn-primary fa fa-image btn-xs"> Imágenes...</button> <ui-select ng-model="currentUser.imgUsuario" on-select="imagenSelect($item, $model)" theme="select2" style="width: 95%"> <ui-select-match placeholder="Imagen usuario"> <img ng-src="{{imagesPath + $select.selected.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="imagen in imagenes | filter: {nombre: $select.search}"><img ng-src="{{imagesPath + imagen.nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + imagen.nombre | highlight: $select.search"></small></ui-select-choices> <ui-select-no-choice><img ng-src="{{imagesPath + \'perfil/system/avatars/no-photo.jpg\'}}" style="width:25px; height:25px"><small ng-bind-html="\' Sin foto \'"></small></ui-select-no-choice> </ui-select> </div> </div> </div> </div> <div class="col-md-4"> <div style="padding-left: 15px" class="form-group"> <label>Entidad</label> <ui-select ng-model="currentUser.entidad" theme="select2" style="width: 95%"> <ui-select-match placeholder="Entidad"> <img ng-src="{{perfilPath + $select.selected.logo_nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + $select.selected.nombre"></small></ui-select-match> <ui-select-choices repeat="entidad in entidades"><img ng-src="{{perfilPath + entidad.logo_nombre}}" style="width:25px; height:25px"><small ng-bind-html="\' \' + entidad.nombre | highlight: $select.search"></small></ui-select-choices> </ui-select> </div> <md-select ng-model="currentUser.nivel_id" placeholder="Niveles"> <md-option ng-value="nivel.nivel_king_id" ng-repeat="nivel in niveles_king | nivelesTraducidos:$parent.evento_actual.idioma_principal_id">Nivel {{nivel.nombre}}</md-option> <md-option value="-1">Todos</md-option> </md-select> <md-content class="alto-inscribir"> <md-list> <md-subheader class="md-no-sticky">Inscribir en:</md-subheader> <md-list-item ng-repeat="categoria in categorias_inscripcion | listaCategsDelUsuarioSegunNivel:currentUser.nivel_id "> <md-checkbox ng-model="categoria.selected" ng-change="cambiaInscripcion(categoria, currentUsers)" aria-label="Categoria" ng-disabled="categoria.cambiando"></md-checkbox> <p>{{categoria.nombre}}</p> <div aria-label="Comentario inútil" ng-click="" class="fa fa-comments-o md-secondary"></div> </md-list-item> </md-list> </md-content> </div> </div> <div class="clearfix right"> <md-button type="submit" ng-disabled="guardando" class="md-primary">Guardar</md-button> <md-button type="button" ng-click="cancelarEdicion()" class="md-default">Cancelar</md-button> </div> </form> </div> </div> </div> </div> <div class="row"> <div class="col-sm-12 col-md-12"> <grid-usuarios currentusers="currentUsers" nivelesking="niveles_king" usuarios="usuarios" categoriasking="categorias_king2" idioma="$parent.evento_actual.idioma_principal_id"></grid-usuarios> </div> </div>'),
a.put("views/usuarios/verRoles.tpl.html",'<div class="modal-header"> <h3 class="modal-title">Roles del usuario</h3> </div> <div class="modal-body"> <div class="row"> <div class="col-lg-12 col-xs-12"> <h4>Usuario: </h4> <div style="text-overflow: ellipsis">{{usuario.nombres}} {{usuario.apellidos}}</div> <h5>Id: {{usuario.id}}</h5> <div class="horizontal-space"></div> <div class="form-group"> <label>Elija Roles</label> <ui-select multiple ng-model="datos.selecteds" theme="select2" style="width:100%" on-select="seleccionando($item, $model)" on-remove="quitando($item, $model)"> <ui-select-match placeholder="Selecciona roles...">{{$item.name}}</ui-select-match> <ui-select-choices repeat="rol in roles | filter: $select.search.name"> <div ng-bind-html="rol.name | highlight: $select.search"></div> </ui-select-choices> </ui-select> </div> </div> </div> </div> <div class="modal-footer"> <md-button ng-click="ok()" class="md-raised md-primary">Aceptar<i class="fa fa-check"></i></md-button> </div>')}]);